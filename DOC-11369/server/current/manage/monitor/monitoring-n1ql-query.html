<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>Monitor Queries | Couchbase Docs</title>
<link rel="stylesheet" href="../../../../_/css/site.css">
<script src="../../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="Monitoring and profiling SQL++ queries, query service engines, and corresponding system resources is very important for smoother operational performance and efficiency of the system.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.6">
<meta name="page-url" content="/server/current/manage/monitor/monitoring-n1ql-query.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://rayoffiah.github.io/DOC-9195/home/index.html">
                    <img src="../../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://rayoffiah.github.io/DOC-9195/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
<div class="components">
  <div class="components_group-title">
    <a href="../../../../home/server.html">Server</a>
  </div>
  <ul class="components_list">
    <li class="components_list-items">
      <div class="component_list-version">
        <span class="component_list_title">Couchbase Server</span>
        <select class="version_list" data-component="server">
          <option value="7.6" data-url="../../introduction/intro.html" selected>7.6 Prerelease</option>
        </select>
      </div>
      <div class="version_items hide" data-version="7.6">
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Introduction</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../introduction/why-couchbase.html">Why Couchbase?</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../introduction/whats-new.html">What&#8217;s New?</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../developer-preview/preview-mode.html">Developer Preview Mode</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Get Started</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../getting-started/start-here.html">Start Here!</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../getting-started/do-a-quick-install.html">Do a Quick Install</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../getting-started/look-at-the-results.html">Explore the Server Configuration</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../getting-started/try-a-query.html">Run Your First SQL++ Query</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../getting-started/choose-your-next-steps.html">Choose Your Next Steps</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../../../home/sdk.html">SDKs</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../../../sdk-extensions/distributed-acid-transactions.html">Distributed ACID Transactions</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../../../sdk-extensions/field-level-encryption.html">Field Level Encryption</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../../../sdk-extensions/response-time-observability.html">Response Time Observability</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../../../sdk-extensions/spring-data-couchbase.html">Spring Data Couchbase</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../getting-started/starter-kits.html">Starter Kits</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Learn</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/architecture-overview.html">Overview</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/glossary.html">Glossary</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/architecture-diagrams.html">List of Architecture Diagrams</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/data/data.html">Data</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/data/document-data-model.html">Data Model</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/data/n1ql-versus-sql.html">SQL++ versus SQL</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/data/extended-attributes-fundamentals.html">Extended Attributes</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/data/scopes-and-collections.html">Scopes and Collections</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/data/change-history.html">Change History</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#learn:services-and-indexes/indexes/indexes.adoc">Indexes</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/data/durability.html">Durability</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/data/expiration.html">Expiration</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/data/transactions.html">Transactions</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/buckets-memory-and-storage/buckets-memory-and-storage.html">Buckets, Memory, and Storage</a>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/buckets-memory-and-storage/buckets.html">Buckets</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/buckets-memory-and-storage/vbuckets.html">vBuckets</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/buckets-memory-and-storage/compression.html">Compression</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/buckets-memory-and-storage/memory-and-storage.html">Memory and Storage</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/buckets-memory-and-storage/memory.html">Memory</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/buckets-memory-and-storage/storage-engines.html">Storage Engines</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/buckets-memory-and-storage/storage-settings.html">Storage Settings</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/services-and-indexes/services/services.html">Services</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/services-and-indexes/services/data-service.html">Data Service</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/services-and-indexes/services/query-service.html">Query Service</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/services-and-indexes/services/index-service.html">Index Service</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/services-and-indexes/services/search-service.html">Search Service</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/services-and-indexes/services/analytics-service.html">Analytics Service</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/services-and-indexes/services/eventing-service.html">Eventing Service</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/services-and-indexes/services/backup-service.html">Backup Service</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/clusters-and-availability.html">Clusters and Availability</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/cluster-manager.html">Cluster Manager</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/metadata-management.html">Metadata Management</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/connectivity.html">Connectivity</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/system-events.html">System Events</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/size-limitations.html">Size Limits</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/nodes.html">Nodes</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/rebalance.html">Rebalance</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/removal.html">Removal</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/failover.html">Failover</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/graceful-failover.html">Graceful</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/hard-failover.html">Hard</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/automatic-failover.html">Automatic</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/recovery.html">Recovery</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/node-to-node-encryption.html">Node-to-Node Encryption</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/replication-architecture.html">Availability</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/intra-cluster-replication.html">Intra-Cluster Replication</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/xdcr-overview.html">Cross Data Center Replication (XDCR)</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/xdcr-filtering.html">XDCR Advanced Filtering</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/xdcr-conflict-resolution.html">XDCR Conflict Resolution</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/xdcr-with-scopes-and-collections.html">XDCR with Scopes and Collections</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/clusters-and-availability/groups.html">Server Group Awareness</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/security/security-overview.html">Security</a>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/security/authentication.html">Authentication</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/security/authentication-overview.html">Understanding Authentication</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/security/usernames-and-passwords.html">Usernames and Passwords</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/security/authentication-domains.html">Authentication Domains</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/security/certificates.html">Certificates</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/security/using-multiple-cas.html">Using Multiple Root Certificates</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/security/authorization-overview.html">Authorization</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/security/roles.html">Roles</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/security/upgrading-to-rbac.html">Upgrading to RBAC</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/security/on-the-wire-security.html">On-the-Wire Security</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/security/auditing.html">Auditing</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/security/encryption-overview.html">Encryption</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Manage</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../management-overview.html">Overview</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-ui/manage-ui.html">Couchbase Web Console</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../manage-nodes/node-management-overview.html">Manage Nodes and Clusters</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-nodes/initialize-node.html">Initialize a Node</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-nodes/create-cluster.html">Create a Cluster</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-nodes/add-node-and-rebalance.html">Add a Node and Rebalance</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-nodes/join-cluster-and-rebalance.html">Join a Cluster and Rebalance</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-nodes/list-cluster-nodes.html">List Cluster Nodes</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-nodes/remove-node-and-rebalance.html">Remove a Node and Rebalance</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../manage-nodes/fail-nodes-over.html">Fail a Node Over and Rebalance</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-nodes/failover-graceful.html">Graceful</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-nodes/failover-hard.html">Hard</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-nodes/recover-nodes.html">Recover a Node and Rebalance</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-nodes/apply-node-to-node-encryption.html">Manage Node-to-Node Encryption</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-nodes/manage-address-families.html">Manage Address Families</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../manage-buckets/bucket-management-overview.html">Manage Buckets</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-buckets/create-bucket.html">Create a Bucket</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-buckets/edit-bucket.html">Edit a Bucket</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-buckets/flush-bucket.html">Flush a Bucket</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-buckets/delete-bucket.html">Drop a Bucket</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-scopes-and-collections/manage-scopes-and-collections.html">Manage Scopes and Collections</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-logging/manage-logging.html">Manage Logging</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../manage-settings/manage-settings.html">Manage Settings</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-settings/general-settings.html">General</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-settings/configure-compact-settings.html">Auto-Compaction</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-settings/configure-alerts.html">Alerts</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-settings/install-sample-buckets.html">Sample Buckets</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-groups/manage-groups.html">Manage Server Groups</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../manage-xdcr/xdcr-management-overview.html">Manage XDCR</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-xdcr/prepare-for-xdcr.html">Prepare for XDCR</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-xdcr/create-xdcr-reference.html">Create a Reference</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-xdcr/create-xdcr-replication.html">Create a Replication</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-xdcr/pause-xdcr-replication.html">Pause a Replication</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-xdcr/resume-xdcr-replication.html">Resume a Replication</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-xdcr/delete-xdcr-replication.html">Delete a Replication</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-xdcr/delete-xdcr-reference.html">Delete a Reference</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../manage-xdcr/secure-xdcr-replication.html">Secure a Replication</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-xdcr/enable-half-secure-replication.html">Half-Secure</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-xdcr/enable-full-secure-replication.html">Fully Secure</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-xdcr/replicate-using-scopes-and-collections.html">Replicate Using Scopes and Collections</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-xdcr/filter-xdcr-replication.html">Filter a Replication</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-xdcr/recover-data-with-xdcr.html">Recover Data with XDCR</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../manage-security/security-management-overview.html">Manage Security</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-security/manage-security-settings.html">Manage Security Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-security/manage-users-and-roles.html">Manage Users, Groups, and Roles</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../manage-security/manage-authentication.html">Manage Authentication</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-security/configure-ldap.html">Configure LDAP</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-security/configure-saslauthd.html">Configure saslauthd</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-security/configure-pam.html">Configure PAM</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../manage-security/manage-certificates.html">Manage Certificates</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-security/configure-server-certificates.html">Configure Server Certificates</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-security/configure-client-certificates.html">Configure Client Certificates</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-security/enable-client-certificate-handling.html">Enable Client-Certificate Handling</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-security/rotate-server-certificates.html">Certificate Rotation</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-security/handle-certificate-errors.html">Certificate Error Handling</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-security/manage-tls.html">Manage On-the-Wire Security</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-security/manage-auditing.html">Manage Auditing</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-security/manage-sessions.html">Manage Sessions</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-security/manage-console-access.html">Manage Console Access</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-security/manage-system-secrets.html">Manage System Secrets</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-security/manage-connections-and-disks.html">Manage Connections and Disks</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-statistics/manage-statistics.html">Manage Statistics</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../manage-indexes/manage-indexes.html">Manage Indexes</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../import-documents/import-documents.html">Import Documents</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../manage-backup-and-restore/manage-backup-and-restore.html">Manage Backup and Restore</a>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../backup-restore/enterprise-backup-restore.html">cbbackupmgr</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#backup-restore:cbbackupmgr-strategies.adoc">Strategies</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#backup-restore:cbbackupmgr-tutorial.adoc">Tutorial</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#backup-restore:cbbackupmgr-cloud.adoc">Cloud Backup</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#backup-restore:cbbackupmgr-network-filesystems.adoc">Network Filesystems</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#backup-restore:cbbackupmgr-encryption.adoc">Encryption</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="monitor-intro.html">Monitor</a>
  </span>
<ul class="menu_row">
<li class="menu_list is-current-page" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link is-current-page" href="monitoring-n1ql-query.html">Monitor Queries</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="monitoring-indexes.html">Monitor Indexes</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="xdcr-monitor-timestamp-conflict-resolution.html">Monitor Clock Drift</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="set-up-prometheus-for-monitoring.html">Set up Prometheus for Monitoring</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../troubleshoot/troubleshoot.html">Troubleshoot</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../troubleshoot/common-errors.html">Common Errors</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../troubleshoot/core-files.html">Core Files</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Install &amp; Upgrade</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/get-started.html">Deployment Options</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../install/plan-for-production.html">System Requirements</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/install-platforms.html">Supported Platforms</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/pre-install.html">System Resource Requirements</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/install-environments.html">Additional Requirements</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/install-ports.html">Couchbase Server Ports</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../install/install-production-deployment.html">Deployment Guidelines</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/sizing-general.html">Sizing Guidelines</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/synchronize-clocks-using-ntp.html">Clock Synchronization Requirements</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/thp-disable.html">Disable THP</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/install-swap-space.html">Configure Kernel Swappiness</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/install-security-bp.html">Security Considerations</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/server-processes.html">Couchbase Server Process List</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/best-practices-vm.html">VM and Container Guidelines</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/deployment-considerations-lt-3nodes.html">About Clusters with Fewer Than 3 Nodes</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../install/install-intro.html">Installation</a>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../install/install-linux.html">Install on Linux</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/rhel-suse-install-intro.html">Red Hat &amp; CentOS</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/ubuntu-debian-install.html">Ubuntu &amp; Debian</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/install_suse.html">SUSE Enterprise</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/install-oracle.html">Oracle Enterprise</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/amazon-linux2-install.html">Amazon Linux 2</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/non-root.html">Non-Root Install and Upgrade</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/rhel-multiple-instances.html">Install Multiple Instances</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/install-package-windows.html">Install on Windows</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/macos-install.html">Install on macOS</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/testing.html">Verify the Installation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/startup-shutdown.html">Startup and Shutdown</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/install-uninstalling.html">Uninstall</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../cloud/couchbase-cloud-deployment.html">Cloud and Container Deployment</a>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">AWS</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cloud/couchbase-aws-marketplace.html">Deploy with AWS Marketplace</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cloud/couchbase-aws-syncgateway-deployment.html">Deploy Sync Gateway with AWS Marketplace</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cloud/aws-terraform.html">Deploy with Terraform</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Azure</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cloud/couchbase-azure-marketplace.html">Deploy with Azure Marketplace</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">GCP</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cloud/couchbase-gcp-cloud-launcher.html">Deploy with GCP Marketplace</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Kubernetes &amp; OpenShift</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#operator:ROOT:overview.adoc">Deploy with Autonomous Operator</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Docker</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/getting-started-docker.html">Install with Docker</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cloud/couchbase-containers-faq.html">Couchbase Containers FAQ</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../install/upgrade.html">Upgrade</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/upgrade-procedure-selection.html">Upgrade-Procedure Selection</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../install/upgrade-procedures.html">Upgrade Procedures</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/upgrade-cluster-offline.html">Cluster Offline</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../install/upgrade-cluster-online.html">Cluster Online</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/upgrade-cluster-online-reduced-capacity.html">At Reduced Capacity</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/upgrade-cluster-online-full-capacity.html">At Full Capacity</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/upgrade-docker-cluster-online-full-capacity.html">Upgrade an Online Docker Cluster, Full Capacity</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/upgrade-ipv6-cluster.html">IPv6 Cluster-Upgrade</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/upgrade-feature-availability.html">Feature Availability During Upgrade</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Migration</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/migrating-application-data.html">Migrating Data</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../install/migration.html">Enabling Timestamp-based Conflict Resolution for Migrated Data</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Integrate</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../connectors/intro.html">Connector Guides</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../../../elasticsearch-connector/current/index.html">Elasticsearch Plug-in</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../../../kafka-connector/current/index.html">Kafka Connector</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../../../spark-connector/current/index.html">Spark Connector</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#tableau-connector::index.adoc">Tableau Connector</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../connectors/odbc-jdbc-drivers.html">Couchbase ODBC and JDBC Drivers</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Reference</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../cli/cli-intro.html">CLI Reference</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbanalyze-core-tool.html">cbanalyze-core</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#cli:cbtools/cbbackup.adoc">cbbackup</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#cli:cbtools/cbbackupwrapper.adoc">cbbackupwrapper</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbcollect-info-tool.html">cbcollect_info</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../cli/cbepctl-intro.html">cbepctl</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbepctl/set-checkpoint_param.html">set checkpoint_param</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbepctl/set-flush_param.html">set flush_param</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbepctl/set-tap_param.html">set tap_param</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../cli/cbft-bleve.html">cbft-bleve</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbft-bleve-moss.html">cbft-bleve: Moss Indexes</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbft-bleve-scorch.html">cbft-bleve: Scorch Indexes</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbft-bleve-zap.html">cbft-bleve: Zap Files</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#cli:cbcli/cblogredaction.adoc">cblogredaction</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbq-tool.html">cbq</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#cli:cbtools/cbrecovery.adoc">cbrecovery</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#cli:cbtools/cbrestore.adoc">cbrestore</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#cli:cbtools/cbrestorewrapper.adoc">cbrestorewrapper</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../cli/cbstats-intro.html">cbstats</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-all.html">all</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-allocator.html">allocator</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-checkpoint.html">checkpoint</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-collections.html">collections</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-collections-details.html">collections-details</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-config.html">config</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-dcp.html">dcp</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-dcpagg.html">dcpagg</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-dcp-vbtakeover.html">dcp-vbtakeover</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-diskinfo.html">diskinfo</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-dispatcher-job.html">dispatcher</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-durability-monitor.html">durability-monitor</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-failovers.html">failovers</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-hash.html">hash</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-items.html">items</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-key.html">key</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-kvstore.html">kvstore</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-kvtimings.html">kvtimings</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-memory.html">memory</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-prev-vbucket.html">prev-vbucket</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-raw.html">raw</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-reset.html">reset</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-responses.html">responses</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-runtimes.html">runtimes</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-scheduler.html">scheduler</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-scopes.html">scopes</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-scopes-details.html">scopes-details</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-slabs.html">slabs</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-tap-vbtakeover.html">tap-vbtakeover</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-tasks.html">tasks</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-timing.html">timings</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-uuid.html">uuid</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-vbucket.html">vbucket</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-vbucket-details.html">vbucket-details</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-vbucket-seqno.html">vbucket-seqno</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-vkey.html">vkey</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-warmup.html">warmup</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbstats/cbstats-workload.html">workload</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/cbsummary.html">cbsummary</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#cli:cbtools/cbtransfer.adoc">cbtransfer</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#cli:cbtools/cbworkloadgen.adoc">cbworkloadgen</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/couchbase-server.html">couchbase-server</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../cli/mctimings.html">mctimings</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-intro.html">REST API Reference</a>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-cluster-intro.html">Nodes and Clusters API</a>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-cluster-init-and-provisioning.html">Cluster Initialization and Provisioning</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-initialize-cluster.html">Initializing a Cluster</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-initialize-node.html">Initializing a Node</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-establish-credentials.html">Establishing Credentials</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-name-node.html">Naming a Node</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-configure-memory.html">Configuring Memory</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-set-up-services.html">Assigning Services</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-name-cluster.html">Naming a Cluster</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-adding-and-removing-nodes.html">Node Addition and Removal</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-cluster-addnodes.html">Adding Nodes to Clusters</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-cluster-joinnode.html">Joining Nodes into Clusters</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-cluster-removenode.html">Removing Nodes from Clusters</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-rebalance-overview.html">Rebalance</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-cluster-rebalance.html">Rebalancing the Cluster</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-get-rebalance-progress.html">Getting Rebalance Progress</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-configure-rebalance-retry.html">Configuring Rebalance Retries</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-get-rebalance-retry.html">Getting Rebalance-Retry Status</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-cancel-rebalance-retry.html">Canceling Rebalance Retries</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-limit-rebalance-moves.html">Limiting Concurrent vBucket Moves</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-cluster-disable-query.html">Disabling Consistent View Query Results on Rebalance</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-cluster-manualfailover-intro.html">Manual Failover</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-node-failover.html">Performing Hard Failover</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-failover-graceful.html">Performing Graceful Failover</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-node-recovery-incremental.html">Setting Recovery Type</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-cluster-autofailover-intro.html">Auto-Failover</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-cluster-autofailover-settings.html">Retrieving Auto-Failover Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-cluster-autofailover-enable.html">Enabling and Disabling Auto-Failover</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-cluster-autofailover-reset.html">Resetting Auto-Failover</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-node-recovery-incremental.html">Setting Recovery Type</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-settings-and-connections-overview.html">Settings and Connections</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-get-internal-setting.html">Managing Internal Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-manage-cluster-connections.html">Managing Cluster Connections</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-set-up-alternate-address.html">Managing Alternate Addresses</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-cluster-email-notifications.html">Setting Alerts</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-status-and-events-overview.html">Status and Events</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-get-cluster-tasks.html">Getting Cluster Tasks</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-cluster-get.html">Retrieving Cluster Information</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-cluster-details.html">Viewing Cluster Details</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-get-system-events.html">Getting System Events</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-identify-orchestrator.html">Identifying the Orchestrator Node</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-node-get-info.html">Getting Information on Nodes</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-list-node-services.html">Listing Node Services</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-statistics.html">Statistics</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-statistics-single.html">Getting a Single Statistic</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-statistics-multiple.html">Getting Multiple Statistics</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/logs-rest-api.html">Logging API</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-logs-get.html">Retrieving Log Information</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-client-logs.html">Creating Client Logs</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-bucket-intro.html">Buckets API</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-bucket-create.html">Creating and Editing Buckets</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-buckets-summary.html">Getting Bucket Information</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-retrieve-bucket-nodes.html">Listing Nodes by Bucket</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-bucket-stats.html">Getting Bucket Statistics</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-buckets-streamingURI.html">Getting Bucket Streaming URI</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-bucket-delete.html">Deleting Buckets</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-bucket-flush.html">Flushing Buckets</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-sample-buckets.html">Managing Sample Buckets</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/scopes-and-collections-api.html">Scopes and Collections API</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/creating-a-scope.html">Creating a Scope</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/creating-a-collection.html">Creating and Editing a Collection</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/listing-scopes-and-collections.html">Listing Scopes and Collections</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/dropping-a-collection.html">Dropping a Collection</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/dropping-a-scope.html">Dropping a Scope</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-memory-and-storage.html">Memory and Storage API</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-initialize-node.html">Initializing a Node</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-configure-memory.html">Configuring Memory</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-reader-writer-thread-config.html">Setting Thread Allocations</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-getting-storage-information.html">Getting Storage Information</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-compact-post.html">Performing Compaction Manually</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-autocompact-global.html">Auto-Compaction: Global</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-autocompact-per-bucket.html">Auto-Compaction: Per Bucket</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-rza.html">Server Groups API</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-servergroup-get.html">Getting Group Information</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-servergroup-post-create.html">Creating Groups</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-servergroup-post-add.html">Adding Nodes to Groups</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-servergroup-put.html">Renaming Groups</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-servergroup-put-membership.html">Updating Group Membership</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-servergroup-delete.html">Deleting Groups</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-xdcr-intro.html">XDCR API</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-xdcr-create-ref.html">Creating and Editing References</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-xdcr-get-ref.html">Getting a Reference</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-xdcr-create-replication.html">Creating a Replication</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-xdcr-pause-resume.html">Pausing and Resuming a Replication</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-xdcr-delete-replication.html">Deleting a Replication</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-xdcr-delete-ref.html">Deleting a Reference</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-xdcr-adv-settings.html">Managing Advanced Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-xdcr-statistics.html">Getting Statistics</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-security.html">Security API</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-whoami.html">Who Am I?</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-auditing.html">Configure Auditing</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-specify-node-addition-conventions.html">Restrict Node-Addition</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-authentication.html">Authentication API</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-configure-ldap.html">Configure LDAP</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-configure-saslauthd.html">Configure saslauthd</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-set-password-policy.html">Set Password Policy</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="4">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-certificate-management.html">Certificate Management API</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="5">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/load-trusted-cas.html">Load Root Certificates</a>
  </span>
</li>
<li class="menu_list" data-depth="5">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/get-trusted-cas.html">Get Root Certificates</a>
  </span>
</li>
<li class="menu_list" data-depth="5">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/delete-trusted-cas.html">Delete Root Certificates</a>
  </span>
</li>
<li class="menu_list" data-depth="5">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/retrieve-all-node-certs.html">Retrieve All Node Certificates</a>
  </span>
</li>
<li class="menu_list" data-depth="5">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/upload-retrieve-node-cert.html">Upload and Retrieve a Node Certificate</a>
  </span>
</li>
<li class="menu_list" data-depth="5">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-regenerate-all-certs.html">Regenerate All Certificates</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="5">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/deprecated-security-apis/deprecated-certificate-management-apis.html">Deprecated Certificate Management APIs</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="6">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/deprecated-security-apis/upload-retrieve-root-cert.html">Upload and Retrieve the Root Certificate</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-authorization.html">Authorization API</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rbac.html">Role-Based Access Control (RBAC)</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-setting-security.html">Configure On-the-Wire Security</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-setting-hsts.html">Configure HSTS</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-secret-mgmt.html">Secret Management API</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../n1ql/n1ql-rest-api/index.html">Query Service API</a>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../n1ql/n1ql-rest-api/examplesrest.html">Examples</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../n1ql/n1ql-rest-api/exsuccessful.html">Successful Request</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../n1ql/n1ql-rest-api/expositional.html">Request with Positional Parameters</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../n1ql/n1ql-rest-api/exnamed.html">Request with Named Parameters</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../n1ql/n1ql-rest-api/extimeout.html">Request Timeout</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../n1ql/n1ql-rest-api/exrequesterror.html">Request Error</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../n1ql/n1ql-rest-api/exserviceerror.html">Service Error</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../n1ql/n1ql-rest-api/exn1qlerror.html">SQL++ Error</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../n1ql/n1ql-rest-api/exunsupportedhttp.html">Unsupported HTTP Method</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../n1ql/n1ql-rest-api/exauthhttp.html">Request with Authentication&#8201;&#8212;&#8201;HTTP Header</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../n1ql/n1ql-rest-api/exauthrequest.html">Request with Authentication&#8201;&#8212;&#8201;Request Parameter</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../n1ql/n1ql-rest-api/admin.html">Admin REST API</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-cluster-query-settings.html">Query Settings API</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../n1ql/n1ql-rest-api/functions.html">Functions REST API</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-index-service.html">Index Service API</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/get-settings-indexes.html">Retrieve GSI Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/post-settings-indexes.html">Set GSI Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-index-stats.html">Index Statistics API</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-modify-index-batch-size.html">Modify Index Batch Size</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/backup-rest-api.html">Backup Service API</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-create-and-edit-plans.html">Create and Edit Plans</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-create-repository.html">Create a Repository</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-get-repository-info.html">Get Information on Repositories</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-get-plan-info.html">Get Information on Plans</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-get-task-info.html">Get Information on Tasks</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-pause-and-resume-tasks.html">Pause and Resume Tasks</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-examine-data.html">Examine Backed-Up Data</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-trigger-backup.html">Perform an Immediate Backup</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-trigger-merge.html">Perform an Immediate Merge</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-restore-data.html">Restore Data</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-delete-backups.html">Delete a Backup</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-archive-a-repository.html">Archive a Repository</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-import-repository.html">Import a Repository</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-delete-repository.html">Delete a Repository</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-delete-plan.html">Delete a Plan</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-get-cluster-info.html">Get Information on the Cluster</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/backup-manage-config.html">Manage Backup Configuration</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-fts.html">Search Service API</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-fts-node.html">Node Configuration</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-fts-indexing.html">Indexes</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-fts-advanced.html">Advanced</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-fts-statistics.html">Search Statistics</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-fts-query.html">Active Queries</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-fts-partition-file-transfer.html">Rebalance Based on File Transfer</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../eventing/eventing-api.html">Eventing Service API</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="#analytics:rest-analytics.adoc">Analytics Service API</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#analytics:rest-service.adoc">Analytics Service REST API</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#analytics:rest-admin.adoc">Analytics Admin REST API</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#analytics:rest-config.adoc">Analytics Config REST API</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#analytics:rest-settings.adoc">Analytics Settings REST API</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#analytics:rest-links.adoc">Analytics Links REST API</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="#analytics:rest-library.adoc">Analytics Library REST API</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../xdcr-reference/xdcr-reference-intro.html">XDCR Reference</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../xdcr-reference/xdcr-advanced-settings.html">Advanced Settings</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../xdcr-reference/xdcr-filtering-reference-intro.html">Filtering</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../xdcr-reference/xdcr-regular-expressions.html">Regular Expressions</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../xdcr-reference/xdcr-filtering-expressions.html">Filtering Expressions</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../xdcr-reference/xdcr-filtering-data-type-conversion.html">Data-Type Conversion</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../xdcr-reference/xdcr-security-and-networking.html">Security and Networking</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../audit-event-reference/audit-event-reference.html">Audit Event Reference</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../system-event-reference/system-event-reference.html">System Event Reference</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rebalance-reference/rebalance-reference.html">Rebalance Reference</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../metrics-reference/metrics-reference.html">Metrics Reference</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../metrics-reference/data-service-metrics.html">Data Service Metrics</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../metrics-reference/query-service-metrics.html">Query Service Metrics</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../metrics-reference/index-service-metrics.html">Index Service Metrics</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../metrics-reference/search-service-metrics.html">Search Service Metrics</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../metrics-reference/eventing-service-metrics.html">Eventing Service Metrics</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../metrics-reference/analytics-service-metrics.html">Analytics Service Metrics</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../metrics-reference/backup-service-metrics.html">Backup Service Metrics</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../metrics-reference/ns-server-metrics.html">Cluster Manager Metrics</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../metrics-reference/xdcr-metrics.html">XDCR Metrics</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../metrics-reference/all-services-metrics.html">Metrics for All Services</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/views/views-intro.html">Views Reference</a>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/views/views-basics.html">View Concepts</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-streaming.html">Stream-based Views</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-operation.html">View Operations</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-store-data.html">Views and Stored Data</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-development.html">Development Views</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-production.html">Production Views</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/views/views-mapreduce-intro.html">MapReduce Views</a>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/views/views-writing.html">Writing MapReduce Views</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-writing-views.html">Views Best Practices</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-writing-map.html">Map Function</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-writing-reduce.html">Reduce Function</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-writing-utility.html">Built-in Utility Functions</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-writing-count.html">Built-in _count Function</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-writing-sum.html">Built-in _sum Function</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-writing-stats.html">Built-in _stats Function</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-writing-rewriting.html">Re-writing Built-in Reduce Functions</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-writing-custom-reduce.html">Custom Reduce Functions</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-writing-rereduce.html">Re-reduce Argument</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-writing-nonjson.html">Views for Non-JSON Objects</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-trans-sql.html">Translating SQL to MapReduce</a>
  </span>
</li>
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-schemaless.html">Views in a Schema-less Database</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="3">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../learn/views/views-querying.html">Querying MapReduce Views</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="4">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../learn/views/views-query-samples.html">View and Query Examples</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="../../rest-api/rest-views-intro.html">Views API</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-ddocs-get.html">Getting Design Doc Information</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-ddocs-create.html">Creating Design Documents</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-ddocs-delete.html">Deleting Design Documents</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-views-get.html">Getting Views Information</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../rest-api/rest-views-requests.html">Limiting Views Requests</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Release Notes &amp; Licenses</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../release-notes/relnotes.html">Release Notes</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../third-party-licenses.html">Licenses for Third-Party Components</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Contribute</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="../../../../home/contribute/index.html">Contribute to the Documentation</a>
  </span>
</li>
</ul>
</li>
</ul>
      </div>
    </li>
  </ul>
</div>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/manage/pages/monitor/monitoring-n1ql-query.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb">Manage</li>
<li class="crumb"><a href="monitor-intro.html">Monitor</a></li>
<li class="crumb"><a href="monitoring-n1ql-query.html">Monitor Queries</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Monitor Queries</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
Monitoring and profiling SQL++ queries, query service engines, and corresponding system resources is very important for smoother operational performance and efficiency of the system.
In fact, often it is vital for diagnosing and troubleshooting issues such as query performance, resource bottlenecks, and overloading of various services.
</blockquote>
</div>
<div class="paragraph">
<p>System keyspaces provide various monitoring details and statistics about individual queries and query service.
When running on a cluster with multiple query nodes, stats about all queries on all query nodes are collected in these system keyspaces.</p>
</div>
<div class="paragraph">
<p>For example, this can help identify:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The top 10 slow or fast queries running on a particular query engine or the cluster.</p>
</li>
<li>
<p>Resource usage statistics of the query service, or resources used for a particular query.</p>
</li>
<li>
<p>Details about the active, completed, and prepared queries.</p>
</li>
<li>
<p>Find long running queries that are running for more than 2 minutes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These system keyspaces are like virtual keyspaces that are transient in nature, and are not persisted to disk or permanent storage.
Hence, the information in the keyspaces pertains to the current instantiation of the query service.
You can access the keyspaces using any of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SQL++ language (from the cbq shell or Query Workbench)</p>
</li>
<li>
<p>REST API</p>
</li>
<li>
<p>Monitoring SDK</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All the power of the SQL++ query language can be applied on the keyspaces to obtain various insights.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following diagnostics are provided:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">System Catalogs</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="#n1ql:n1ql-intro/sysinfo.adoc#querying-datastores" class="xref unresolved">system:datastores</a></p>
</li>
<li>
<p><a href="#n1ql:n1ql-intro/sysinfo.adoc#querying-namespaces" class="xref unresolved">system:namespaces</a></p>
</li>
<li>
<p><a href="#n1ql:n1ql-intro/sysinfo.adoc#querying-buckets" class="xref unresolved">system:buckets</a></p>
</li>
<li>
<p><a href="#n1ql:n1ql-intro/sysinfo.adoc#querying-scopes" class="xref unresolved">system:scopes</a></p>
</li>
<li>
<p><a href="#n1ql:n1ql-intro/sysinfo.adoc#querying-keyspaces" class="xref unresolved">system:keyspaces</a></p>
</li>
<li>
<p><a href="#n1ql:n1ql-intro/sysinfo.adoc#querying-indexes" class="xref unresolved">system:indexes</a></p>
</li>
<li>
<p><a href="#n1ql:n1ql-intro/sysinfo.adoc#querying-dual" class="xref unresolved">system:dual</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Monitoring Catalogs</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="#sys-prepared">system:prepareds</a></p>
</li>
<li>
<p><a href="#sys-completed-req">system:completed_requests</a></p>
</li>
<li>
<p><a href="#sys-active-req">system:active_requests</a></p>
</li>
<li>
<p><a href="#sys-dictionary">system:dictionary</a></p>
</li>
<li>
<p><a href="#sys-dictionary-cache">system:dictionary_cache</a></p>
</li>
<li>
<p><a href="#sys-functions">system:functions</a></p>
</li>
<li>
<p><a href="#sys-functions-cache">system:functions_cache</a></p>
</li>
<li>
<p><a href="#sys-tasks-cache">system:tasks_cache</a></p>
</li>
<li>
<p><a href="#sys-transactions">system:transactions</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security Catalogs</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="#sys_my-user-info">system:my_user_info</a></p>
</li>
<li>
<p><a href="#sys-user-info">system:user_info</a></p>
</li>
<li>
<p><a href="#sys-nodes">system:nodes</a></p>
</li>
<li>
<p><a href="#sys-app-roles">system:applicable_roles</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Other</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="#vitals">Vitals</a></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These are only available using REST APIs.
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="authentication-and-client-privileges"><a class="anchor" href="#authentication-and-client-privileges"></a>Authentication and Client Privileges</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Client applications must be authenticated with sufficient privileges to access system keyspaces.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An Administrator user can access all system keyspaces, and can grant or revoke privileges to and from other users.</p>
</li>
<li>
<p>Other non-Administrator users must have explicitly granted privilege called <strong>Query System Catalog</strong> to access the restricted system keyspaces.
For querying details of system keyspaces, see <a href="#n1ql:n1ql-intro/sysinfo.adoc" class="xref unresolved">Getting System Information</a>.</p>
</li>
<li>
<p>The following system keyspaces are considered <em>open</em>, that is, all users can access them without any special privileges:</p>
<div class="ulist">
<ul>
<li>
<p><code>system:dual</code></p>
</li>
<li>
<p><code>system:datastores</code></p>
</li>
<li>
<p><code>system:namespaces</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="query-monitoring-settings"><a class="anchor" href="#query-monitoring-settings"></a>Query Monitoring Settings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The monitoring settings can be set for each query engine (using the REST API) or for each query statement (using the cbq command line tool).
Both settings are actually set via REST endpoints: using the <a href="../../n1ql/n1ql-rest-api/admin.html" class="xref page">Admin REST API</a> (<code>/admin/settings</code> endpoint) and the <a href="../../n1ql/n1ql-rest-api/index.html" class="xref page">Query REST API</a> (<code>/query/service</code> endpoint).</p>
</div>
<div class="paragraph">
<p>The cbq shell and Query Workbench use the Query REST API to set monitoring at the request level.
The Query Workbench automatically enables the profiling and timings.
It can be disabled using the <strong class="ui">Preferences</strong> option.
For more information refer to the <a href="../../tools/query-workbench.html" class="xref page">Query Workbench</a> section.</p>
</div>
<div class="paragraph">
<p>Use the following query parameters to enable, disable, and control the monitoring capabilities, and the level of monitoring and profiling details for each query or globally at a query engine level:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>profile</p>
</li>
<li>
<p>controls</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more details and examples, refer to the
<a href="../../settings/query-settings.html" class="xref page">Query Settings</a> section.</p>
</div>
<div class="sect2">
<h3 id="enabling-settings-for-a-query-engine"><a class="anchor" href="#enabling-settings-for-a-query-engine"></a>Enabling Settings for a Query Engine</h3>
<div class="paragraph">
<p>You can enable profile settings for each query engine.
These examples use local host IP address and default port numbers.
You need to provide correct credentials, IP address, and port details of your setup.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Get the current query settings:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl http://localhost:8093/admin/settings -u user:pword -o ./query_settings.json</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">cat  ./query_settings.json</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "atrcollection": "",
  "auto-prepare": false,
  "cleanupclientattempts": true,
  "cleanuplostattempts": true,
  "cleanupwindow": "1m0s",
  "completed": {
    "aborted": null,
    "threshold": 1000
  },
  "completed-limit": 4000,
  "completed-threshold": 1000,
  "controls": false,
  "cpuprofile": "",
  "debug": false,
  "functions-limit": 16384,
  "keep-alive-length": 16384,
  "loglevel": "INFO",
  "max-index-api": 4,
  "max-parallelism": 1,
  "memory-quota": 0,
  "memprofile": "",
  "mutexprofile": false,
  "n1ql-feat-ctrl": 76,
  "numatrs": 1024,
  "pipeline-batch": 16,
  "pipeline-cap": 512,
  "plus-servicers": 16,
  "prepared-limit": 16384,
  "pretty": false,
  "profile": "off",
  "request-size-cap": 67108864,
  "scan-cap": 512,
  "servicers": 4,
  "timeout": 0,
  "txtimeout": "0s",
  "use-cbo": true
}</code></pre>
</div>
</div>
</li>
<li>
<p>Set current query settings profile:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>To set the query settings saved in a file <em class="path">./query_settings.json</em>, enter the following query:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl http://localhost:8093/admin/settings -u user:pword \
  -X POST \
  -d@./query_settings.json</code></pre>
</div>
</div>
</li>
<li>
<p>To explicitly specify the settings, enter the following query:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl http://localhost:8093/admin/settings -u user:pword \
  -H 'Content-Type: application/json' \
  -d '{"profile": "phases"}'</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Verify the settings are changed as specified:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl http://localhost:8093/admin/settings -u user:pword</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  // ...
  "profile":"phases",
  "request-size-cap": 67108864,
  "scan-cap": 512,
  "servicers": 4,
  "timeout": 0,
  "txtimeout": "0s",
  "use-cbo": true
}</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="enabling-settings-per-session-or-per-query"><a class="anchor" href="#enabling-settings-per-session-or-per-query"></a>Enabling Settings per Session or per Query</h3>
<div class="paragraph">
<p>You can enable monitoring and profiling settings for each query statement.
To set query settings using the cbq shell, use the <code>\SET</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">\set -profile "timings";
\set;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs" data-lang="none"> Query Parameters :
 Parameter name : profile
 Value : ["timings"]
 ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>To set query settings using the REST API, specify the parameters in the request body:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl http://localhost:8093/query/service -u user:pword \
  -d 'profile=timings&amp;statement=SELECT * FROM "world" AS hello'</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="monitor-profile-details"><a class="anchor" href="#monitor-profile-details"></a>Monitoring and Profiling Details</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Server provides detailed query monitoring and profiling information.
The profiling and finer query execution timing details can be obtained for any query.</p>
</div>
<div class="sect2">
<h3 id="profile"><a class="anchor" href="#profile"></a>Attribute Profile in Query Response</h3>
<div class="paragraph">
<p>When profiling is enabled, a query response includes the profile attribute.
The attribute details are as follows:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Attribute Details</caption>
<colgroup>
<col style="width: 63.6363%;">
<col style="width: 36.3637%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>phaseTimes</code>&#8201;&#8212;&#8201;Cumulative execution times for various phases involved in the query execution, such as authorize, indexscan, fetch, parse, plan, run, etc.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This value will be dynamic, depending on the documents processed by various phases up to this moment in time.</p>
</div>
<div class="paragraph">
<p>A new query on <code>system:active_requests</code> will return different values.</p>
</div>
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"phaseTimes": {
  "authorize": "823.631µs",
  "fetch": "656.873µs",
  "indexScan": "29.146543ms",
  "instantiate": "236.221µs",
  "parse": "826.382µs",
  "plan": "11.831101ms",
  "run": "16.892181ms"
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>phaseCounts</code>&#8201;&#8212;&#8201;Count of documents processed at selective phases involved in the query execution, such as authorize, indexscan, fetch, parse, plan, run, etc.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This value will be dynamic, depending on the documents processed by various phases up to this moment in time.</p>
</div>
<div class="paragraph">
<p>A new query on <code>system:active_requests</code> will return different values.</p>
</div>
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"phaseCounts": {
  "fetch": 16,
  "indexScan": 187
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>phaseOperators</code>&#8201;&#8212;&#8201;Indicates the number of each kind of query operators involved in different phases of the query processing.
For instance, this example, one non covering index path was taken, which involves 1 indexScan and 1 fetch operator.</p>
</div>
<div class="paragraph">
<p>A join would have probably involved 2 fetches (1 per keyspace)</p>
</div>
<div class="paragraph">
<p>A union select would have twice as many operator counts (1 per each branch of the union).</p>
</div>
<div class="paragraph">
<p>This is in essence the count of all the operators in the <code>executionTimings</code> field.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"phaseOperators": {
  "authorize": 1,
  "fetch": 1,
  "indexScan": 2
}</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>executionTimings</code>&#8201;&#8212;&#8201;The execution details such as kernel and service execution times, number of documents processed at each query operator in each phase, and number of phase switches, for various phases involved in the query execution.</p>
</div>
<div class="paragraph">
<p>The following statistics are collected for each operator:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>#operator</code></dt>
<dd>
<p>Name of the operator.</p>
</dd>
<dt class="hdlist1"><code>#stats</code></dt>
<dd>
<p>These values will be dynamic, depending on the documents processed by various phases up to this moment in time.</p>
<div class="paragraph">
<p>A new query on <code>system:active_requests</code> will return different values.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>#itemsIn</code></dt>
<dd>
<p>Number of input documents to the operator.</p>
</dd>
<dt class="hdlist1"><code>#itemsOut</code></dt>
<dd>
<p>Number of output documents after the operator processing.</p>
</dd>
<dt class="hdlist1"><code>#phaseSwitches</code></dt>
<dd>
<p>Number of switches between executing, waiting for services, or waiting for the <code>goroutine</code> scheduler.</p>
</dd>
<dt class="hdlist1"><code>execTime</code></dt>
<dd>
<p>Time spent executing the operator code inside SQL++ query engine.</p>
</dd>
<dt class="hdlist1"><code>kernTime</code></dt>
<dd>
<p>Time spent waiting to be scheduled for CPU time.</p>
</dd>
<dt class="hdlist1"><code>servTime</code></dt>
<dd>
<p>Time spent waiting for another service, such as index or data.</p>
<div class="ulist">
<ul>
<li>
<p>For index scan, it is time spent waiting for GSI/indexer.</p>
</li>
<li>
<p>For fetch, it is time spent waiting on the KV store.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"executionTimings": {
  // …
  [{
    "#operator": "Fetch",
    "#stats": {
      "#itemsIn": 187,
      "#itemsOut": 16,
      "#phaseSwitches": 413,
      "execTime": "128.434µs",
      "kernTime": "15.027879ms",
      "servTime": "1.590934ms",
      "state": "services"
    },
    "keyspace": "travel-sample",
    "namespace": "default"
  },
  {
    "#operator": "IntersectScan",
    "#stats": {
    "#itemsIn": 187,
    "#itemsOut": 187,
    "#phaseSwitches": 749,
    "execTime": "449.944µs",
    "kernTime": "14.625524ms"
    }
  // …
  ]}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>These statistics (<code>kernTime</code>, <code>servTime</code>, and <code>execTime</code>) can be very helpful in troubleshooting query performance issues, such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A high <code>servTime</code> for a low number of items processed is an indication that the indexer or KV store is stressed.</p>
</li>
<li>
<p>A high <code>kernTime</code> means there is a downstream issue in the query plan or the query server having many requests to process (so the scheduled waiting time will be more for CPU time).</p>
</li>
</ul>
</div>
<div class="exampleblock">
<div class="title">Example 1. Phases Profile</div>
<div class="content">
<div class="paragraph">
<p>The cbq engine must be started with authorization, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">./cbq -engine=http://localhost:8091/ -u Administrator -p pword</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using the cbq shell, show the statistics collected when the <code>profile</code> is set to <code>phases</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">\set -profile "phases";
SELECT * FROM `travel-sample`.inventory.airline LIMIT 1;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "requestID": "06d6c1c2-1a8a-4989-a856-7314f9eddee5",
  "signature": {
    "*": "*"
  },
  "results": [
    {
      "airline": {
        "callsign": "MILE-AIR",
        "country": "United States",
        "iata": "Q5",
        "icao": "MLA",
        "id": 10,
        "name": "40-Mile Air",
        "type": "airline"
      }
    }
  ],
  "status": "success",
  "metrics": {
    "elapsedTime": "12.77927ms",
    "executionTime": "12.570648ms",
    "resultCount": 1,
    "resultSize": 254,
    "serviceLoad": 12
  },
  "profile": {
    "phaseTimes": {
      "authorize": "19.629µs",
      "fetch": "401.997µs",
      "instantiate": "147.686µs",
      "parse": "4.545234ms",
      "plan": "409.364µs",
      "primaryScan": "6.103775ms",
      "run": "6.699056ms"
    },
    "phaseCounts": {
      "fetch": 1,
      "primaryScan": 1
    },
    "phaseOperators": {
      "authorize": 1,
      "fetch": 1,
      "primaryScan": 1
    },
    "requestTime": "2021-04-30T18:37:56.394Z",
    "servicingHost": "127.0.0.1:8091"
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 2. Timings Profile</div>
<div class="content">
<div class="paragraph">
<p>Using the cbq shell, show the statistics collected when <code>profile</code> is set to <code>timings</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">\set -profile "timings";
SELECT * FROM `travel-sample`.inventory.airline LIMIT 1;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "requestID": "268a1240-6864-43a2-af13-ccb8d1e50abf",
  "signature": {
    "*": "*"
  },
  "results": [
    {
      "airline": {
        "callsign": "MILE-AIR",
        "country": "United States",
        "iata": "Q5",
        "icao": "MLA",
        "id": 10,
        "name": "40-Mile Air",
        "type": "airline"
      }
    }
  ],
  "status": "success",
  "metrics": {
    "elapsedTime": "2.915245ms",
    "executionTime": "2.755355ms",
    "resultCount": 1,
    "resultSize": 254,
    "serviceLoad": 12
  },
  "profile": {
    "phaseTimes": {
      "authorize": "18.096µs",
      "fetch": "388.122µs",
      "instantiate": "31.702µs",
      "parse": "646.157µs",
      "plan": "120.427µs",
      "primaryScan": "1.402918ms",
      "run": "1.936852ms"
    },
    "phaseCounts": {
      "fetch": 1,
      "primaryScan": 1
    },
    "phaseOperators": {
      "authorize": 1,
      "fetch": 1,
      "primaryScan": 1
    },
    "requestTime": "2021-04-30T18:40:13.239Z",
    "servicingHost": "127.0.0.1:8091",
    "executionTimings": {
      "#operator": "Authorize",
      "#stats": {
        "#phaseSwitches": 4,
        "execTime": "1.084µs",
        "servTime": "17.012µs"
      },
      "privileges": {
        "List": [
          {
            "Target": "default:travel-sample.inventory.airline",
            "Priv": 7,
            "Props": 0
          }
        ]
      },
      "~child": {
        "#operator": "Sequence",
        "#stats": {
          "#phaseSwitches": 1,
          "execTime": "2.474µs"
        },
        "~children": [
          {
            "#operator": "PrimaryScan3",
            "#stats": {
              "#itemsOut": 1,
              "#phaseSwitches": 7,
              "execTime": "18.584µs",
              "kernTime": "8.869µs",
              "servTime": "1.384334ms"
            },
            "bucket": "travel-sample",
            "index": "def_inventory_airline_primary",
            "index_projection": {
              "primary_key": true
            },
            "keyspace": "airline",
            "limit": "1",
            "namespace": "default",
            "scope": "inventory",
            "using": "gsi"
          },
          {
            "#operator": "Fetch",
            "#stats": {
              "#itemsIn": 1,
              "#itemsOut": 1,
              "#phaseSwitches": 10,
              "execTime": "25.64µs",
              "kernTime": "1.427752ms",
              "servTime": "362.482µs"
            },
            "bucket": "travel-sample",
            "keyspace": "airline",
            "namespace": "default",
            "scope": "inventory"
          },
          {
            "#operator": "InitialProject",
            "#stats": {
              "#itemsIn": 1,
              "#itemsOut": 1,
              "#phaseSwitches": 9,
              "execTime": "6.006µs",
              "kernTime": "1.825917ms"
            },
            "result_terms": [
              {
                "expr": "self",
                "star": true
              }
            ]
          },
          {
            "#operator": "Limit",
            "#stats": {
              "#itemsIn": 1,
              "#itemsOut": 1,
              "#phaseSwitches": 4,
              "execTime": "2.409µs",
              "kernTime": "2.094µs"
            },
            "expr": "1"
          },
          {
            "#operator": "Stream",
            "#stats": {
              "#itemsIn": 1,
              "#itemsOut": 1,
              "#phaseSwitches": 6,
              "execTime": "46.964µs",
              "kernTime": "1.844828ms"
            }
          }
        ]
      },
      "~versions": [
        "7.0.0-N1QL",
        "7.0.0-4960-enterprise"
      ]
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="plan"><a class="anchor" href="#plan"></a>Attribute Meta in System Keyspaces</h3>
<div class="paragraph">
<p>The <code>meta().plan</code> virtual attribute captures the whole query plan, and monitoring stats of various phases and involved query operators.
The <code>meta().plan</code> must be explicitly called in the SELECT query projection list.</p>
</div>
<div class="paragraph">
<p>The <code>meta().plan</code> attribute is enabled only for individual requests that are running (<code>active_requests</code>) or completed (<code>completed_requests</code>) when the profile is set to timings (<code>profile ="timings"</code>) for each individual request.
If at the engine level, the profile is set to off and individual requests have been run with <code>profile ="timings"</code>, then the system keyspaces will return the plan only for those requests.</p>
</div>
<div class="paragraph">
<p>Since there may be a combination of profile settings for all of the requests reported by the system keyspaces, not all requests returned will have a <code>meta().plan</code> attachment.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For the <code>system:prepareds</code> requests, the <code>meta().plan</code> is available at all times since the <code>PREPARE</code> statement is not dependant on the profile setting.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This attribute is enabled for the following system keyspaces:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#sys-active-req">system:active_requests</a></p>
</li>
<li>
<p><a href="#sys-prepared">system:prepareds</a></p>
</li>
<li>
<p><a href="#sys-completed-req">system:completed_requests</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For a detailed example, see <a href="#example-2">Example 5</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sql-cluster-monitoring"><a class="anchor" href="#sql-cluster-monitoring"></a>SQL++ Cluster Monitoring</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="description"><a class="anchor" href="#description"></a>Description</h3>
<div class="paragraph">
<p>Couchbase Server allows you to monitor many aspects of an active cluster: cluster-aware operations, diagnostics, and more system keyspaces features that cover multiple nodes.
Functionalities include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ability to access active / completed / prepared requests across all SQL++ nodes from SQL++.</p>
</li>
<li>
<p>Ability to list nodes by type and with status from SQL++.</p>
</li>
<li>
<p>Ability to list system keyspaces from <code>system:keyspaces</code>.</p>
</li>
<li>
<p>Extra fields in <code>system:active_requests</code> and <code>system:completed_requests</code>.</p>
</li>
<li>
<p>Counters to keep track of specific requests, such as cancelled requests.</p>
</li>
<li>
<p>Killing request for CREATE INDEX.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="system-keyspaces"><a class="anchor" href="#system-keyspaces"></a>System Keyspaces</h3>
<div class="ulist">
<ul>
<li>
<p>The <code>system:keyspaces</code> keyspace can be augmented to list system keyspaces with a static map.
The small disadvantage of this is that it has to be maintained as new system keyspaces are added.</p>
</li>
<li>
<p>The <code>system:active_requests</code> and <code>system:completed_requests</code> keyspaces can report scan consistency.</p>
</li>
<li>
<p>The <code>system:prepareds</code> keyspace can list min and max execution and service times, as well as average times.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="cbq-engine-cbauth"><a class="anchor" href="#cbq-engine-cbauth"></a>cbq-engine-cbauth</h3>
<div class="paragraph">
<p><code>cbq-engine-cbauth</code> is an internal user that the query service uses to allow Query Workbench clients to query across multiple query nodes.</p>
</div>
<div class="paragraph">
<p>Since Query Workbench can connect to the same node only when cbq-engine is running, Query Workbench cannot do any query-clustered operations.</p>
</div>
<div class="paragraph">
<p>To get around this block, once the Query Workbench clients connect to a query node, this internal user (cbq-engine-cbauth) will be used to do any further inter-node user verification.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="vitals"><a class="anchor" href="#vitals"></a>Vitals</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code class="cmd">Vitals</code> API provides data about the running state and health of the query engine, such as number of logical cores, active threads, queued threads, CPU utilization, memory usage, network utilization, garbage collection percentage, and so on.
This information can be very useful to assess the current workload and performance characteristics of a query engine, and hence load-balance the requests being sent to various query engines.</p>
</div>
<div class="paragraph">
<p>For field names and meanings, refer to <a href="../../n1ql/n1ql-rest-api/admin.html#_vitals" class="xref page">Vitals</a>.</p>
</div>
<div class="sect2">
<h3 id="get-system-vitals"><a class="anchor" href="#get-system-vitals"></a>Get System Vitals</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -u Administrator:pword http://localhost:8093/admin/vitals</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "uptime": "7h39m32.668577197s",
  "local.time": "2021-04-30 18:42:39.517208807 +0000 UTC m=+27573.945319668",
  "version": "7.0.0-N1QL",
  "total.threads": 191,
  "cores": 2,
  "gc.num": 669810600,
  "gc.pause.time": "57.586373ms",
  "gc.pause.percent": 0,
  "memory.usage": 247985184,
  "memory.total": 11132383704,
  "memory.system": 495554808,
  "cpu.user.percent": 0,
  "cpu.sys.percent": 0,
  "request.completed.count": 140,
  "request.active.count": 0,
  "request.per.sec.1min": 0.0018,
  "request.per.sec.5min": 0.0055,
  "request.per.sec.15min": 0.0033,
  "request_time.mean": "536.348163ms",
  "request_time.median": "54.065567ms",
  "request_time.80percentile": "981.869933ms",
  "request_time.95percentile": "2.543128455s",
  "request_time.99percentile": "4.627922799s",
  "request.prepared.percent": 0
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sys-active-req"><a class="anchor" href="#sys-active-req"></a>system:active_requests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This catalog lists all currently executing active requests or queries.</p>
</div>
<div class="paragraph">
<p>For field names and meanings, refer to <a href="../../n1ql/n1ql-rest-api/admin.html#_requests" class="xref page">Requests</a>.
The profile related attributes are described in the section <a href="#profile">Attribute profile in Query Response.</a></p>
</div>
<div class="sect2">
<h3 id="sys-active-get"><a class="anchor" href="#sys-active-get"></a>Get Active Requests</h3>
<div class="paragraph">
<p>To view active requests with Admin REST API:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -u Administrator:pword http://localhost:8093/admin/active_requests</code></pre>
</div>
</div>
<div class="paragraph">
<p>To view active requests with SQL++, including the query plan:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT *, meta().plan FROM system:active_requests;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sys-active-delete"><a class="anchor" href="#sys-active-delete"></a>Terminate an Active Request</h3>
<div class="paragraph">
<p>The DELETE command can be used to terminate an active request, for instance, a non-responding or a long-running query.</p>
</div>
<div class="paragraph">
<p>To terminate an active request <code class="var">uuid</code> with the Admin REST API:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -u Administrator:pword -X DELETE http://localhost:8093/admin/active_requests/uuid</code></pre>
</div>
</div>
<div class="paragraph">
<p>To terminate an active request <code class="var">uuid</code> with SQL++:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">DELETE FROM system:active_requests WHERE requestId = "uuid";</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sys-active-examples"><a class="anchor" href="#sys-active-examples"></a>Examples</h3>
<div class="exampleblock">
<div class="title">Example 3. Get Active</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT *, meta().plan FROM system:active_requests;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "active_requests": {
      "clientContextID": "81984707-a9cd-4b78-9110-d130eb580d7f",
      "elapsedTime": "65.543946ms",
      "executionTime": "65.507111ms",
      "node": "127.0.0.1:8091",
      "phaseCounts": {
        "primaryScan": 1
      },
      "phaseOperators": {
        "authorize": 1,
        "fetch": 1,
        "primaryScan": 1
      },
      "phaseTimes": {
        "authorize": "2.361862ms",
        "fetch": "7.222µs",
        "instantiate": "13.233µs",
        "parse": "660.048µs",
        "plan": "52.877µs",
        "primaryScan": "41.125271ms"
      },
      "remoteAddr": "127.0.0.1:57065",
      "requestId": "27e73286-c6cc-4c26-8977-ef8d68e91c8f",
      "requestTime": "2019-05-06 09:08:42.431161361 -0700 PDT m=+6976.301141271",
      "scanConsistency": "unbounded",
      "state": "running",
      "statement": "SELECT *, meta().plan FROM system:active_requests;",
      "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.13; rv:66.0) Gecko/20100101 Firefox/66.0 (Couchbase Query Workbench (6.5.0-2859-enterprise))",
      "users": "Administrator"
    },
    "plan": { <i class="conum" data-value="1"></i><b>(1)</b>
      "#operator": "Sequence",
      "#stats": {
        "#phaseSwitches": 1,
        "execTime": "1.661µs"
      },
      "~children": [
        {
          "#operator": "Authorize",
          "#stats": {
            "#phaseSwitches": 3,
            "execTime": "4.844µs",
            "servTime": "2.357018ms"
          },
          // ...
        }
      ]
    },
    "plan": {
      "#operator": "Sequence",
      "#stats": {
        "#phaseSwitches": 1,
        "execTime": "1.661µs"
      },
      "~children": [
        {
          "#operator": "Authorize",
          "#stats": {
            "#phaseSwitches": 3,
            "execTime": "4.844µs",
            "servTime": "2.357018ms"
          },
          "privileges": {
            "List": [
              {
                "Priv": 4,
                "Target": "#system:active_requests"
              }
            ]
          },
          "~child": {
            "#operator": "Sequence",
            "#stats": {
              "#phaseSwitches": 1,
              "execTime": "2.71µs"
            },
            "~children": [
              {
                "#operator": "PrimaryScan",
                "#stats": {
                  "#itemsOut": 1,
                  "#phaseSwitches": 7,
                  "execTime": "22.314µs",
                  "kernTime": "2.13µs",
                  "servTime": "41.102957ms"
                },
                "index": "#primary",
                "keyspace": "active_requests",
                "namespace": "#system",
                "using": "system"
              },
              {
                "#operator": "Fetch",
                "#stats": {
                  "#itemsIn": 1,
                  "#phaseSwitches": 5,
                  "execTime": "7.222µs",
                  "kernTime": "41.130913ms",
                  "servTime": "22.888285ms",
                  "state": "services"
                },
                "keyspace": "active_requests",
                "namespace": "#system"
              },
              {
                "#operator": "Sequence",
                "#stats": {
                  "#phaseSwitches": 1,
                  "execTime": "1.544µs"
                },
                "~children": [
                  {
                    "#operator": "InitialProject",
                    "#stats": {
                      "#phaseSwitches": 1,
                      "execTime": "980ns",
                      "kernTime": "64.066618ms",
                      "state": "kernel"
                    },
                    "result_terms": [
                      {
                        "expr": "self",
                        "star": true
                      },
                      {
                        "expr": "(meta(`active_requests`).`plan`)"
                      }
                    ]
                  },
                  {
                    "#operator": "FinalProject",
                    "#stats": {
                      "#phaseSwitches": 1,
                      "execTime": "827ns"
                    }
                  }
                ]
              }
            ]
          }
        },
        {
          "#operator": "Stream",
          "#stats": {
            "#phaseSwitches": 1,
            "execTime": "1.29µs",
            "kernTime": "66.511806ms",
            "state": "kernel"
          }
        }
      ],
      "~versions": [
        "2.0.0-N1QL",
        "6.5.0-2859-enterprise"
      ]
    }
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <strong>plan</strong> section contains a tree of operators that combine to execute the SQL++ query.
The root operator is a Sequence, which itself has a collection of child operators like Authorize, PrimaryScan, Fetch, and possibly even more Sequences.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sys-prepared"><a class="anchor" href="#sys-prepared"></a>system:prepareds</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This catalog provides data about the known prepared statements and their state in a query engine&#8217;s prepared statement cache.
For each prepared statement, this catalog provides information such as name, statement, query plan, last use time, number of uses, and so on.</p>
</div>
<div class="paragraph">
<p>For field names and meanings, refer to <a href="../../n1ql/n1ql-rest-api/admin.html#_statements" class="xref page">Statements</a>.
The <code>system:prepareds</code> catalog returns all the properties that the SQL++ Admin REST API would return for a specific prepared statement.
In addition, the <code>system:prepareds</code> catalog also returns the following properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 61.1111%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>node</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The node on which the prepared statement is stored.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>The namespace in which the prepared statement is stored.
Currently, only the <code>default</code> namespace is available.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A prepared statement is created and stored relative to the current <a href="#n1ql:n1ql-intro/queriesandresults.adoc#query-context" class="xref unresolved">query context</a>.
You can create multiple prepared statements with the same name, each stored relative to a different query context.
This enables you to run multiple instances of the same application against different datasets.</p>
</div>
<div class="paragraph">
<p>When there are multiple prepared statements with the same name in different query contexts, the name of the prepared statement in the <code>system:prepareds</code> catalog includes the associated query context in brackets.</p>
</div>
<div class="sect2">
<h3 id="sys-prepared-get"><a class="anchor" href="#sys-prepared-get"></a>Get Prepared Statements</h3>
<div class="paragraph">
<p>To get a list of all known prepared statements, you can use the Admin REST API or a SQL++ query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -u Administrator:pword http://localhost:8093/admin/prepareds</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM system:prepareds;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To get information about a specific prepared statement <code class="var">example1</code>, you can use the Admin REST API or a SQL++ query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -u Administrator:pword http://localhost:8093/admin/prepareds/example1</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM system:prepareds WHERE name = "example1";</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sys-prepared-delete"><a class="anchor" href="#sys-prepared-delete"></a>Delete Prepared Statements</h3>
<div class="paragraph">
<p>To delete a specific prepared statement <code class="var">p1</code>, you can use the Admin REST API or a SQL++ query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -u Administrator:pword -X DELETE http://localhost:8093/admin/prepareds/p1</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">DELETE FROM system:prepareds WHERE name = "p1";</code></pre>
</div>
</div>
<div class="paragraph">
<p>To delete all the known prepared statements, you must use a SQL++ query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">DELETE FROM system:prepareds;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sys-prepared-examples"><a class="anchor" href="#sys-prepared-examples"></a>Examples</h3>
<div class="exampleblock">
<div class="title">Example 4. Get Prepared</div>
<div class="content">
<div class="listingblock">
<div class="title">Prepared statement with default query context&#8201;&#8212;&#8201;using cbq</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">\UNSET -query_context;
PREPARE p1 AS SELECT * FROM `travel-sample`.inventory.airline WHERE iata = "U2";</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "requestID": "64069886-eb17-4fa6-8cc8-e60ebe93d97c",
  "signature": "json",
  "results": [
    {
      "encoded_plan": "H4sIAAAAAAAA/wEAAP//AAAAAAAAAAA=",
      "featureControls": 76,
      "indexApiVersion": 4,
      "indexScanKeyspaces": {
        "default:travel-sample.inventory.airline": false
      },
      "name": "[127.0.0.1:8091]p1",
      "namespace": "default",
      "operator": {
        "#operator": "Authorize",
        "privileges": {
          "List": [
            {
              "Priv": 7,
              "Props": 0,
              "Target": "default:travel-sample.inventory.airline"
            }
          ]
        },
        "~child": {
          "#operator": "Sequence",
          "~children": [
            {
              "#operator": "Sequence",
              "~children": [
                {
                  "#operator": "PrimaryScan3",
                  "bucket": "travel-sample",
                  "index": "def_inventory_airline_primary",
                  "index_projection": {
                    "primary_key": true
                  },
                  "keyspace": "airline",
                  "namespace": "default",
                  "scope": "inventory",
                  "using": "gsi"
                },
                {
                  "#operator": "Fetch",
                  "bucket": "travel-sample",
                  "keyspace": "airline",
                  "namespace": "default",
                  "scope": "inventory"
                },
                {
                  "#operator": "Parallel",
                  "~child": {
                    "#operator": "Sequence",
                    "~children": [
                      {
                        "#operator": "Filter",
                        "condition": "((`airline`.`iata`) = \"U2\")"
                      },
                      {
                        "#operator": "InitialProject",
                        "result_terms": [
                          {
                            "expr": "self",
                            "star": true
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            },
            {
              "#operator": "Stream"
            }
          ]
        }
      },
      "queryContext": "",
      "reqType": "SELECT",
      "signature": {
        "*": "*"
      },
      "text": "PREPARE p1 AS SELECT * FROM `travel-sample`.inventory.airline WHERE iata = \"U2\";",
      "useCBO": true
    }
  ],
  "status": "success",
  "metrics": {
    "elapsedTime": "105.814848ms",
    "executionTime": "105.648798ms",
    "resultCount": 1,
    "resultSize": 3301,
    "serviceLoad": 12
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Prepared statement with specified query context&#8201;&#8212;&#8201;using cbq</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">\SET -query_context travel-sample.inventory;
PREPARE p1 AS SELECT * FROM airline WHERE iata = "U2";</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "requestID": "1c90603e-5e42-42b4-9362-4fc96bf895ac",
  "signature": "json",
  "results": [
    {
      "encoded_plan": "H4sIAAAAAAAA/wEAAP//AAAAAAAAAAA=",
      "featureControls": 76,
      "indexApiVersion": 4,
      "indexScanKeyspaces": {
        "default:travel-sample.inventory.airline": false
      },
      "name": "[127.0.0.1:8091]p1",
      "namespace": "default",
      "operator": {
        "#operator": "Authorize",
        "privileges": {
          "List": [
            {
              "Priv": 7,
              "Props": 0,
              "Target": "default:travel-sample.inventory.airline"
            }
          ]
        },
        "~child": {
          "#operator": "Sequence",
          "~children": [
            {
              "#operator": "Sequence",
              "~children": [
                {
                  "#operator": "PrimaryScan3",
                  "bucket": "travel-sample",
                  "index": "def_inventory_airline_primary",
                  "index_projection": {
                    "primary_key": true
                  },
                  "keyspace": "airline",
                  "namespace": "default",
                  "scope": "inventory",
                  "using": "gsi"
                },
                {
                  "#operator": "Fetch",
                  "bucket": "travel-sample",
                  "keyspace": "airline",
                  "namespace": "default",
                  "scope": "inventory"
                },
                {
                  "#operator": "Parallel",
                  "~child": {
                    "#operator": "Sequence",
                    "~children": [
                      {
                        "#operator": "Filter",
                        "condition": "((`airline`.`iata`) = \"U2\")"
                      },
                      {
                        "#operator": "InitialProject",
                        "result_terms": [
                          {
                            "expr": "self",
                            "star": true
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            },
            {
              "#operator": "Stream"
            }
          ]
        }
      },
      "queryContext": "travel-sample.inventory",
      "reqType": "SELECT",
      "signature": {
        "*": "*"
      },
      "text": "PREPARE p1 AS SELECT * FROM airline WHERE iata = \"U2\";",
      "useCBO": true
    }
  ],
  "status": "success",
  "metrics": {
    "elapsedTime": "17.476424ms",
    "executionTime": "17.187836ms",
    "resultCount": 1,
    "resultSize": 3298,
    "serviceLoad": 12
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">List prepared statements</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT *, meta().plan FROM system:prepareds;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "requestID": "d976e59a-d74e-4350-b0df-fa137099d594",
  "signature": {
    "*": "*",
    "plan": "json"
  },
  "results": [
    {
      "plan": {
        // ...
      },
      "prepareds": {
        "encoded_plan": "H4sIAAAAAAAA/6RTUW/TPBT9K9H5XrbJ30QBMcmIhzJ1AjG0qh3wwKbEJLedmWt71061UIXfjpxkndYhENpbYt97z7nn+GxAtnQVVbk3ykICAgtSsWY6djayMwHy6JWAthXdjr3+TBy0s5Avh7N5qewHaoJXJQXIDSpaqNpEGVmtyfwf1MobOtR2TTY6bg6VZqMtQS6UCdQKWLUiSPgR+u9uFOTdIAg4T6yi4zT+v/sfjOt45Vj/IAh41mttaNmTONUhQn7d4FzxkuL9tL/SEpiyXkMepQ/nA+Sz9rIV+FleaVPtMpjTTU22TG19AZPtcP+5aMp6pbhJcr6AwLe6vO54P+CLQfR+n3zLPh/Y576fcleXe3bfqYydYxsMt/k1NZCR66T+9eAdJO4l+L0NoXQ+nWxhIVAHbZeQWAaNVjxc6YRiefWnXZ6EvYs2VayMIYMneXWiTSSGQOlspXvhsLdXDPyKw0KrqIr97E12gU/PL7D/iMh7q6NWZtpLDwGmUJuYR+JV6ADp1qfCQGaRVouKBzsu28s2vbYd4pFJrZDuBFJOtyE8Go0EbmriJqWVbmOfYKab86aTaz45nRyfJxC9tF2skyoHkDhAKzC0TGeT6Xg2yfwoG8+zvic7yE5mZx+z4oFpxePEZF/eTWaTLMmyFeV19zLo+O3ZsNivAAAA//+q+jhuaAQAAA==",
        "featuresControl": 76,
        "indexApiVersion": 4,
        "indexScanKeyspaces": {
          "default:travel-sample.inventory.airline": false
        },
        "name": "p1", <i class="conum" data-value="1"></i><b>(1)</b>
        "namespace": "default",
        "node": "127.0.0.1:8091",
        "statement": "PREPARE p1 AS SELECT * FROM `travel-sample`.inventory.airline WHERE iata = \"U2\";",
        "uses": 0
      }
    },
    {
      "plan": {
        // ...
      },
      "prepareds": {
        "encoded_plan": "H4sIAAAAAAAA/6STT28TMRDFv8rqcWkrExFAVDLiEKpUIIoaJQUOtNqY3Ulq6tju2Bt1iZbPjry7TWmKQKg3/xnPvPk9zwZkC1dSmXujLCQgsCAVK6YjZyM7EyAPXwloW9LNyOvPxEE7C/myP5sVyn6gOnhVUIDcoKSFqkyUkdWazNOgVt7QQNs12ei4HijNRluCXCgTqBGwakWQ8EN06zYV5G0iCDhPrKLjlP7J3QajKl461j8IAp71WhtadiJOdIiQXzc4U7ykeJftn7IEJqzXkIdp4XyAfNZcNAI/i0ttyl0FM7quyBbpWRfAZNu6/x00Yb1SXCecLyDwrSquWt339KKH3vWTb9Xnvfrcd1lu43LP7jsVsXVsg/42v6IaMnKV6F/13kHiDsGfbQiF8+lkWxYCVdB2CYll0GjE/ZaOKRaXf+vlUbV3q00UK2PI4FFeHWsTiSFQOFvqDhz29ua9vvlgrlVU8/3sTXaOT8/Psf9AyHuro1Zm0qGHAFOoTMwj8Sq0BenGp8BAZpFai4p7Oy6aiyb9th3hkUmtkO4E0pxuh/BwOBS4rojrNK108wDy4HevmK7P6pbibHwyPjpLtfXSttOeYB1A4gCNQJ9pMh1PRtNx5ofZaJZ1b7KD7Hh6+jHreWRf3o2n4ywx2RJ53X4LOnp72nf1KwAA////9+bsZQQAAA==",
        "featuresControl": 76,
        "indexApiVersion": 4,
        "indexScanKeyspaces": {
          "default:travel-sample.inventory.airline": false
        },
        "name": "p1(travel-sample.inventory)", <i class="conum" data-value="2"></i><b>(2)</b>
        "namespace": "default",
        "node": "127.0.0.1:8091",
        "statement": "PREPARE p1 AS SELECT * FROM airline WHERE iata = \"U2\";",
        "uses": 0
      }
    }
  ],
  "status": "success",
  "metrics": {
    "elapsedTime": "25.323496ms",
    "executionTime": "25.173646ms",
    "resultCount": 2,
    "resultSize": 7891,
    "serviceLoad": 12
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the names of the prepared statements are identical, but they are associated with different query contexts.</p>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The name of the prepared statement for the default query context</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The name of the prepared statement showing the associated query context</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sys-completed-req"><a class="anchor" href="#sys-completed-req"></a>system:completed_requests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, this catalog maintains a list of the most recent completed requests that have run longer than a predefined threshold of time.
(You can also log completed requests that meet other conditions that you define.)</p>
</div>
<div class="paragraph">
<p>For each completed request, this catalog maintains information such as requestId, statement text, prepared name (if prepared statement), request time, service time, and so on.
This information provides a general insight into the health and performance of the query engine and the cluster.</p>
</div>
<div class="paragraph">
<p>For field names and meanings, refer to <a href="../../n1ql/n1ql-rest-api/admin.html#_requests" class="xref page">Requests</a>.
Most field names and meanings match exactly those of <code>system:active_requests</code>.</p>
</div>
<div class="paragraph">
<p>Note that the <code>completed</code> state means that the request was started and completed by the Query service, but it does not mean that it was necessarily successful.
The request could have been successful, or completed with errors.</p>
</div>
<div class="paragraph">
<p>To find requests that completed successfully, search for completed requests whose <code>state</code> is <code>completed</code> and whose <code>errorCount</code> field has the value <code>0</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Request profiling affects the <code>system:completed_requests</code> keyspace in the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When the feature is turned on, completed requests are stored with their execution plan.</p>
</li>
<li>
<p>Profiling information is likely to use 100KB+ per entry.</p>
</li>
<li>
<p>Due to the added overhead of running both profiling and logging, we recommend turning on both of them only when needed.
Running only one of them continuously has no noticeable affect on performance.</p>
</li>
<li>
<p>Profiling does not carry any extra cost beyond memory for completed requests, so it&#8217;s fine to run it continuously.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="sys-completed-get"><a class="anchor" href="#sys-completed-get"></a>Get Completed Requests</h3>
<div class="paragraph">
<p>To get a list of all logged completed requests using the Admin REST API:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -u Administrator:pword http://localhost:8093/admin/completed_requests</code></pre>
</div>
</div>
<div class="paragraph">
<p>To get a list of all logged completed requests using SQL++, including the query plan:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT *, meta().plan FROM system:completed_requests;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To get a list of all logged completed requests using SQL++, including only successful requests:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM system:completed_requests
WHERE state = "completed" AND errorCount = 0;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sys-completed-delete"><a class="anchor" href="#sys-completed-delete"></a>Purge the Completed Requests</h3>
<div class="paragraph">
<p>To purge a completed request <code class="var">uuid</code> with the Admin REST API:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -u Administrator:pword -X DELETE http://localhost:8093/admin/completed_requests/uuid</code></pre>
</div>
</div>
<div class="paragraph">
<p>To purge a completed request <code class="var">uuid</code> with SQL++:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">DELETE FROM system:completed_requests WHERE requestId = "uuid";</code></pre>
</div>
</div>
<div class="paragraph">
<p>To purge the completed requests for a given time period, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">DELETE FROM system:completed_requests WHERE requestTime LIKE "2015-09-09%";</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sys-completed-config"><a class="anchor" href="#sys-completed-config"></a>Configure the Completed Requests</h3>
<div class="paragraph">
<p>You can configure the <code>system:completed_requests</code> keyspace by specifying parameters through the Admin API settings endpoint.</p>
</div>
<div class="paragraph">
<p>In Couchbase Server 6.5 and later, you can specify the conditions for completed request logging using the <code>completed</code> field.</p>
</div>
<div class="paragraph">
<p>This field takes a JSON object containing the names and values of logging qualifiers.
Completed requests that meet the defined qualifiers are logged.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl http://localhost:8093/admin/settings -u Administrator:password \
  -H 'Content-Type: application/json' \
  -d '{"completed": {"user": "marco", "error": 12003}}'</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="logging-qualifiers"><a class="anchor" href="#logging-qualifiers"></a>Logging Qualifiers</h4>
<div class="paragraph">
<p>You can specify the following logging qualifiers.
A completed request is logged if <em>any</em> of the qualifiers are met (logical OR).</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>threshold</code>
</td>
<td class="hdlist2">
<p>The execution time threshold in milliseconds.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>aborted</code>
</td>
<td class="hdlist2">
<p>Whether to log requests that generate a panic.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>error</code>
</td>
<td class="hdlist2">
<p>Log requests returning this error number.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>client</code>
</td>
<td class="hdlist2">
<p>Log requests from this IP address.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>user</code>
</td>
<td class="hdlist2">
<p>Log requests with this user name.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>context</code>
</td>
<td class="hdlist2">
<p>Log requests with this client context ID.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For full details, refer to <a href="../../n1ql/n1ql-rest-api/admin.html#_logging_parameters" class="xref page">Logging parameters</a>.</p>
</div>
<div class="paragraph">
<p>The basic syntax adds a qualifier to the logging parameters, i.e. any existing qualifiers are not removed.
You can change the value of a logging qualifier by specifying the same qualifier again with a new value.</p>
</div>
<div class="paragraph">
<p>To add a new instance of an existing qualifier, use a plus sign (<code>+</code>) before the qualifier name, e.g. <code>+user</code>.
To remove a qualifier, use a minus sign (<code>-</code>) before the qualifier name, e.g. <code>-user</code>.</p>
</div>
<div class="paragraph">
<p>For example, the following request will add user <code>simon</code> to those tracked, and remove error <code>12003</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl http://localhost:8093/admin/settings -u Administrator:password \
  -H 'Content-Type: application/json' \
  -d '{"completed": {"+user": "simon", "-error": 12003}}'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly, you could remove all logging by execution time with the following request, as long as the value matches the existing threshold.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl http://localhost:8093/admin/settings -u Administrator:password \
  -H 'Content-Type: application/json' \
  -d '{"completed": {"-threshold": 1000}}'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="tagged-sets"><a class="anchor" href="#tagged-sets"></a>Tagged Sets</h4>
<div class="paragraph">
<p>You can also specify qualifiers that have to be met as a group for the completed request to be logged (logical AND).</p>
</div>
<div class="paragraph">
<p>To do this, specify the <code>tag</code> field along with a set of qualifiers, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl http://localhost:8093/admin/settings -u Administrator:password \
  -H 'Content-Type: application/json' \
  -d '{"completed": {"user": "marco", "error": 12003, "tag": "both_user_and_error"}}'</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, the request will be logged when both user and error match.</p>
</div>
<div class="paragraph">
<p>The tag name can be any string that is meaningful and unique.
Requests that match a tagged set of conditions are logged with a field <code>~tag</code>, which is set to the name of the tag.</p>
</div>
<div class="paragraph">
<p>To add a qualifier to a tagged set, specify the tag name again along with the new qualifier:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl http://localhost:8093/admin/settings -u Administrator:password \
  -H 'Content-Type: application/json' \
  -d '{"completed": {"client": "172.1.2.3", "tag": "both_user_and_error"}}'</code></pre>
</div>
</div>
<div class="paragraph">
<p>You cannot add a new instance of an existing qualifier to a tagged set using a plus sign (<code>+</code>) before the qualifier name.
For example, you cannot add a <code>user</code> qualifier to a tagged set that already contains a <code>user</code> qualifier.
If you need to track two users with the same error, create two tagged sets, one per user.</p>
</div>
<div class="paragraph">
<p>You can remove a qualifier from a tagged set using a minus sign (<code>-</code>) before the qualifier name, e.g. <code>-user</code>.
When you remove the last qualifier from a tagged set, the tagged set is removed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can specify multiple tagged sets.
In this case, completed requests are logged if they match all of the qualifiers in any of the tagged sets.</p>
</div>
<div class="paragraph">
<p>You can also specify a mixture of tagged sets and individual qualifiers.
In this case, completed requests are logged if they match any of the individual qualifiers, or all of the qualifiers in any of the tagged sets.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="completed-threshold"><a class="anchor" href="#completed-threshold"></a>Completed Threshold</h4>
<div class="paragraph">
<p>The <code class="param">completed-threshold</code> field provides another way of specifying the <code>threshold</code> qualifier within the <code>completed</code> field.</p>
</div>
<div class="paragraph">
<p>This field sets the minimum request duration after which requests are added to the <code>system:completed_requests</code> catalog.
The default value is 1000ms.
Specify <code class="in">0</code> to log all requests and <code class="in">-1</code> to not log any requests to the keyspace.</p>
</div>
<div class="paragraph">
<p>To specify a different value, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl http://localhost:port/admin/settings -u user:pword \
  -H 'Content-Type: application/json' \
  -d '{"completed-threshold":0}'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="completed-limit"><a class="anchor" href="#completed-limit"></a>Completed Limit</h4>
<div class="paragraph">
<p>The <code class="param">completed-limit</code> field sets the number of most recent requests to be tracked in the <code>system:completed_requests</code> catalog.
The default value is 4000.
Specify <code class="in">0</code> to not track any requests and <code class="in">-1</code> to set no limit.</p>
</div>
<div class="paragraph">
<p>To specify a different value, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl http://localhost:port/admin/settings -u user:pword \
  -H 'Content-Type: application/json' \
  -d '{"completed-limit":1000}'</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sys-completed-examples"><a class="anchor" href="#sys-completed-examples"></a>Examples</h3>
<div id="example-2" class="exampleblock">
<div class="title">Example 5. Completed Request</div>
<div class="content">
<div class="paragraph">
<p>First, using the cbq shell, we set <code>profile = "timings"</code> and run a long query which takes at least 1000ms (the default value of the <code>completed-threshold</code> query setting) to get registered in the <code>system:completed_requests</code> keyspace:</p>
</div>
<div class="listingblock">
<div class="title">Query 1</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">\set -profile "timings";
SELECT * FROM `travel-sample`.inventory.route ORDER BY sourceairport;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, using the cbq shell, we change the profile setting to "phases" and rerun another long query:</p>
</div>
<div class="listingblock">
<div class="title">Query 2</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">\set -profile "phases";
SELECT * FROM `travel-sample`.inventory.route ORDER BY destinationairport;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Run a query <code>system:completed_requests</code> keyspace with <code>meta().plan</code>.</p>
</div>
<div class="listingblock">
<div class="title">Query 3</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT meta().plan, * from system:completed_requests;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Result</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "requestID": "4a36e1dc-cea0-4ba2-a428-258511d50582",
  "signature": {
    "*": "*",
    "plan": "json"
  },
  "results": [
    // ...
    { <i class="conum" data-value="1"></i><b>(1)</b>
      "completed_requests": {
        "elapsedTime": "15.641879295s",
        "errorCount": 0,
        "node": "127.0.0.1:8091",
        "phaseCounts": {
          "fetch": 24024,
          "primaryScan": 24024,
          "sort": 24024
        },
        "phaseOperators": {
          "authorize": 1,
          "fetch": 1,
          "primaryScan": 1,
          "sort": 1
        },
        "phaseTimes": {
          "authorize": "51.305µs",
          "fetch": "3.27276723s",
          "instantiate": "60.662µs",
          "parse": "66.701943ms",
          "plan": "15.12951ms",
          "primaryScan": "171.439769ms",
          "run": "15.548781894s",
          "sort": "153.767638ms"
        },
        "remoteAddr": "172.17.0.1:56962",
        "requestId": "08445bae-66ef-4ccd-8b2d-ea899b453a1b",
        "requestTime": "2021-04-30T21:14:57.576Z",
        "resultCount": 24024,
        "resultSize": 81821919,
        "scanConsistency": "unbounded",
        "serviceTime": "15.630714144s",
        "state": "completed",
        "statement": "SELECT * FROM `travel-sample`.inventory.route ORDER BY destinationairport;",
        "useCBO": true,
        "userAgent": "Go-http-client/1.1 (CBQ/2.0)",
        "users": "Administrator"
      }
    },
    // ...
    { <i class="conum" data-value="2"></i><b>(2)</b>
      "completed_requests": {
        "elapsedTime": "15.321128463s",
        "errorCount": 0,
        "node": "127.0.0.1:8091",
        "phaseCounts": {
          "fetch": 24024,
          "primaryScan": 24024,
          "sort": 24024
        },
        "phaseOperators": {
          "authorize": 1,
          "fetch": 1,
          "primaryScan": 1,
          "sort": 1
        },
        "phaseTimes": {
          "authorize": "23.037µs",
          "fetch": "3.092306635s",
          "instantiate": "7.313569ms",
          "parse": "579.368µs",
          "plan": "2.449143ms",
          "primaryScan": "153.686873ms",
          "run": "15.29433203s",
          "sort": "147.889352ms"
        },
        "remoteAddr": "172.17.0.1:56900",
        "requestId": "5eefc9e5-bdaa-4824-bcd7-47977eb1f08a",
        "requestTime": "2021-04-30T21:13:58.707Z",
        "resultCount": 24024,
        "resultSize": 81821919,
        "scanConsistency": "unbounded",
        "serviceTime": "15.30510306s",
        "state": "completed",
        "statement": "SELECT * FROM `travel-sample`.inventory.route ORDER BY sourceairport;",
        "useCBO": true,
        "userAgent": "Go-http-client/1.1 (CBQ/2.0)",
        "users": "Administrator"
      },
      "plan": {
        "#operator": "Authorize",
        "#stats": {
          "#phaseSwitches": 4,
          "execTime": "1.725µs",
          "servTime": "21.312µs"
        },
        "privileges": {
          "List": [
            {
              "Priv": 7,
              "Props": 0,
              "Target": "default:travel-sample.inventory.route"
            }
          ]
        },
        "~child": {
          "#operator": "Sequence",
          "#stats": {
            "#phaseSwitches": 2,
            "execTime": "1.499µs"
          },
          "~children": [
            {
              "#operator": "PrimaryScan3",
              "#stats": {
                "#heartbeatYields": 6,
                "#itemsOut": 24024,
                "#phaseSwitches": 96099,
                "execTime": "84.366121ms",
                "kernTime": "3.021901421s",
                "servTime": "69.320752ms"
              },
              "bucket": "travel-sample",
              "index": "def_inventory_route_primary",
              "index_projection": {
                "primary_key": true
              },
              "keyspace": "route",
              "namespace": "default",
              "scope": "inventory",
              "using": "gsi"
            },
            {
              "#operator": "Fetch",
              "#stats": {
                "#heartbeatYields": 7258,
                "#itemsIn": 24024,
                "#itemsOut": 24024,
                "#phaseSwitches": 99104,
                "execTime": "70.34694ms",
                "kernTime": "142.630196ms",
                "servTime": "3.021959695s"
              },
              "bucket": "travel-sample",
              "keyspace": "route",
              "namespace": "default",
              "scope": "inventory"
            },
            {
              "#operator": "InitialProject",
              "#stats": {
                "#itemsIn": 24024,
                "#itemsOut": 24024,
                "#phaseSwitches": 96100,
                "execTime": "15.331951ms",
                "kernTime": "3.219612458s"
              },
              "result_terms": [
                {
                  "expr": "self",
                  "star": true
                }
              ]
            },
            {
              "#operator": "Order",
              "#stats": {
                "#itemsIn": 24024,
                "#itemsOut": 24024,
                "#phaseSwitches": 72078,
                "execTime": "147.889352ms",
                "kernTime": "3.229055752s"
              },
              "sort_terms": [
                {
                  "expr": "(`route`.`sourceairport`)"
                }
              ]
            },
            {
              "#operator": "Stream",
              "#stats": {
                "#itemsIn": 24024,
                "#itemsOut": 24024,
                "#phaseSwitches": 24025,
                "execTime": "11.851634134s"
              }
            }
          ]
        },
        "~versions": [
          "7.0.0-N1QL",
          "7.0.0-4960-enterprise"
        ]
      }
    }
  ],
  "status": "success",
  "metrics": {
    "elapsedTime": "172.831251ms",
    "executionTime": "172.586836ms",
    "resultCount": 40,
    "resultSize": 65181,
    "serviceLoad": 12
  },
  "profile": { <i class="conum" data-value="3"></i><b>(3)</b>
    "phaseTimes": {
      "authorize": "19.912µs",
      "fetch": "123.022426ms",
      "instantiate": "29.424µs",
      "parse": "6.414711ms",
      "plan": "3.19076ms",
      "primaryScan": "55.521683ms",
      "run": "158.514001ms"
    },
    "phaseCounts": {
      "fetch": 40,
      "primaryScan": 40
    },
    "phaseOperators": {
      "authorize": 1,
      "fetch": 1,
      "primaryScan": 1
    },
    "requestTime": "2021-04-30T21:15:18.104Z",
    "servicingHost": "127.0.0.1:8091"
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>This example shows:</p>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The profile attribute with all phases-related statistics for Query 2.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>meta().plan</code> with all detailed statistics collected for Query 1.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The profile attribute with all phases-related statistics for this query itself (which is querying the <code>system:completed_requests</code> keyspace)</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sys_my-user-info"><a class="anchor" href="#sys_my-user-info"></a>system:my_user_info</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This catalog maintains a list of all information of your profile.</p>
</div>
<div class="paragraph">
<p>To see your current information, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM system:my_user_info;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will result in a list similar to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "my_user_info": {
      "domain": "local",
      "external_groups": [],
      "groups": [],
      "id": "jane",
      "name": "Jane Doe",
      "password_change_date": "2019-05-07T02:31:53.000Z",
      "roles": [
        {
          "origins": [
            {
              "type": "user"
            }
          ],
          "role": "admin"
        }
      ]
    }
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sys-user-info"><a class="anchor" href="#sys-user-info"></a>system:user_info</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This catalog maintains a list of all current users in your bucket and their information.</p>
</div>
<div class="paragraph">
<p>To see the list of all current users, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM system:user_info;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will result in a list similar to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "user_info": {
      "domain": "local",
      "external_groups": [],
      "groups": [],
      "id": "jane",
      "name": "Jane Doe",
      "password_change_date": "2019-05-07T02:31:53.000Z",
      "roles": [
        {
          "origins": [
            {
              "type": "user"
            }
          ],
          "role": "admin"
        }
      ]
    }
  },
  {
    "user_info": {
      "domain": "ns_server",
      "id": "Administrator",
      "name": "Administrator",
      "roles": [
        {
          "role": "admin"
        }
      ]
    }
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sys-nodes"><a class="anchor" href="#sys-nodes"></a>system:nodes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This catalog shows the datastore topology information.
This is separate from the SQL++ clustering view, in that SQL++ clustering shows a map of the SQL++ cluster, as provided by the cluster manager, while <code>system:nodes</code> shows a view of the nodes and services that make up the actual datastore, which may or may not include SQL++ nodes.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The dichotomy is important in that SQL++ could be clustered by one entity (e.g. Zookeeper) and be connected to a clustered datastore (e.g. Couchbase) such that each does not have visibility of the other.</p>
</li>
<li>
<p>Should SQL++ be extended to be able to concurrently connect to multiple datastores, each datastore will report its own topology, so that <code>system:nodes</code> offers a complete view of all the storage nodes, whatever those may be.</p>
</li>
<li>
<p>The <code>system:nodes</code> keyspace provides a way to report services advertised by each node as well as services that are actually running.
This is datastore dependent.</p>
</li>
<li>
<p>SQL++ clustering is still reported by the <code>/admin</code> endpoints.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To see the list of all current node information, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM system:nodes;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will result in a list similar to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "nodes": {
      "name": "127.0.0.1:8091",
      "ports": {
        "cbas": 8095,
        "cbasAdmin": 9110,
        "cbasCc": 9111,
        "cbasSSL": 18095,
        "eventingAdminPort": 8096,
        "eventingSSL": 18096,
        "fts": 8094,
        "ftsSSL": 18094,
        "indexAdmin": 9100,
        "indexHttp": 9102,
        "indexHttps": 19102,
        "indexScan": 9101,
        "indexStreamCatchup": 9104,
        "indexStreamInit": 9103,
        "indexStreamMaint": 9105,
        "kv": 11210,
        "kvSSL": 11207,
        "n1ql": 8093,
        "n1qlSSL": 18093
      },
      "services": [
        "cbas",
        "eventing",
        "fts",
        "index",
        "kv",
        "n1ql"
      ]
    }
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sys-app-roles"><a class="anchor" href="#sys-app-roles"></a>system:applicable_roles</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This catalog maintains a list of all applicable roles and grantee of each bucket.</p>
</div>
<div class="paragraph">
<p>To see the list of all current applicable role information, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM system:applicable_roles;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will result in a list similar to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "applicable_roles": {
      "grantee": "anil",
      "role": "replication_admin"
    }
  },
  {
    "applicable_roles": {
      "bucket_name": "travel-sample",
      "grantee": "anil",
      "role": "select"
    }
  },
  {
    "applicable_roles": {
      "bucket_name": "*",
      "grantee": "anil",
      "role": "select"
    }
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more examples, take a look at the blog: <a href="https://blog.couchbase.com/optimize-n1ql-performance-using-request-profiling/" target="_blank" rel="noopener">Optimize SQL++ performance using request profiling</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sys-dictionary"><a class="anchor" href="#sys-dictionary"></a>system:dictionary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This catalog maintains a list of the on-disk optimizer statistics stored in the <code>N1QL_CBO_STATS</code> collection.</p>
</div>
<div class="paragraph">
<p>If you have multiple query nodes, the data retrieved from this catalog will be the same, regardless of the node on which you run the query.</p>
</div>
<div class="paragraph">
<p>To see the list of on-disk optimizer statistics, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM system:dictionary;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will result in a list similar to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "dictionary": {
      "avgDocKeySize": 12,
      "avgDocSize": 278,
      "bucket": "travel-sample", <i class="conum" data-value="1"></i><b>(1)</b>
      "distributionKeys": [ <i class="conum" data-value="2"></i><b>(2)</b>
        "airportname",
        "faa",
        "city"
      ],
      "docCount": 1968,
      "indexes": [ <i class="conum" data-value="3"></i><b>(3)</b>
        {
          "indexId": "bc3048e87bf84828",
          "indexName": "def_inventory_airport_primary",
          "indexStats": [ <i class="conum" data-value="4"></i><b>(4)</b>
            {
              "avgItemSize": 24,
              "avgPageSize": 11760,
              "numItems": 1968,
              "numPages": 4,
              "resRatio": 1
            }
          ]
        },
        // ...
      ],
      "keyspace": "airport",
      "namespace": "default",
      "scope": "inventory"
    }
  },
  // ...
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This query returns an array of dictionaries, one for each keyspace for which optimizer statistics are available.
Each dictionary gives the following information:</p>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Basic information about the keyspace</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Distribution keys for which histograms are available</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>An array of indexes in this keyspace for which statistics are available</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>An array of statistics for each index, with one element for each index partition</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For further details, refer to <a href="#n1ql:n1ql-language-reference/updatestatistics.adoc" class="xref unresolved">UPDATE STATISTICS</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sys-dictionary-cache"><a class="anchor" href="#sys-dictionary-cache"></a>system:dictionary_cache</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This catalog maintains a list of the in-memory cached subset of the optimizer statistics.</p>
</div>
<div class="paragraph">
<p>If you have multiple query nodes, the data retrieved from this node shows cached optimizer statistics from all nodes.
Individual nodes may have a different subset of cached information.</p>
</div>
<div class="paragraph">
<p>To see the list of in-memory optimizer statistics, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM system:dictionary_cache;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will result in a list similar to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "dictionary_cache": {
      "avgDocKeySize": 12,
      "avgDocSize": 278,
      "bucket": "travel-sample", <i class="conum" data-value="1"></i><b>(1)</b>
      "distributionKeys": [ <i class="conum" data-value="2"></i><b>(2)</b>
        "airportname",
        "faa",
        "city"
      ],
      "docCount": 1968,
      "indexes": [ <i class="conum" data-value="3"></i><b>(3)</b>
        {
          "indexId": "bc3048e87bf84828",
          "indexName": "def_inventory_airport_primary",
          "indexStats": [ <i class="conum" data-value="4"></i><b>(4)</b>
            {
              "avgItemSize": 24,
              "avgPageSize": 11760,
              "numItems": 1968,
              "numPages": 4,
              "resRatio": 1
            }
          ]
        },
        // ...
      ],
      "keyspace": "airport",
      "namespace": "default",
      "node": "172.23.0.3:8091", <i class="conum" data-value="5"></i><b>(5)</b>
      "scope": "inventory"
    }
  },
  // ...
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This query returns an array of dictionary caches, one for each keyspace for which optimizer statistics are available.
Each dictionary cache gives the following information:</p>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Basic information about the keyspace</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Distribution keys for which histograms are available</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>An array of indexes in this keyspace for which statistics are available</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>An array of statistics for each index, with one element for each index partition</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The query node where this dictionary cache is resident</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For further details, refer to <a href="#n1ql:n1ql-language-reference/updatestatistics.adoc" class="xref unresolved">UPDATE STATISTICS</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sys-functions"><a class="anchor" href="#sys-functions"></a>system:functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This catalog maintains a list of all user-defined functions across all nodes.
To see the list of all user-defined functions, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM system:functions;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will result in a list similar to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "functions": {
      "definition": {
        "#language": "inline", <i class="conum" data-value="1"></i><b>(1)</b>
        "expression": "(((`fahrenheit` - 32) * 5) / 9)", <i class="conum" data-value="2"></i><b>(2)</b>
        "parameters": [ <i class="conum" data-value="3"></i><b>(3)</b>
          "fahrenheit"
        ],
        "text": "((fahrenheit - 32) * 5/9)" <i class="conum" data-value="4"></i><b>(4)</b>
      },
      "identity": {
        "bucket": "travel-sample", <i class="conum" data-value="5"></i><b>(5)</b>
        "name": "celsius", <i class="conum" data-value="6"></i><b>(6)</b>
        "namespace": "default", <i class="conum" data-value="7"></i><b>(7)</b>
        "scope": "inventory", <i class="conum" data-value="8"></i><b>(8)</b>
        "type": "scope" <i class="conum" data-value="9"></i><b>(9)</b>
      }
    }
  },
  {
    "functions": {
      "definition": {
        "#language": "javascript",
        "library": "geohash-js", <i class="conum" data-value="10"></i><b>(10)</b>
        "name": "geohash-js", <i class="conum" data-value="11"></i><b>(11)</b>
        "object": "calculateAdjacent", <i class="conum" data-value="12"></i><b>(12)</b>
        "parameters": [
          "src",
          "dir"
        ]
      },
      "identity": {
        "name": "adjacent",
        "namespace": "default",
        "type": "global"
      }
    }
  },
  // ...
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This query returns the following attributes:</p>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>definition.#language</code>: string (the language of the function, for example, inline)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>definition.expression</code>: string (for inline functions only: the expression defining the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>definition.parameters</code>: array of strings (the parameters required by the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>definition.text</code>: string (for inline functions only: the verbatim text of the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><code>identity.bucket</code>: string (for scoped functions only: the bucket containing the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><code>identity.name</code>: string (the name of the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td><code>identity.namespace</code>: string (the namespace of the function, for example, default)</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td><code>identity.scope</code>: string (for scoped functions only: the scope containing the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td><code>identity.type</code>: string (the type of the function, for example, global)</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td><code>definition.library</code>: string (for JavaScript functions only: the library containing the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td><code>definition.name</code>: string (for JavaScript functions only: the relative name of the library)</td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td><code>definition.object</code>: string (for JavaScript functions only: the object defining the function)</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sys-functions-cache"><a class="anchor" href="#sys-functions-cache"></a>system:functions_cache</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This catalog maintains a list of recently-used user-defined functions across all nodes.
The catalog also lists user-defined functions that have been called recently, but do not exist.
To see the list of recently-used user-defined functions, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM system:functions_cache;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will result in a list similar to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "functions_cache": {
      "#language": "inline", <i class="conum" data-value="1"></i><b>(1)</b>
      "avgServiceTime": "3.066847ms",
      "expression": "(((`fahrenheit` - 32) * 5) / 9)", <i class="conum" data-value="2"></i><b>(2)</b>
      "lastUse": "2022-03-09 00:17:59.60659793 +0000 UTC m=+35951.429537902",
      "maxServiceTime": "3.066847ms",
      "minServiceTime": "0s",
      "name": "celsius", <i class="conum" data-value="3"></i><b>(3)</b>
      "namespace": "default", <i class="conum" data-value="4"></i><b>(4)</b>
      "node": "127.0.0.1:8091",
      "parameters": [ <i class="conum" data-value="5"></i><b>(5)</b>
        "fahrenheit"
      ],
      "scope": "inventory", <i class="conum" data-value="6"></i><b>(6)</b>
      "text": "((fahrenheit - 32) * 5/9)", <i class="conum" data-value="7"></i><b>(7)</b>
      "type": "scope",
      "uses": 1
    }
  },
  {
    "functions_cache": {
      "#language": "javascript",
      "avgServiceTime": "56.892636ms",
      "lastUse": "2022-03-09 00:15:46.289934029 +0000 UTC m=+35818.007560703",
      "library": "geohash-js", <i class="conum" data-value="8"></i><b>(8)</b>
      "maxServiceTime": "146.025426ms",
      "minServiceTime": "0s",
      "name": "geohash-js",
      "namespace": "default",
      "node": "127.0.0.1:8091",
      "object": "calculateAdjacent", <i class="conum" data-value="9"></i><b>(9)</b>
      "parameters": [
        "src",
        "dir"
      ],
      "type": "global", <i class="conum" data-value="10"></i><b>(10)</b>
      "uses": 4
    }
  },
  {
    "functions_cache": {
      "avgServiceTime": "3.057421ms", <i class="conum" data-value="11"></i><b>(11)</b>
      "lastUse": "2022-03-09 00:17:25.396840275 +0000 UTC m=+35917.199008929", <i class="conum" data-value="12"></i><b>(12)</b>
      "maxServiceTime": "3.057421ms", <i class="conum" data-value="13"></i><b>(13)</b>
      "minServiceTime": "0s", <i class="conum" data-value="14"></i><b>(14)</b>
      "name": "notFound",
      "namespace": "default",
      "node": "127.0.0.1:8091", <i class="conum" data-value="15"></i><b>(15)</b>
      "type": "global",
      "undefined_function": true, <i class="conum" data-value="16"></i><b>(16)</b>
      "uses": 1 <i class="conum" data-value="17"></i><b>(17)</b>
    }
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This query returns the following attributes:</p>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>#language</code>: string (the language of the function, for example, inline)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>expression</code>: string (for inline functions only: the expression defining the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>name</code>: string (the name of the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>namespace</code>: string (the namespace of the function, for example, default)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><code>parameters</code>: array of strings (the parameters required by the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><code>scope</code>: string (for scoped functions only: the scope containing the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td><code>text</code>: string (for inline functions only: the verbatim text of the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td><code>library</code>: string (for JavaScript functions only: the library containing the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td><code>object</code>: string (for JavaScript functions only: the object defining the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td><code>type</code>: string (the type of the function, for example, global)</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td><code>avgServiceTime</code>: string (the mean service time for the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td><code>lastUse</code>: string (the date and time when the function was last used)</td>
</tr>
<tr>
<td><i class="conum" data-value="13"></i><b>13</b></td>
<td><code>maxServiceTime</code>: string (the maximum service time for the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="14"></i><b>14</b></td>
<td><code>minServiceTime</code>: string (the minimum service time for the function)</td>
</tr>
<tr>
<td><i class="conum" data-value="15"></i><b>15</b></td>
<td><code>node</code>: string (the query node where the function is cached)</td>
</tr>
<tr>
<td><i class="conum" data-value="16"></i><b>16</b></td>
<td><code>undefined_function</code>: boolean (whether the function exists or is undefined)</td>
</tr>
<tr>
<td><i class="conum" data-value="17"></i><b>17</b></td>
<td><code>uses</code>: number (the number of uses of the function)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Each query node keeps its own cache of recently-used user-defined functions, so you may see the same function listed for multiple nodes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sys-tasks-cache"><a class="anchor" href="#sys-tasks-cache"></a>system:tasks_cache</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This catalog maintains a list of recently-used scheduled tasks, such as index advisor sessions.
To see the list of recently-used scheduled tasks, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM system:tasks_cache;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will result in a list similar to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "tasks_cache": {
      "class": "advisor", <i class="conum" data-value="1"></i><b>(1)</b>
      "delay": "1h0m0s", <i class="conum" data-value="2"></i><b>(2)</b>
      "id": "bcd9f8e4-b324-504c-a98b-ace90dba869f", <i class="conum" data-value="3"></i><b>(3)</b>
      "name": "aa7f688a-bf29-438f-888f-eeaead87ca40", <i class="conum" data-value="4"></i><b>(4)</b>
      "node": "10.143.192.101:8091", <i class="conum" data-value="5"></i><b>(5)</b>
      "state": "scheduled", <i class="conum" data-value="6"></i><b>(6)</b>
      "subClass": "analyze", <i class="conum" data-value="7"></i><b>(7)</b>
      "submitTime": "2019-09-17 05:18:12.903122381 -0700 PDT m=+8460.550715992" <i class="conum" data-value="8"></i><b>(8)</b>
    }
  },
  {
    "tasks_cache": {
      "class": "advisor",
      "delay": "5m0s",
      "id": "254abec5-5782-543e-9ee0-d07da146b94e",
      "name": "ca2cfe56-01fa-4563-8eb0-a753af76d865",
      "node": "10.143.192.101:8091",
      "results": [ <i class="conum" data-value="9"></i><b>(9)</b>
        // ...
      ],
      "startTime": "2019-09-17 05:03:31.821597725 -0700 PDT m=+7579.469191487", <i class="conum" data-value="10"></i><b>(10)</b>
      "state": "completed",
      "stopTime": "2019-09-17 05:03:31.963133954 -0700 PDT m=+7579.610727539", <i class="conum" data-value="11"></i><b>(11)</b>
      "subClass": "analyze",
      "submitTime": "2019-09-17 04:58:31.821230131 -0700 PDT m=+7279.468823737"
    }
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This query returns the following attributes:</p>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code class="out">class</code>: string (the class of the task; for example, <code>advisor</code>)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code class="out">delay</code>: string (the scheduled duration of the task)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code class="out">id</code>: string (the internal ID of the task)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code class="out">name</code>: string (the name of the task)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><code class="out">node</code>: string (the node where the task was started)</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><code class="out">state</code>: string (the class of the task&#8201;&#8212;&#8201;<code>scheduled</code>, <code>cancelled</code>, <code>completed</code>)</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td><code class="out">subClass</code>: string (the subclass of the task; for example, <code>analyze</code>)</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td><code class="out">submitTime</code>: string (the date and time when the task was submitted)</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td><code class="out">results</code>: array (not scheduled tasks: the results of the task)</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td><code class="out">startTime</code>: string (not scheduled tasks: the date and time when the task started)</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td><code class="out">stopTime</code>: string (not scheduled tasks: the date and time when the task stopped)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Refer to <a href="#n1ql:n1ql-language-reference/advisor.adoc" class="xref unresolved">ADVISOR Function</a> for more information on index advisor sessions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sys-transactions"><a class="anchor" href="#sys-transactions"></a>system:transactions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This catalog maintains a list of active Couchbase transactions.
To see the list of active transactions, use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM system:transactions;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will result in a list similar to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "transactions": {
      "durabilityLevel": "majority", <i class="conum" data-value="1"></i><b>(1)</b>
      "durabilityTimeout": "2.5s", <i class="conum" data-value="2"></i><b>(2)</b>
      "expiryTime": "2021-04-21T12:53:48.598+01:00",
      "id": "85aea637-2288-434b-b7c5-413ad8e7c175", <i class="conum" data-value="3"></i><b>(3)</b>
      "isolationLevel": "READ COMMITED", <i class="conum" data-value="4"></i><b>(4)</b>
      "lastUse": "2021-04-21T12:51:48.598+01:00",
      "node": "127.0.0.1:8091", <i class="conum" data-value="5"></i><b>(5)</b>
      "numAtrs": 1024, <i class="conum" data-value="6"></i><b>(6)</b>
      "scanConsistency": "unbounded", <i class="conum" data-value="7"></i><b>(7)</b>
      "status": 0,
      "timeout": "2m0s", <i class="conum" data-value="8"></i><b>(8)</b>
      "usedMemory": 960,
      "uses": 1
    }
  // ...
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This query returns the following attributes:</p>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code class="out">durabilityLevel</code>: string (durability level for all mutations within a transaction)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code class="out">durabilityTimeout</code>: duration (durability timeout per mutation within the transaction)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code class="out">id</code>: string (the transaction ID)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code class="out">isolationLevel</code>: string (the isolation level of the transaction)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><code class="out">node</code>: string (the node where the transaction was started)</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><code class="out">numAtrs</code>: integer (the total number of active transaction records)</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td><code class="out">scanConsistency</code>: string (the transactional scan consistency)</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td><code class="out">timeout</code>: duration (the transaction timeout duration)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Refer to <a href="#n1ql:n1ql-language-reference/transactions.adoc" class="xref unresolved">SQL++ Support for Couchbase Transactions</a> for more information.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="related-links"><a class="anchor" href="#related-links"></a>Related Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Refer to <a href="#n1ql:n1ql-intro/sysinfo.adoc" class="xref unresolved">Getting System Information</a> for more information on the system namespace.</p>
</li>
</ul>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../../_/js/site.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
</body>
</html>
