<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>Create a Cluster | Couchbase Docs</title>
<link rel="stylesheet" href="../../../../_/css/site.css">
<script src="../../../../_/js/vendor/jquery.js"></script>
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/manage/manage-nodes/create-cluster.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/manage/pages/manage-nodes/create-cluster.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb">Manage</li>
<li class="crumb"><a href="node-management-overview.html">Manage Nodes and Clusters</a></li>
<li class="crumb"><a href="create-cluster.html">Create a Cluster</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Create a Cluster</h1>
<div class="labels">
<ul></ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
A new Couchbase Server node can be <em>provisioned</em>, to establish its Full Administrator credentials, its service-assignments, and its memory quotas. At this point, it becomes a <em>cluster</em> of one node.
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="understanding-provisioning"><a class="anchor" href="#understanding-provisioning"></a>Understanding Provisioning</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Provisioning</em> establishes the Full Administrator credentials for the server, and specifies its service-assignments and memory-quota allocations.
Provisioning can occur as part of establishing the node as either:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The first in a new cluster.
Credentials will apply to all other nodes subsequently added, as will memory allocations.
Service-assignments are for this node only.</p>
</li>
<li>
<p>A new member of an existing cluster.
Credentials and memory allocations are inherited.
Service-assignments are made independently for this node.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples-on-this-page-node-initialization"><a class="anchor" href="#examples-on-this-page-node-initialization"></a>Examples on This Page</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The examples in the subsections below show how to provision the same node, so that it becomes the first in a new cluster, using the <a href="#provision-a-node-with-the-ui">UI</a>, the <a href="#provision-a-node-with-the-cli">CLI</a>, and the <a href="#initialize-a-node-with-the-rest-api">REST API</a> respectively.</p>
</div>
<div class="paragraph">
<p>The examples assume that the node has <em>not</em> previously been initialized.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="provision-a-node-with-the-ui"><a class="anchor" href="#provision-a-node-with-the-ui"></a>Provision a Node with the UI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Web Console is, by default, available on port <code>8091</code>.
Therefore, once Couchbase Server has been installed on a machine, the console can be accessed over the network at <code>http://&lt;machine-ip-address&gt;:8091/</code> or <code>http://&lt;machine-hostname&gt;:8091/</code>.
It can be accessed from the machine on which Couchbase Server was installed at <code>http://localhost:8091</code>.</p>
</div>
<div class="paragraph">
<p>If you have chosen to run Couchbase Server on a port other than <code>8091</code>, connect on that specific port.</p>
</div>
<div class="paragraph">
<p>For additional, detailed information on using hostnames and IP addresses, see <a href="../../learn/clusters-and-availability/nodes.html#naming-clusters-and-nodes" class="xref page">Naming Clusters and Nodes</a>.</p>
</div>
<div class="paragraph">
<p>Once you have connected, the <strong>Welcome</strong> screen appears:</p>
</div>
<div id="welcome" class="imageblock text-left">
<div class="content">
<img src="../_images/manage-nodes/welcome.png" alt="Welcome Screen" width="400">
</div>
</div>
<div class="paragraph">
<p>The <strong>Welcome</strong> screen lets you either <strong>Setup New Cluster</strong>, or <strong>Join Existing Cluster</strong>.
Information on joining an existing cluster is provided in <a href="join-cluster-and-rebalance.html" class="xref page">Join a Cluster and Rebalance</a>.
To set up a new cluster, left-click on <strong>Setup New Cluster</strong>.</p>
</div>
<div class="sect2">
<h3 id="set-up-a-new-cluster"><a class="anchor" href="#set-up-a-new-cluster"></a>Set Up a New Cluster</h3>
<div class="paragraph">
<p>The <strong>New Cluster</strong> screen now appears, as follows:</p>
</div>
<div id="set_up_new_cluster_01" class="imageblock text-left">
<div class="content">
<img src="../_images/manage-nodes/setUpNewCluster01.png" alt="New Cluster Screen" width="400">
</div>
</div>
<div class="paragraph">
<p>The fields displayed on the screen are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Cluster Name</strong>: Your choice of name for the cluster to be created.
For information on cluster-naming, see <a href="../../learn/clusters-and-availability/nodes.html#naming-clusters-and-nodes" class="xref page">Naming Clusters and Nodes</a>.</p>
</li>
<li>
<p><strong>Create Admin Username</strong>: Your choice of username, for yourself: the <em>Full Administrator</em> for this cluster.
You will have read-write access to all Couchbase Server resources; including the ability to create new users with defined roles and corresponding privileges.</p>
<div class="paragraph">
<p>Note that Couchbase Server prohibits use of the following characters in usernames: <code>( ) &lt; &gt; @ , ; : \ " / [ ]  ? = { }</code>.
Usernames <em>may not</em> be more than 128 UTF-8 characters in length; and it is recommended that they be no more than 64 UTF-8 characters in length, in order to ensure successful onscreen display.
For more information, see <a href="../../learn/security/usernames-and-passwords.html" class="xref page">Usernames and Passwords</a>.</p>
</div>
</li>
<li>
<p><strong>Create Password</strong>: Your choice of password, for yourself: the Full Administrator for this cluster.
The only default format-requirement is that the password be at least 6 characters in length.
However, following cluster-initialization, you can modify (and indeed strengthen) the default password-policy, by means of the Couchbase CLI <a href="#cli:cbcli/couchbase-cli-setting-password-policy.adoc" class="xref unresolved">setting-password-policy</a> command.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see <a href="../../learn/security/usernames-and-passwords.html" class="xref page">Usernames and Passwords</a>.</p>
</div>
<div class="paragraph">
<p>When you have entered appropriate data into each field, left-click on the <strong>Next: Accept Terms</strong> button, at the lower right.</p>
</div>
</div>
<div class="sect2">
<h3 id="accept-terms"><a class="anchor" href="#accept-terms"></a>Accept Terms and Register for Updates</h3>
<div class="paragraph">
<p>The <strong>New Cluster</strong> screen now changes, to show the <strong>Terms and Conditions</strong> for the Enterprise Edition of Couchbase Server:</p>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/manage-nodes/termsUpdatesAndSharingDialog.png" alt="Terms and Conditions Screen" width="400">
</div>
</div>
<div class="paragraph">
<p>The terms and conditions for use of the product are displayed in the panel immediately below the <strong>Terms and Conditions</strong> banner.
Check the <strong>I accept the terms &amp; conditions</strong> checkbox, which is immediately below the panel.
(Note that if you wish, you may left-click on the <strong>terms and conditions</strong> link, in order to access a web-based document, containing the text.)</p>
</div>
<div class="paragraph">
<p>Next, determine whether you wish to share usage information with Couchbase: a full account of this process is provided in the panel beneath the header <strong>Software Updates &amp; Sharing Usage Information With Couchbase</strong>.
You are strongly recommended to share information, and thereby benefit from regular software update notifications: the checkbox marked <strong>Share usage information with Couchbase and get software update notifications</strong> is checked by default.
(Note that if you wish, you may left-click on the <strong>Privacy FAQ</strong> and <strong>Couchbase Privacy Policy</strong> links, in order to read web-based versions of those documents.)</p>
</div>
<div class="paragraph">
<p>You now have two options for proceeding.
If you left-click on the <strong>Finish With Defaults</strong> button, cluster-initialization is performed with default settings, provided by Couchbase; the Couchbase Web Console <strong>Dashboard</strong> appears, and your configuration is complete.
<em>All</em> Couchbase services will have been deployed.</p>
</div>
<div class="paragraph">
<p>However, if you wish to customize those settings, left-click on the <strong>Configure Disk, Memory, Services</strong> button, and proceed as follows.</p>
</div>
</div>
<div class="sect2">
<h3 id="configure-couchbase-server"><a class="anchor" href="#configure-couchbase-server"></a>Configure Couchbase Server</h3>
<div class="paragraph">
<p>The <strong>Configure</strong> screen now appears, as follows:</p>
</div>
<div id="configure_new_cluster_01" class="imageblock text-left">
<div class="content">
<img src="../_images/manage-nodes/configureNewCluster01.png" alt="New Cluster Configuration Screen" width="400">
</div>
</div>
<div class="paragraph">
<p>The displayed fields are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Host Name / IP Address</strong>: The data in this field determines the name that will be used for this node.
The field has been populated with the <em>loopback</em> address, <code>127.0.0.1</code>, which can be used until a second node is added to the cluster, at which point the name will automatically be changed to the IP address of the underlying host.
If you wish, you can substitute the IP address of the underlying host now, or you can substitute the fully qualified hostname of the underlying host, if one exists.
If you <em>do</em> wish to use a fully qualified hostname, you <em>must</em> specify it now, since a node&#8217;s name cannot be changed from an IP address to a hostname once the cluster has become a multi-node cluster.
For information on naming, see <a href="../../learn/clusters-and-availability/nodes.html#naming-clusters-and-nodes" class="xref page">Naming Clusters and Nodes</a>.</p>
</li>
<li>
<p><strong>enable node encryption</strong>: Check the checkbox to enable <em>node-to-node</em> encryption for the cluster.
Use of IP address families and node-to-node encryption is described in <a href="../../learn/clusters-and-availability/node-to-node-encryption.html" class="xref page">Node-to-Node Encryption</a>.</p>
</li>
<li>
<p><strong>IP Family Preference</strong>: Select the appropriate radio-button.
If <strong>IPv4</strong> or <strong>IPv6</strong> is selected, the corresponding address family is required, but the other supported address family can also be used.
(This is the default setting, with the IPv4 address family being required.)
If <strong>IPv4-only</strong> or <strong>IPv6-only</strong> is selected, only the corresponding address family can be used.
(Note that the <strong>IPv4-only</strong> and <strong>IPv6-only</strong> options are available only with Couchbase Server Version 7.0.2 and later.)</p>
</li>
<li>
<p><strong>Service Memory Quotas</strong>: A series of fields that allows you to specify how much memory should be allocated to each service you select for both the current node and for each node you may subsequently add to the cluster.
Each service can be selected by checking a checkbox, and then specifying the total number of megabytes to be assigned to the service.
In each case, a memory quota is suggested, and a minimum quota is required.
The sum of all quotas must be within the total amount of available RAM for the current node.</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><strong>Data Service</strong>: Since you are starting a new cluster, the Data Service (which is essential for the cluster) has been allocated with its checkbox disabled.
The default, minimum quota of 256 MiB is provided: this can be increased, if appropriate.
(Note that to use the <code>travel-sample</code> bucket for experimentation, a minimum of 512 MiB should be allocated: see <a href="../manage-settings/install-sample-buckets.html" class="xref page">Sample Buckets</a>).</p>
</li>
<li>
<p><strong>Index Service</strong>: Selection and RAM-allocation to support <em>Global Secondary Indexes</em>.
This should be 256 MiB or more.
If this service is selected, a default quota is provided.</p>
</li>
<li>
<p><strong>Query Service</strong>: No RAM-allocation is required for this service.</p>
</li>
<li>
<p><strong>Search Service</strong>: Selection and RAM-allocation for the Full Text Search Service.
This should be 256 MiB or more.
If this service is selected, a default quota is provided.</p>
</li>
<li>
<p><strong>Analytics Service</strong>: Selection and RAM-allocation for the Analytics Service.
The memory quota should be 1024 MiB or more.
If this service is selected, a default quota is provided.</p>
</li>
<li>
<p><strong>Eventing Service</strong>: Selection and RAM-allocation for the Eventing Service.
The memory quota should be 256 MiB or more.
If this service is selected, a default quota is provided.</p>
</li>
<li>
<p><strong>Backup Service</strong>: No RAM-allocation is required for this service.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>The total memory quota you have allocated is displayed below these fields, towards the right.
The total RAM available is displayed below this figure, at the center.
If your memory allocation is excessive, a notification warns you, and you must lessen your allocation.</p>
</div>
</li>
<li>
<p><strong>Data Disk Path</strong>: Enter the location on the current node where the database files will be stored.
An OS-specific default is provided.
The read-only <strong>Free</strong> field shows the current amount of free space for this location.</p>
</li>
<li>
<p><strong>Index Storage Setting</strong>: If the Index Service has been selected, either <strong>Standard Global Secondary</strong> Indexes or <strong>Memory-Optimized</strong> Global Secondary Indexes can be chosen here, by means of radio buttons.
See <a href="#learn:services-and-indexes/indexes/global-secondary-indexes.adoc" class="xref unresolved">Global Secondary Indexes</a>, for details.</p>
</li>
<li>
<p><strong>Indexes Disk Path</strong>: Enter the location on the current node where indexes will be stored.
An OS-specific default is provided.
The read-only <strong>Free</strong> field shows the current amount of free space for this location.</p>
<div class="paragraph">
<p>Note that for a production environment, it is recommended that data and indexes should <em>not</em> share the same location.</p>
</div>
</li>
<li>
<p><strong>Eventing Disk Path</strong>: Enter the location on the current node where Eventing data will be stored.
An OS-specific default is provided.
The read-only <strong>Free</strong> field shows the current amount of free space for this location.</p>
</li>
<li>
<p><strong>Analytics Disk Paths</strong>: Enter the location on the current node where indexes will be stored.
An OS-specific default is provided.
The read-only <strong>Free</strong> field shows the current amount of free space for this location.</p>
<div class="paragraph">
<p>You can enter more than one location to store Analytics data.
Click <strong>+</strong> to specify an additional location for Analytics data, or click <strong>-</strong> to remove a location.</p>
</div>
</li>
<li>
<p><strong>Java Runtime Path</strong>: If desired, enter the location for an alternative Java Runtime Environment (JRE) on the current node that you want to use for the Analytics Service.</p>
<div class="paragraph">
<p>Couchbase Server is supplied with an OpenJDK-based JRE.
If no location is specified, the supplied JRE is used.
For a list of compatible Java Runtime Environments, refer to <a href="../../install/install-environments.html" class="xref page">Additional Requirements</a>.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>When you have finished entering your configuration-details, left-click on the <strong>Save &amp; Finish</strong> button, at the lower right.
This configures the server accordingly, and brings up the Couchbase Web Console <strong>Dashboard</strong>, for the first time.</p>
</div>
<div id="dashboard_01" class="imageblock text-left">
<div class="content">
<img src="../_images/manage-nodes/dashboard01.png" alt="New Cluster Dashboard" width="820">
</div>
</div>
<div class="paragraph">
<p>The display thus consists of a <strong>banner</strong> with interactive controls; a <strong>main panel</strong>, which allows display of data and configuration fields (and which, on initial appearance, is unpopulated); a <strong>left-hand navigation bar</strong>, which allows the main panel&#8217;s content to be determined; and a <strong>lower panel</strong>, which displays current status on the cluster.
These are described in <a href="../manage-ui/manage-ui.html#understanding-the-dashboard" class="xref page">Understanding the Dashboard</a>, which is part of the page that introduces all features of <a href="../manage-ui/manage-ui.html" class="xref page">Couchbase Web Console</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="new-custer-set-up-next-steps"><a class="anchor" href="#new-custer-set-up-next-steps"></a>New-Cluster Set-Up: Next Steps</h3>
<div class="paragraph">
<p>If this is the first server in the cluster, a notification appears, stating that no buckets are currently defined.
A <em>bucket</em> is the principal unit of data-storage used by Couchbase Server.
In order to save and subsequently access documents and other objects, you must create one or more buckets.</p>
</div>
<div class="paragraph">
<p>As specified by the notification, you can go to <strong>Buckets</strong>, and begin bucket-creation; or add a <strong>sample bucket</strong>: left-click on the links provided.
A description of how to create, edit, flush, and delete buckets can be found in the section
<a href="../manage-buckets/bucket-management-overview.html" class="xref page">Manage Buckets</a>.
An architectural description of buckets can be found in the section <a href="../../learn/buckets-memory-and-storage/buckets.html" class="xref page">Buckets</a>.
(There are three different kinds of bucket, so you may wish to familiarize yourself with their properties, before you start bucket-creation.)
Note that <em>sample</em> buckets already contain data, and so are ready for your immediate experimentation and testing.</p>
</div>
<div class="paragraph">
<p>The buckets that you create must be accessed securely: therefore, Couchbase Server provides a system of <em>Role-Based Access Control</em> (RBAC), which must be used by administrators and applications that wish to access buckets.
Each administrator and application is considered to be a <em>user</em>, and must perform bucket-access by passing a username and password.
For information on how to set up RBAC users so that they can access the buckets you create, see
<a href="../../learn/security/authorization-overview.html" class="xref page">Authorization</a>.</p>
</div>
<div class="paragraph">
<p>To continue building your cluster by means of node-addition, proceed to <a href="add-node-and-rebalance.html" class="xref page">Add a Node and Rebalance</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="provision-a-node-with-the-cli"><a class="anchor" href="#provision-a-node-with-the-cli"></a>Provision a Node with the CLI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To provision a node with the CLI, use the <code>cluster-init</code> command, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>couchbase-cli cluster-init -c 10.142.181.101 \
--cluster-username Administrator \
--cluster-password password \
--services data,index,query \
--cluster-ramsize 512 \
--cluster-index-ramsize 256</pre>
</div>
</div>
<div class="paragraph">
<p>This provisions node <code>10.142.181.101</code> with the Full Administrator username and password, and establishes three services. It also specifies memory quotas for Data and Index services.</p>
</div>
<div class="paragraph">
<p>If the node is successfully provisioned, it is thereby initialized as a cluster. The following output is displayed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SUCCESS: Cluster initialized</pre>
</div>
</div>
<div class="paragraph">
<p>Note that the IP-address family and the disk-paths for data, indexes, and analytics are, by this use of <code>cluster-init</code>, either left as the defaults, or as the values already specified by prior use of the <code>node-init</code> command: see
<a href="initialize-node.html#initialize-node-with-the-cllii" class="xref page">Initialize a Node with the CLI</a>.</p>
</div>
<div class="paragraph">
<p>For more information on the <code>cluster-init</code> command, including additional flags that can be specified, see the command reference for <a href="#cli:cbcli/couchbase-cli-cluster-init.adoc" class="xref unresolved">cluster-init</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="provision-a-node-with-the-rest-api"><a class="anchor" href="#provision-a-node-with-the-rest-api"></a>Provision a Node with the REST API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following REST API examples set up a single-node Couchbase-Server cluster with three services, administrative credentials, and a RAM quota.
The following methods are used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/node/controller/setupServices</code>: Allows services to be assigned, by means of the <code>services</code> flag. Values can be <code>kv</code> (Data Service), <code>index</code> (Index Service), <code>n1ql</code> (Query Service), <code>fts</code> (Search Service), <code>eventing</code> (Eventing Service), and <code>cbas</code> (Analytics Service).</p>
</li>
<li>
<p><code>/pools/default</code>: Allows memory quotas to be specified.</p>
</li>
<li>
<p><code>/settings/web</code>: Allows Full Administrator username and password to be specified.
Requires the REST API port to be specified also, with <code>SAME</code> accepted as the default.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For complete references, see <a href="../../rest-api/rest-intro.html" class="xref page">Creating a New Cluster</a>.</p>
</div>
<div class="paragraph">
<p>Enter the following, to provision a node with Data, Query, and Index services; to establish quotas for Data Service and Index Service, and to establish Full Administrator credentials.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl  -v -X POST http://10.142.181.101:8091/node/controller/setupServices \
-d 'services=kv%2Cn1ql%2Cindex'

curl  -v -X POST http://10.142.181.101:8091/pools/default \
-d 'memoryQuota=256' \
-d 'indexMemoryQuota=256'

curl  -u Administrator:password -v -X POST \
http://10.142.181.101:8091/settings/web \
-d 'password=password&amp;username=Administrator&amp;port=SAME'</pre>
</div>
</div>
<div class="paragraph">
<p>The last command, which establishes credentials, completes provisioning.
The following output is provided:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"newBaseUri":"http://10.142.181.101:8091/"}</pre>
</div>
</div>
<div class="paragraph">
<p>The provisioned node has thus been initialized as a cluster, and is available at the given IP address and port number.
Note that the default disk-paths for data, indexes, and analytics will be used, since no custom paths were specified by means of <code>/nodes/self/controller/settings</code> (see <a href="initialize-node.html#initialize-node-with-the-rest-api" class="xref page">Initialize a Node with the REST API</a>.)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="next-steps-after-provisioning"><a class="anchor" href="#next-steps-after-provisioning"></a>Next Steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Following provisioning, a Couchbase Server node constitutes a <em>Couchbase Cluster</em> of one node.
From this point, more nodes can be <em>added</em> to the cluster.
See <a href="add-node-and-rebalance.html" class="xref page">Add a Node and Rebalance</a>, for details.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../../_/js/site.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
</body>
</html>
