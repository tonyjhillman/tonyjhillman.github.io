<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>Managing Advanced Settings | Couchbase Docs</title>
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="XDCR advanced settings can be used to configure replications.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/rest-api/rest-xdcr-adv-settings.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/rest-api/pages/rest-xdcr-adv-settings.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb">Reference</li>
<li class="crumb"><a href="rest-intro.html">REST API Reference</a></li>
<li class="crumb"><a href="rest-xdcr-intro.html">XDCR API</a></li>
<li class="crumb"><a href="rest-xdcr-adv-settings.html">Managing Advanced Settings</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Managing Advanced Settings</h1>
<div class="labels">
<ul><li class="reference"><span><i class="fas fa-book"></i></i> reference</span></li>
</ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
XDCR advanced settings can be used to configure replications.
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="http-methods-and-uri"><a class="anchor" href="#http-methods-and-uri"></a>HTTP methods and URI</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>POST /settings/replications/

POST /settings/replications/&lt;settings_URI&gt;

GET /settings/replications/

GET /settings/replications/&lt;settings_URI&gt;</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="description"><a class="anchor" href="#description"></a>Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Used with the <code>POST</code> method, the URIs respectively change global settings for <em>all</em> replications; and for <em>a specific</em> replication, which is referenced by its <code>settings_URI</code>.
The <code>settings_URI</code> comprises the <em>id</em> for the replication, and can be retrieved by means of the <code>GET /pools/default/tasks</code> method and URI: see <a href="rest-get-cluster-tasks.html" class="xref page">Getting Cluster Tasks</a>.</p>
</div>
<div class="paragraph">
<p>The global settings are the default values used if settings are not specified during the creation of a particular replication.
If settings are specified for a particular replication, the specified settings overwrite the global settings.</p>
</div>
<div class="paragraph">
<p>If the global settings are themselves changed, existing replications are not affected: only replications created <em>after</em> the change made to the global settings receive the updated global settings.</p>
</div>
<div class="paragraph">
<p>Used with the <code>GET</code> method, the URIs respectively retrieve global settings for <em>all</em> replications; and for <em>a specific</em> replication, which is referenced by its <code>settings_URI</code>.</p>
</div>
<div class="paragraph">
<p>Each command requires the Full Admin, Cluster Admin, ReadOnly Admin, External User Security Admin, Local User Security Admin, Backup Full Admin, or XDCR Admin role.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="curl-syntax"><a class="anchor" href="#curl-syntax"></a>Curl Syntax</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>curl -u &lt;username&gt;:&lt;password&gt; -X POST
  http://&lt;ip-address-or-domain-name&gt;:8091/settings/replications
  [ -d &lt;xdcr-advanced-setting&gt;=&lt;value&gt; ]*

curl -u &lt;username&gt;:&lt;password&gt; -X POST \
  http://&lt;ip-address-or-domain-name&gt;:8091/settings/replications/&lt;settings_URI&gt;
  [ -d &lt;xdcr-advanced-setting&gt;=&lt;value&gt; ]*

curl -u &lt;username&gt;:&lt;password&gt; -X GET \
  http://&lt;ip-address-or-domain-name&gt;:8091/settings/replications

curl -u &lt;username&gt;:&lt;password&gt; -X GET \
  http://&lt;ip-address-or-domain-name&gt;:8091/settings/replications/&lt;settings_URI&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Each instance of the POST method allows one or more instances of the <code>xdcr-advanced-setting</code> flag to be specified, with an appropriate <code>value</code>.
All flags are listed below, in the section <a href="#xdcr-advanced-settings-rest">List of Advanced Settings</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="responses"><a class="anchor" href="#responses"></a>Responses</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If successful, <code>GET</code> and <code>POST</code> commands return <code>200 OK</code>.
Commands for establishing or retrieving either global settings or the settings for a specific replication return an object containing the settings.</p>
</div>
<div class="paragraph">
<p>Failure to authenticate returns <code>401 Unauthorized</code>.
A URI featuring an incorrect hostname or port returns a <code>failure to connect</code> message.
An incorrect <code>settings_URI</code> returns <code>400 Bad Request</code>, and an object such as <code>{"errors":{"_":"requested resource not found"}}</code>.</p>
</div>
<div class="paragraph">
<p>An attempt to set a global-only setting for a specific replication returns <code>400 Bad Request</code>, and an object indicating which submitted parameters were incorrect.
For example, the attempted use of <code>POST /settings/replications/&lt;settings_URI&gt;</code> to establish values for <code>goGC</code> and <code>goMaxProcs</code> returns the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
  "gogc": "Invalid settings key",
  "gomaxprocs": "Invalid settings key"
}</pre>
</div>
</div>
<div class="paragraph">
<p>A replication-specific parameter (such as <code>pauseRequested</code>) is ignored, if incorrectly specified in an attempt to modify global settings.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following examples show how settings can be established and retrieved.</p>
</div>
<div class="sect2">
<h3 id="get-settings-for-all-replications"><a class="anchor" href="#get-settings-for-all-replications"></a>Get Settings for All Replications</h3>
<div class="paragraph">
<p>The following example retrieves settings for all replications.
Note that the output is piped to the <a href="https://stedolan.github.io/jq/" target="_blank" rel="noopener">jq</a> command, to facilitate readability:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -u Administrator:password -X GET http://localhost:8091/settings/replications | jq '.'</pre>
</div>
</div>
<div class="paragraph">
<p>If successful, the call returns an object similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
  "checkpointInterval": 600,
  "ckptSvcCacheEnabled": true,
  "compressionType": "Auto",
  "desiredLatency": 50,
  "docBatchSizeKb": 2048,
  "failureRestartInterval": 10,
  "filterBypassExpiry": false,
  "filterBypassUncommittedTxn": false,
  "filterDeletion": false,
  "filterExpiration": false,
  "goGC": 100,
  "goMaxProcs": 4,
  "hlvPruningWindowSec": 259200,
  "jsFunctionTimeoutMs": 20000,
  "logLevel": "Info",
  "mergeFunctionMapping": {},
  "networkUsageLimit": 0,
  "optimisticReplicationThreshold": 256,
  "preReplicateVBMasterCheck": true,
  "priority": "High",
  "replicateCkptIntervalMin": 20,
  "retryOnRemoteAuthErr": true,
  "retryOnRemoteAuthErrMaxWaitSec": 3600,
  "sourceNozzlePerNode": 2,
  "statsInterval": 1000,
  "targetNozzlePerNode": 2,
  "workerBatchSize": 500
}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="get-settings-for-a-specific-replication"><a class="anchor" href="#get-settings-for-a-specific-replication"></a>Get Settings for a Specific Replication</h3>
<div class="paragraph">
<p>To reference a specific replication, the replication&#8217;s <code>settings_URI</code> must first be retrieved.
Use the following call, which is explained in detail in <a href="rest-get-cluster-tasks.html" class="xref page">Getting Cluster Tasks</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X GET http://localhost:8091/pools/default/tasks -u Administrator:password | jq '.'</pre>
</div>
</div>
<div class="paragraph">
<p>If successful, the call returns an array of ongoing cluster tasks, similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "statusId": "20caaa733e53b3ab3a370ce89de21cc0",
    "type": "rebalance",
    "subtype": "rebalance",
    "status": "notRunning",
    "statusIsStale": false,
    "masterRequestTimedOut": false,
    "lastReportURI": "/logs/rebalanceReport?reportID=57461c2db70751343a307fb91b8b242a"
  },
  {
    "cancelURI": "/controller/cancelXDCR/0ad6c74d0f9fee5e447688933df6b281%2Ftravel-sample%2Fts2",
    "settingsURI": "/settings/replications/0ad6c74d0f9fee5e447688933df6b281%2Ftravel-sample%2Fts2",
    "status": "running",
    "replicationType": "xmem",
    "continuous": true,
    "filterBypassExpiry": false,
    "filterDeletion": false,
    "filterExpiration": false,
    "filterExpression": "",
    "id": "0ad6c74d0f9fee5e447688933df6b281/travel-sample/ts2",
    "pauseRequested": false,
    "source": "travel-sample",
    "target": "/remoteClusters/0ad6c74d0f9fee5e447688933df6b281/buckets/ts2",
    "type": "xdcr",
    "recommendedRefreshPeriod": 10,
    "changesLeft": 0,
    "docsChecked": 84792,
    "docsWritten": 0,
    "maxVBReps": null,
    "errors": [
    ]
  },
  {
    "cancelURI": "/controller/cancelXDCR/2b5dcd1b0101a9d52f31a802d8c4231e%2Ftravel-sample%2Fts",
    "settingsURI": "/settings/replications/2b5dcd1b0101a9d52f31a802d8c4231e%2Ftravel-sample%2Fts",
    "status": "running",
    "replicationType": "xmem",
    "continuous": true,
    "filterBypassExpiry": false,
    "filterDeletion": false,
    "filterExpiration": false,
    "filterExpression": "",
    "id": "2b5dcd1b0101a9d52f31a802d8c4231e/travel-sample/ts",
    "pauseRequested": false,
    "source": "travel-sample",
    "target": "/remoteClusters/2b5dcd1b0101a9d52f31a802d8c4231e/buckets/ts",
    "type": "xdcr",
    "recommendedRefreshPeriod": 10,
    "changesLeft": 0,
    "docsChecked": 84792,
    "docsWritten": 0,
    "maxVBReps": null,
    "errors": [
    ]
  }
]</pre>
</div>
</div>
<div class="paragraph">
<p>A <code>settings_URI</code> is provided for each of the ongoing replications, within the second member of the array.
The <code>settings_URI</code> can be used to retrieve information on the corresponding replication.</p>
</div>
<div class="paragraph">
<p>For example, enter the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X GET http://localhost:8091/settings/replications/2b5dcd1b0101a9d52f31a802d8c4231e%2Ftravel-sample%2Fts \
-u Administrator:password | jq '.'</pre>
</div>
</div>
<div class="paragraph">
<p>If the call is successful, an object containing the settings for the specified replication is returned:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
  "checkpointInterval": 600,
  "ckptSvcCacheEnabled": true,
  "colMappingRules": {},
  "collectionsExplicitMapping": false,
  "collectionsMigrationMode": false,
  "collectionsMirroringMode": false,
  "collectionsOSOMode": true,
  "compressionType": "Auto",
  "desiredLatency": 50,
  "docBatchSizeKb": 2048,
  "failureRestartInterval": 10,
  "filterBypassExpiry": false,
  "filterBypassUncommittedTxn": false,
  "filterDeletion": false,
  "filterExpiration": false,
  "filterExpression": "",
  "hlvPruningWindowSec": 259200,
  "jsFunctionTimeoutMs": 20000,
  "logLevel": "Info",
  "mergeFunctionMapping": {},
  "networkUsageLimit": 0,
  "optimisticReplicationThreshold": 256,
  "pauseRequested": false,
  "preReplicateVBMasterCheck": true,
  "priority": "High",
  "replicateCkptIntervalMin": 20,
  "retryOnRemoteAuthErr": true,
  "retryOnRemoteAuthErrMaxWaitSec": 3600,
  "sourceNozzlePerNode": 2,
  "statsInterval": 1000,
  "targetNozzlePerNode": 2,
  "type": "xmem",
  "workerBatchSize": 500
}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="change-a-setting-for-a-specific-replication"><a class="anchor" href="#change-a-setting-for-a-specific-replication"></a>Change a Setting for a Specific Replication</h3>
<div class="paragraph">
<p>The following example modifies the value of <code>checkpointInterval</code>, for a specific replication:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v X POST \
http://localhost:8091/settings/replications/2b5dcd1b0101a9d52f31a802d8c4231e%2Ftravel-sample%2Fts -d checkpointInterval=700 \
-u Administrator:password | jq '.'</pre>
</div>
</div>
<div class="paragraph">
<p>If successful, the call returns an object containing all current settings for the replication, including what has been changed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
  "checkpointInterval": 700,
  "ckptSvcCacheEnabled": true,
  "colMappingRules": {},
  "collectionsExplicitMapping": false,
  "collectionsMigrationMode": false,
  "collectionsMirroringMode": false,
  "collectionsOSOMode": true,
  "compressionType": "Auto",
  "desiredLatency": 50,
  "docBatchSizeKb": 2048,
  "failureRestartInterval": 10,
  "filterBypassExpiry": false,
  "filterBypassUncommittedTxn": false,
  "filterDeletion": false,
  "filterExpiration": false,
  "filterExpression": "",
  "hlvPruningWindowSec": 259200,
  "jsFunctionTimeoutMs": 20000,
  "logLevel": "Info",
  "mergeFunctionMapping": {},
  "networkUsageLimit": 0,
  "optimisticReplicationThreshold": 256,
  "pauseRequested": false,
  "preReplicateVBMasterCheck": true,
  "priority": "High",
  "replicateCkptIntervalMin": 20,
  "retryOnRemoteAuthErr": true,
  "retryOnRemoteAuthErrMaxWaitSec": 3600,
  "sourceNozzlePerNode": 2,
  "statsInterval": 1000,
  "targetNozzlePerNode": 2,
  "type": "xmem",
  "workerBatchSize": 500
}</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xdcr-advanced-settings-rest"><a class="anchor" href="#xdcr-advanced-settings-rest"></a>List of Advanced Settings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The advanced settings for XDCR are as follows.
The subset of advanced settings that can be configured by means of Couchbase Web Console is provided at <a href="../xdcr-reference/xdcr-advanced-settings.html" class="xref page">XDCR Advanced Settings</a>.</p>
</div>
<table id="table_xdcr_settings" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. XDCR Advanced Settings</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 19.0476%;">
<col style="width: 47.6191%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>checkpointInterval</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer (60 to 14400)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: 600
The interval for checkpointing in seconds.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>colMappingRules</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSON Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection-related rules according to which explicit mapping or migration is defined for the replication.
See <a href="../learn/clusters-and-availability/xdcr-with-scopes-and-collections.html#rules-for-explicit-mappings" class="xref page">Rules for Explicit Mappings</a> and <a href="../learn/clusters-and-availability/xdcr-with-scopes-and-collections.html#rules-for-migration" class="xref page">Rules for Migration</a>.</p>
<p class="tableblock">This setting can only be established for and retrieved from an individual replication: it cannot be established or retrieved as part of global settings.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>collectionsExplicitMapping</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean (true or false)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the replication uses explicit mapping: see <a href="../learn/clusters-and-availability/xdcr-with-scopes-and-collections.html#rules-for-explicit-mappings" class="xref page">Rules for Explicit Mappings</a>.</p>
<p class="tableblock">This setting can only be established for and retrieved from an individual replication: it cannot be established or retrieved as part of global settings.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>collectionsMigrationMode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean (true or false)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the replication uses migration mode: see <a href="../learn/clusters-and-availability/xdcr-with-scopes-and-collections.html#migration" class="xref page">Migration</a>.</p>
<p class="tableblock">This setting can only be established for and retrieved from an individual replication: it cannot be established or retrieved as part of global settings.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>collectionsOSOMode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean (true or false)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the replication optimizes performance; by streaming, from a source bucket, mutations that could be out of order, in terms of sequence-number.
Default is true.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compressionType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: <code>Auto</code>.
Specifies whether documents are to be compressed for XDCR, and if so, what compression type is to be used.
For information, see the <a href="../xdcr-reference/xdcr-advanced-settings.html#table-of-xdcr-advanced-settings" class="xref page">Table of XDCR Advanced Settings</a>.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>desiredLatency</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the amount of time in milliseconds within which a high-priority replication&#8217;s currently remaining changes should be reduced in number to zero, by ongoing transmission of the changes from source to target bucket.
If Couchbase Server estimates that the time required is greater than that specified by <code>desiredLatency</code>, the replication is considered to be backlogged: XDCR therefore attempts to communicate with the Data Service, to establish a higher DCP priority for the replication, and thereby ensure swifter transmission of data.</p>
<p class="tableblock">This setting applies only to high-priority replications, or to medium-priority replications that achieve high-priority status (see <a href="../learn/clusters-and-availability/xdcr-overview.html#xdcr-priority" class="xref page">XDCR Priority</a>).
The default value is 50.
The lower the value, the higher (potentially) the transmission rate, and the greater the load on the target cluster.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>docBatchSizeKb</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer (10 to 10000)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: 2048.
The size of a batch in kilobytes.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>failureRestartInterval</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer (1 to 300)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: 10.
The number of seconds to wait after a failure before restarting replication.
This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>filterBypassExpiry</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean (true or false)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: false.
Whether a document&#8217;s TTL should be replicated with the document or not.
A value of true means that the TTL is removed from the document.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>filterBypassUncommittedTxn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean (true or false)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: false. When false, the setting specifies that if a document contains uncommitted transactional metadata (<em>xattributes</em>), XDCR removes them, before replicating the document.
The original document in the source bucket is unaffected.</p>
<p class="tableblock">When true, the setting specifies that if the document contains uncommitted transactional metadata, XDCR does not replicate the document.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>filterDeletion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean (true or false)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: false.
Whether mutations corresponding to the deletion of documents on the source cluster should be either <em>filtered out</em> of the replication to the target cluster, or allowed to remain in.
A value of true means that the mutation <em>is</em> filtered out, ensuring that it is <em>not</em> replicated to the target cluster; while a value of false means that the mutation is <em>not</em> filtered out, ensuring that it <em>is</em> replicated to the target cluster.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>filterExpiration</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean (true or false)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: false.
Whether mutations corresponding to the expiration of documents on the source cluster should be either <em>filtered out</em> of the replication to the target cluster, or allowed to remain in.
A value of true means that the mutation <em>is</em> filtered out, ensuring that it is <em>not</em> replicated to the target cluster; while a value of false (the default) means that the mutation is <em>not</em> filtered out, ensuring that it <em>is</em> replicated to the target cluster.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>filterExpression</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String (a filter expression)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: null.
A filter expression to be matched against the ids, field-names, values, and extended attributes of documents in the source bucket.
Each document that produces a successful match is replicated; other documents are not replicated.
For supported expressions, see <a href="../xdcr-reference/xdcr-filtering-reference-intro.html" class="xref page">XDCR Advanced Filtering Reference</a>.</p>
<p class="tableblock">This setting can only be established for and retrieved from an individual replication: it cannot be established or retrieved as part of global settings.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>goGC</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer (0 to 100) or String ("off")</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: 100.
The initial garbage collection target percentage for the replication.
A garbage collection is triggered when the ratio of freshly allocated data to live data remaining after the previous collection reaches this percentage.
A value of "off" disables the garbage collector entirely.</p>
<p class="tableblock">This setting is only returned when global settings are retrieved; and can only be set when global settings are set.
It cannot be set when an individual replication is created, or when its settings are modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>goMaxProcs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: 4.
The maximum number of threads used per node, to support XDCR.
A greater number of threads increases parallelism, and may thereby produce enhanced XDCR performance.</p>
<p class="tableblock">This setting is only returned when global settings are retrieved; and can only be set when global settings are set.
It cannot be set when an individual replication is created, or when its settings are modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hlvPruningWindowSec</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used in <em>custom conflict-resolution</em>.
The integer specifies the duration, in seconds, of the time-window that starts when a remote cluster has modified the document that is currently being replicated.
The remote cluster&#8217;s update is recorded in a <em>Hybrid Logical Vector</em> (HLV).
If the specified time-window expires without further modification being made by the remote cluster, information about the remote cluster&#8217;s update is removed from the HLV.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jsFunctionTimeoutMs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used in <em>custom conflict-resolution</em>.
Specifies the number of milliseconds that must elapse before the timeout of a JavaScript conflict-resolution function.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>logLevel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: <code>Info</code>.
The level of logging, such as <code>Error</code>/<code>Info</code>/<code>Debug</code>/<code>Trace</code>.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mergeFunctionMapping</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSON Object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Each of the key-value pairs in the JSON object should map a collection-specifier (in the form <code>scope.collection</code>) to the name of a defined merge-function.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>networkUsageLimit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: 0.
Specifies the upper limit for network usage during replication, for the entire cluster, in MB per second.
The default is 0, meaning no limit is applied.
For information, see the <a href="../xdcr-reference/xdcr-advanced-settings.html#table-of-xdcr-advanced-settings" class="xref page">Table of XDCR Advanced Settings</a>.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>optimisticReplicationThreshold</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer (0 to (20*1024*1024))</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: 256.
Documents with sizes less than this threshold (in bytes) will be replicated optimistically.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pauseRequested</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean (true or false)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: false.
Indicates whether the replication has been issued a pause request.</p>
<p class="tableblock">This setting can only be established for and retrieved from an individual replication: it cannot be established or retrieved as part of global settings.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>priority</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High, Medium, or Low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: High.
Resource-allocation for the replication.
For information, see <a href="../learn/clusters-and-availability/xdcr-overview.html#xdcr-priority" class="xref page">XDCR Priority</a>.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>retryOnRemoteAuthErr</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean (true or false)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to retry connection for a replication that has failed due to a problem in authenticating with the target cluster.
The default is true.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>retryOnRemoteAuthErrMaxWaitSec</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum number of seconds to wait before retrying a connection that failed due to a problem in authenticating with the target cluster.
This only takes effect when <code>retryOnRemoteAuthErr</code> is true.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sourceNozzlePerNode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer (1 to 100)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of nozzles that can be used for this replication per source cluster node.
This together with <code>target_nozzle_per_node</code> controls the parallelism of the replication.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>statsInterval</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer (200 to 600000)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: 1000.
The interval (in milliseconds) for statistics updates.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>targetNozzlePerNode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer (1 to 100)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of outgoing nozzles per target node.
This together with <code>source_nozzle_per_node</code> controls the parallelism of the replication.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String <code>"xmem"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The replication type, which must be <code>"xmem"</code>.</p>
<p class="tableblock">This setting can only be established for and retrieved from an individual replication: it cannot be established or retrieved as part of global settings.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>workerBatchSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer (500 to 10000)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default: 500.
The number of mutations in a batch.</p>
<p class="tableblock">This setting can be established and retrieved either for an individual replication or globally.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="see-also"><a class="anchor" href="#see-also"></a>See Also</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The REST call for creating a replication and specifying parameters is described in <a href="rest-xdcr-create-replication.html" class="xref page">Creating a Replication</a>.
An overview of XDCR is provided in <a href="../learn/clusters-and-availability/xdcr-overview.html" class="xref page">Cross Data Center Replication (XDCR)</a>.
The subset of advanced settings that can be configured by means of Couchbase Web Console is provided at <a href="../xdcr-reference/xdcr-advanced-settings.html" class="xref page">XDCR Advanced Settings</a>.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
