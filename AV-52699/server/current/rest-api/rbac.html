<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>Role-Based Access Control (RBAC) | Couchbase Docs</title>
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="Full  and Security Administrators can manage the Couchbase &lt;em&gt;Role-Based Access Control&lt;/em&gt; (RBAC) system, using the REST API.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/rest-api/rbac.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/rest-api/pages/rbac.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb">Reference</li>
<li class="crumb"><a href="rest-intro.html">REST API Reference</a></li>
<li class="crumb"><a href="rest-security.html">Security API</a></li>
<li class="crumb"><a href="rest-authorization.html">Authorization API</a></li>
<li class="crumb"><a href="rbac.html">Role-Based Access Control (RBAC)</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Role-Based Access Control (RBAC)</h1>
<div class="labels">
<ul></ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
Full  and Security Administrators can manage the Couchbase <em>Role-Based Access Control</em> (RBAC) system, using the REST API.
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="description"><a class="anchor" href="#description"></a>Description</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A Couchbase-Server <em>role</em> permits one or more <em>resources</em> to be accessed according to defined <em>privileges</em>.
Roles can be assigned to individual users, and to groups, by means of the REST API.</p>
</div>
<div class="paragraph">
<p>For a complete list of roles, see <a href="../learn/security/roles.html" class="xref page">Roles</a>.
Note that most roles can be assigned only on the <em>Enterprise Edition</em> of Couchbase Server: on the <em>Community Edition</em> of Couchbase Server, only the <code>bucket_full_access</code>,
<code>admin</code>, and <code>ro_admin</code> roles can be assigned.</p>
</div>
<div class="paragraph">
<p>For more information, see <a href="../learn/security/authorization-overview.html" class="xref page">Authorization</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="get-information-on-users-and-groups"><a class="anchor" href="#get-information-on-users-and-groups"></a>Retrieve Information on Roles, Permissions, Users, and Groups</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The REST API allows information to be retrieved on available roles and permissions; and on the cluster&#8217;s currently defined users and groups.
Curl syntax, parameter-descriptions, examples, and call-specific responses are described in the subsections below.
See the section <a href="#responses">Responses</a>, for further descriptions of error and other notifications.</p>
</div>
<div class="sect2">
<h3 id="list-roles"><a class="anchor" href="#list-roles"></a>List Roles</h3>
<div class="paragraph">
<p>To list roles, use the <code>GET</code> method with the <code>/settings/rbac/roles</code> URI.
The curl syntax is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X GET http://&lt;ip-address-or-domain-name&gt;:8091/settings/rbac/roles
  -u &lt;username:password&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>If successful, this returns <code>200 OK</code>, and an array that contains a description of every available role.</p>
</div>
<div class="sect3">
<h4 id="example-list-roles"><a class="anchor" href="#example-list-roles"></a>Example: List Roles</h4>
<div class="paragraph">
<p>The following example lists the roles for the current cluster.
Note that in this example (as in others, below) the output is piped to the <a href="https://stedolan.github.io/jq/">jq</a> command, to facilitate readability.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X GET http://10.143.201.101:8091/settings/rbac/roles \
-u Administrator:password | jq</pre>
</div>
</div>
<div class="paragraph">
<p>If successful, the call returns an array, containing information on every role:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "role": "admin",
    "name": "Full Admin",
    "desc": "Can manage all cluster features (including security). This user can access the web console. This user can read and write all data.",
    "ce": true
  },
  {
    "role": "ro_admin",
    "name": "Read-Only Admin",
    "desc": "Can view all cluster statistics. This user can access the web console. This user can read some data.",
    "ce": true
  },
  {
    "role": "security_admin",
    "name": "Security Admin",
    "desc": "Can view all cluster statistics and manage user roles, but not grant Full Admin or Security Admin roles to other users or alter their own role. This user can access the web console. This user cannot read data."
  },
            .
            .</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="list-current-users-and-their-roles"><a class="anchor" href="#list-current-users-and-their-roles"></a>List Current Users and Their Roles</h3>
<div class="paragraph">
<p>To list current users, use the <code>GET</code> method with the <code>/settings/rbac/users</code> URI.
The curl syntax is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X GET http://&lt;ip-address-or-domain-name&gt;:8091/settings/rbac/users
  -u &lt;username:password&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This returns an array, each of whose members is an object containing information on a currently defined user.</p>
</div>
<div class="sect3">
<h4 id="example-list-current-users"><a class="anchor" href="#example-list-current-users"></a>Example: List Current Users</h4>
<div class="paragraph">
<p>The following example lists the users currently defined on the cluster:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X GET http://10.144.210.101:8091/settings/rbac/users \
-u Administrator:password | jq</pre>
</div>
</div>
<div class="paragraph">
<p>If successful, the call returns <code>200 OK</code>, and an array such as the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[[
  {
    "id": "externalUser",
    "domain": "local",
    "roles": [
      {
        "role": "scope_admin",
        "bucket_name": "demoBucket",
        "scope_name": "demoScope",
        "origins": [
          {
            "type": "user"
          }
        ]
      },
      {
        "role": "ro_admin",
        "origins": [
          {
            "type": "user"
          }
        ]
      }
    ],
    "groups": [],
    "external_groups": [],
    "name": "",
    "password_change_date": "2021-02-01T09:46:04.000Z"
  },
  {
    "id": "testUser",
    "domain": "local",
    "roles": [
      {
        "role": "data_reader",
        "bucket_name": "testBucket",
        "scope_name": "MyScope",
        "collection_name": "MyCollection",
        "origins": [
          {
            "type": "user"
          }
        ]
      }
    ],
    "groups": [],
    "external_groups": [],
    "name": "",
    "password_change_date": "2021-02-01T09:40:23.000Z"
  },
  {
    "id": "dgreen",
    "domain": "local",
    "roles": [
      {
        "role": "data_reader",
        "bucket_name": "testBucket",
        "scope_name": "MyScope",
        "collection_name": "MyCollection",
        "origins": [
          {
            "type": "user"
          }
        ]
      },
      {
        "role": "query_external_access",
        "origins": [
          {
            "type": "user"
          }
        ]
      },
      {
        "role": "analytics_reader",
        "origins": [
          {
            "type": "user"
          }
        ]
      }
    ],
    "groups": [],
    "external_groups": [],
    "password_change_date": "2021-02-01T09:56:29.000Z"
  }
]</pre>
</div>
</div>
<div class="paragraph">
<p>In this example, each array-member contains values that specify the <code>domain</code>, the <code>role(s)</code>, the <code>groups</code>, the <code>external_groups</code>, the <code>name</code>, and the last <code>password_change_date</code> for a defined user.
Where roles are not global, the bucket, scope, and collection to which permissions are restricted are specified, as appropriate.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="check-permissions"><a class="anchor" href="#check-permissions"></a>Check Permissions</h3>
<div class="paragraph">
<p>The REST API allows the permissions of the authenticating administrator to be confirmed, by means of the <code>POST</code> method and the <code>/pools/default/checkPermissions</code> URI.
The curl syntax is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X POST
  http://&lt;ip-address-or-domain-name&gt;:8091/pools/default/checkPermissions
  -u &lt;username&gt;:&lt;password&gt;
  -d &lt;permissions-check-specification&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>permissions-check-specification</code> must indicate whether the check is to be made at the level of the cluster (for permissions associated with global roles), or at the level of a bucket within the cluster (for permissions associated with bucket-specific roles); or at the level of a specific data-set associated with the buckets (such as <code>stats</code> or <code>views</code>); and must specify the permission (such as <code>read</code> or <code>write</code>) for which the check is to be made.
Cluster, bucket, and data-set, if specified, must be separated from one another with a period.
The permission to be checked for must be preceded by the <code>!</code> character.</p>
</div>
<div class="paragraph">
<p>A successful call returns <code>200 OK</code>, plus an object indicating whether the authenticating administrator&#8217;s possession of the specified permission is <code>true</code> or <code>false</code>.</p>
</div>
<div class="paragraph">
<p>For an alternative procedure whereby the authenticating administrator can retrieve information on their assigned roles, see <a href="rest-whoami.html" class="xref page">Who Am I?</a>.</p>
</div>
<div class="sect3">
<h4 id="examples-check-permissions"><a class="anchor" href="#examples-check-permissions"></a>Examples: Check Permissions</h4>
<div class="paragraph">
<p>The following example checks whether the authenticating administrator has <code>admin</code> permissions on the cluster (which is to say, the permission associated with the <code>cluster_admin</code> role):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X POST http://10.143.201.101:8091/pools/default/checkPermissions \
-u gsanderson:gsanderson \
-d 'cluster!admin'</pre>
</div>
</div>
<div class="paragraph">
<p>If the call is successful, and the authenticating administrator does has the specified permission, the following object is returned:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"cluster!admin":true}</pre>
</div>
</div>
<div class="paragraph">
<p>The following example checks whether the authenticating administrator has <code>read</code> permission on <code>stats</code> for the <code>travel-sample</code> bucket, and <code>write</code> permission on <code>travel-sample</code> data:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X POST http://10.143.201.101:8091/pools/default/checkPermissions \
-u Administrator:password \
-d 'cluster.bucket[travel-sample].stats!read,cluster.bucket[travel-sample]!write' | jq</pre>
</div>
</div>
<div class="paragraph">
<p>An object such as the following is returned:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
  "cluster.bucket[travel-sample].stats!read": true,
  "cluster.bucket[travel-sample]!write": true
}</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="list-currently-defined-groups"><a class="anchor" href="#list-currently-defined-groups"></a>List Currently Defined Groups</h3>
<div class="paragraph">
<p>To list currently defined user-groups, use the <code>GET</code> method with the <code>/settings/rbac/groups/</code>
URI.
The curl syntax is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X GET http://&lt;ip-address-or-domain-name&gt;:8091/settings/rbac/groups
  -u &lt;username:password&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>If successful, the call returns <code>200 OK</code>, and an array each of whose members is an object containing information on one of the user-groups currently defined on the cluster.</p>
</div>
<div class="sect3">
<h4 id="example-list-currently-defined-groups"><a class="anchor" href="#example-list-currently-defined-groups"></a>Example: List Currently Defined Groups</h4>
<div class="paragraph">
<p>The following example lists all user-groups currently defined on the cluster:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X GET http://10.143.201.101:8091/settings/rbac/groups \
-u Administrator:password | jq</pre>
</div>
</div>
<div class="paragraph">
<p>If successful, the call returns an array such as the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "id": "ClusterAdmins",
    "roles": [
      {
        "role": "cluster_admin"
      }
    ],
    "ldap_group_ref": "uid=cbadmins,ou=groups,dc=example,dc=com",
    "description": "Couchbase Server Cluster Administrators"
  },
  {
    "id": "DataReaderGroup",
    "roles": [
      {
        "role": "data_reader",
        "bucket_name": "testBucket",
        "scope_name": "MyScope",
        "collection_name": "MyCollection"
      },
      {
        "role": "data_reader",
        "bucket_name": "demoBucket",
        "scope_name": "demoScope",
        "collection_name": "demoCollection"
      }
    ],
    "ldap_group_ref": "",
    "description": ""
  }
]</pre>
</div>
</div>
<div class="paragraph">
<p>Thus, the array contains two members, which respectively contain information on the <code>ClusterAdmins</code>, and the <code>DataReaderGroup</code> groups.
Note that the <code>ClusterAdmins</code> group is shown to have an <code>ldap_group_ref</code>: meaning that it corresponds to an LDAP group, defined on the LDAP server.
For information, see <a href="../learn/security/authentication-domains.html#native-ldap-support" class="xref page">Native LDAP Support</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-users-and-groups"><a class="anchor" href="#create-users-and-groups"></a>Create Users and Groups</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The REST API allows users and groups to be created, and roles thereby assigned.
Curl syntax, parameter-descriptions, examples, and call-specific responses are described in the subsections below.
See the section <a href="#responses">Responses</a>, for further descriptions of error and other notifications.</p>
</div>
<div class="paragraph">
<p>Users can be either <em>local</em> or <em>external</em>.
A local user may have the same username as an external user.</p>
</div>
<div class="paragraph">
<p>Note that a cluster running Couchbase Server <em>Enterprise Edition</em> can have any number of users.
A cluster running <em>Community Edition</em> can have a maximum of twenty, local users.</p>
</div>
<div class="paragraph">
<p>Groups can optionally be mapped to <em>external groups</em>, defined on an LDAP server.
For information, see <a href="../learn/security/authentication-domains.html" class="xref page">Authentication Domains</a>.</p>
</div>
<div class="sect2">
<h3 id="create-a-local-user-and-assign-roles"><a class="anchor" href="#create-a-local-user-and-assign-roles"></a>Create a Local User, and Assign Roles</h3>
<div class="paragraph">
<p>To create a local user, and assign them one or more roles, use the <code>PUT</code> method with the <code>/settings/rbac/users/local</code> URI.
The curl syntax is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X PUT http://&lt;ip-address-or-domain-name&gt;:8091/settings/rbac/users/local/&lt;new-username&gt;
  -u &lt;username&gt;:&lt;password&gt;
  -d password=&lt;password&gt;
  -d roles=[ &lt;role&gt; ]*</pre>
</div>
</div>
<div class="paragraph">
<p>The specified <code>password</code> must conform to the settings established as described in <a href="rest-set-password-policy.html" class="xref page">Setting Password Policy</a>.
<em>Either</em> the <code>roles</code> flag <em>or</em> the <code>groups</code> flag may be specified.
If multiple instances of <code>role</code> are specified, these must be comma-separated.
Roles that permit data-access can be assigned with reference to a bucket, to a scope within a bucket, or to a collection within a scope.
Syntactically, the assignment should be specified in square brackets, immediately after the role-name; with the bucket-name preceding (if one is specified) the scope-name; and the scope-name preceding (if one is specified) the collection-name.
The names of bucket, scope, and collection must be separated by colons.</p>
</div>
<div class="paragraph">
<p>If successful, the call returns <code>200 OK</code>.
No object is returned.</p>
</div>
<div class="paragraph">
<p>Note that in Couchbase Server 7.1.1+, if an existing user&#8217;s password is to be changed, and their existing role-assignments are to be kept unchanged, the <code>/settings/rbac/users/local</code> URI can be used with the <code>PATCH</code> method: this allows the <code>password</code> parameter to be used, specifying a new password; and the <code>username</code> and <code>roles</code> parameters to be omitted.</p>
</div>
<div class="sect3">
<h4 id="example-create-local-users"><a class="anchor" href="#example-create-local-users"></a>Examples: Create Local Users, Assigning Roles</h4>
<div class="paragraph">
<p>The following example creates a local user, assigning a single role.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X PUT http://10.143.201.101:8091/settings/rbac/users/local/dgreen \
-u Administrator:password \
-d password=pwdpwd \
-d roles=ro_admin</pre>
</div>
</div>
<div class="paragraph">
<p>This assigns user <code>dgreen</code> the <code>ro_admin</code> role.</p>
</div>
<div class="paragraph">
<p>To change the password-assignment for <code>dgreen</code>, while leaving their role-assignment as <code>ro_admin</code>, use the <code>/settings/rbac/users/local</code> URI with the <code>PATCH</code> method, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X PATCH http://localhost:8091/settings/rbac/users/local/dgreen \
-u Administrator:password \
-d password=pwdpwdpwd</pre>
</div>
</div>
<div class="paragraph">
<p>Following this use of the <code>PATCH</code>, method, <code>dgreen</code> continues to have the same role-assignments as before, but has been assigned a new password.</p>
</div>
<div class="paragraph">
<p>Note that whenever a new user is to be assigned multiple roles, the roles must be comma-separated.
If a role is to be limited to a specific bucket, the bucket-name must follow the name of the role, without a separator, enclosed in square-brackets.
This is demonstrated by the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X PUT http://10.143.201.101:8091/settings/rbac/users/local/rbrown \
-u Administrator:password \
-d password=rbrownpassword \
-d roles=bucket_admin[travel-sample],data_reader[beer-sample:my_scope:my_collection]</pre>
</div>
</div>
<div class="paragraph">
<p>Thus, the new user <code>rbrown</code> is assigned the <code>bucket_admin</code> role on the <code>travel-sample</code> bucket, and is assigned the <code>data_reader</code> role on the <code>my_collection</code> collection; which resides in the <code>my_scope</code> scope, in the <code>beer-sample</code> bucket.</p>
</div>
<div class="paragraph">
<p>The following example assigns one global role, and one bucket-specific:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X PUT http://10.143.201.101:8091/settings/rbac/users/local/krichards \
-u Administrator:password \
-d password=krpassword \
-d roles=cluster_admin,bucket_admin[travel-sample]</pre>
</div>
</div>
<div class="paragraph">
<p>Thus, the new user <code>krichards</code> is assigned the <code>cluster_admin</code> role (this being a global role), and the <code>bucket_admin</code> role for the <code>travel-sample</code> bucket only.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-a-local-user-and-assign-to-a-group"><a class="anchor" href="#create-a-local-user-and-assign-to-a-group"></a>Create a Local User, and Assign to a Group</h3>
<div class="paragraph">
<p>To create a local user, and assign them to a group &#8212; thereby ensuring that they inherit the role or roles already assigned to the specified group &#8212; again use the <code>PUT</code> method with the <code>/settings/rbac/users/local/&lt;new-username&gt;</code> URI; this time, using the <code>groups</code> flag, instead of the <code>roles</code> flag.
The curl syntax is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X PUT http://&lt;ip-address-or-domain-name&gt;:8091/settings/rbac/users/local/&lt;new-username&gt;
  -u &lt;username&gt;:&lt;password&gt;
  -d password=&lt;password&gt;
  -d groups=[ &lt;groupname&gt; ]*</pre>
</div>
</div>
<div class="paragraph">
<p>If multiple instances of <code>groupname</code> are specified, each should be separated from the next with a comma.
Each <code>groupname</code> must be the name of an existing group.</p>
</div>
<div class="paragraph">
<p>If successful, the call returns <code>200 OK</code>.</p>
</div>
<div class="sect3">
<h4 id="example-create-user-and-assign-to-a-group"><a class="anchor" href="#example-create-user-and-assign-to-a-group"></a>Example: Create a Local User, and Assign to a Group</h4>
<div class="paragraph">
<p>The following example creates a local user named <code>sdavis</code>, and assigns them to two existing groups:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X  PUT http://10.143.201.101:8091/settings/rbac/users/local/sdavis \
-u Administrator:password \
-d groups=ClusterAdmins,XDCRAdmins \
-d password=Sd4v1s938</pre>
</div>
</div>
<div class="paragraph">
<p>If successful, the call creates local user <code>sdavis</code> and adds them to the <code>ClusterAdmins</code> group and to the <code>XDCRAdmins</code> group.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-an-external-user-and-assign-roles"><a class="anchor" href="#create-an-external-user-and-assign-roles"></a>Create an External User, and Assign Roles</h3>
<div class="paragraph">
<p>To create an external user, and assign them one or more roles, use the <code>PUT</code> method with the <code>/settings/rbac/users/external/&lt;new-username&gt;</code> URI.
The curl syntax is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X PUT http://&lt;ip-address-or-domain-name&gt;:8091/settings/rbac/users/external/&lt;new-username&gt;
  -u &lt;username:password&gt;
  -d roles=[ &lt;role&gt; ]*</pre>
</div>
</div>
<div class="paragraph">
<p>Note that no password need be specified, since this is expected to have been defined on an external server: the external server will be contacted by Couchbase Server, as part of the user-authentication procedure.</p>
</div>
<div class="paragraph">
<p>Roles that permit data-access can be assigned with reference to a bucket, to a scope within a bucket, or to a collection within a scope.
Syntactically, the assignment should be specified in square brackets, immediately after the role-name; with the bucket-name preceding (if one is specified) the scope-name; and the scope-name preceding (if one is specified) the collection-name.
The names of bucket, scope, and collection must be separated by colons.</p>
</div>
<div class="paragraph">
<p>If successful, the call returns <code>200 OK</code>.</p>
</div>
<div class="sect3">
<h4 id="example-create-an-external-user-and-assign-roles"><a class="anchor" href="#example-create-an-external-user-and-assign-roles"></a>Example: Create an External User, Assigning Roles</h4>
<div class="paragraph">
<p>The following example creates an external user named <code>wgrey</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X PUT -u Administrator:password \
http://10.143.201.101:8091/settings/rbac/users/external/wgrey \
-d roles=cluster_admin,data_reader[beer-sample:my_scope:my_collection]</pre>
</div>
</div>
<div class="paragraph">
<p>The new, external user is thus assigned the <code>cluster_admin</code> role; and is assigned the <code>data_reader</code> role on the collection <code>my_collection</code>, which resides in the <code>my_scope</code> scope, in the <code>beer-sample</code> bucket.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-an-external-user-and-assign-to-a-group"><a class="anchor" href="#create-an-external-user-and-assign-to-a-group"></a>Create an External User, and Assign to a Group</h3>
<div class="paragraph">
<p>To create an external user, and assign them to one or more groups, use the <code>PUT</code> method with the <code>/settings/rbac/users/external/&lt;new-username&gt;</code> URI.
The curl syntax is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X PUT http://&lt;ip-address-or-domain-name&gt;:8091/settings/rbac/users/external/&lt;new-username&gt;
  -u &lt;username:password&gt;
  -d groups=[ &lt;group&gt; ]*</pre>
</div>
</div>
<div class="paragraph">
<p>Each specified <code>group</code> must be the name of a Couchbase-Server user-group, defined on the cluster.
The external user, when authenticated on the external server, will be granted the roles associated with each of the specified groups.</p>
</div>
<div class="paragraph">
<p>Note that if the external user has been defined on the LDAP server as belonging to a particular LDAP group, and this LDAP group has been previously <em>mapped</em> to an existing Couchbase-Server group, the user is granted the roles associated with the existing Couchbase-Server group, even if this Couchbase-Server group is not specified by means of the <code>groups</code> flag.</p>
</div>
<div class="paragraph">
<p>For information on mapping LDAP groups to Couchbase-Server groups, see <a href="#create-a-group-and-assign-it-roles">Create a Group and Assign it Roles</a>, below.</p>
</div>
<div class="sect3">
<h4 id="create-an-external-user-assigning-to-a-group"><a class="anchor" href="#create-an-external-user-assigning-to-a-group"></a>Example: Create an External User, Assigning to a Group</h4>
<div class="paragraph">
<p>The following example creates an external user named <code>rjones</code> and assigns them to two groups:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X PUT -u Administrator:password \
http://10.143.201.101:8091/settings/rbac/users/external/rjones \
-d groups=ClusterAdmins,XDCRAdmins</pre>
</div>
</div>
<div class="paragraph">
<p>The new user <code>rjones</code> is thus assigned to the <code>ClusterAdmins</code> and <code>XDCRAdmins</code> groups.
The user, once authenticated on an external server, inherits the roles associated with these Couchbase-Server groups.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-a-group-and-assign-it-roles"><a class="anchor" href="#create-a-group-and-assign-it-roles"></a>Create a Group, and Assign it Roles</h3>
<div class="paragraph">
<p>Couchbase Server allows the creation of local user-groups, to which roles can be assigned.
Each user, local or external, who is a member of such a group inherits the roles that have been assigned to the group.
Optionally, a local group can be <em>mapped</em> to an external, LDAP group: this means that successfully authenticated external users who are a member of one or more LDAP groups can inherit, on Couchbase Server, the roles assigned to the corresponding local user-groups.</p>
</div>
<div class="paragraph">
<p>All these actions can be performed by means of the REST API, using the <code>PUT</code> method and the <code>/settings/rbac/groups/&lt;new-groupname&gt;</code> URI.
The curl syntax is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X PUT http://&lt;ip-address-or-domain-name&gt;:8091/settings/rbac/groups/&lt;new-groupname&gt;
  -u &lt;username&gt;:&lt;password&gt;
  -d roles=[ &lt;role&gt; ]*
  -d description=&lt;description&gt;
  --data-urlencode ldap_group_ref=&lt;ldap-group-reference&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Each specified <code>role</code> must be a Couchbase-Server role: each will be assigned to the new group, whose name is specified by <code>new-groupname</code>.
Multiple roles must be separated by commas.
The optional <code>description</code> can be multiple words, which must be separated from each other by the <code>+</code> character.
The optional <code>ldap_group_ref</code>, which must be specified as URL-encoded, specifies an existing LDAP group to which the new, local Couchbase-Server group will be mapped.</p>
</div>
<div class="paragraph">
<p>If successful, the call returns <code>200 OK</code>.</p>
</div>
<div class="sect3">
<h4 id="examples-create-groups"><a class="anchor" href="#examples-create-groups"></a>Examples: Create Groups</h4>
<div class="paragraph">
<p>The following example creates a local group, and assigns it roles:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X PUT -u Administrator:password \
http://10.143.201.101:8091/settings/rbac/groups/roAdminGroup \
-d roles=ro_admin</pre>
</div>
</div>
<div class="paragraph">
<p>The example thus creates a new group named <code>roAdminGroup</code>, assigning the group the <code>ro_admin</code> role.
All users who become members of <code>roAdminGroup</code> will thereby inherit the <code>ro_admin</code> role.</p>
</div>
<div class="paragraph">
<p>The following example creates a new local group, mapping it to an external, LDAP group.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X PUT http://10.143.201.101:8091/settings/rbac/groups/admins \
-u Administrator:password \
-d roles=cluster_admin \
-d description=Couchbase+Server+Cluster+Administrators \
--data-urlencode ldap_group_ref='uid=cbadmins,ou=groups,dc=example,dc=com'</pre>
</div>
</div>
<div class="paragraph">
<p>The new, local group <code>admins</code> is thus created, and is assigned the <code>cluster_admin</code> role.
The <code>description</code> <em>Couchbase Server Cluster Administrators</em> is provided.
The <code>ldap_group_ref</code> specifies that the new, local group be mapped to an existing LDAP group named <code>cbadmins</code>: therefore, users who successfully authenticate via LDAP, and are members of <code>cbadmins</code>, automatically inherit the roles assigned locally to the Couchbase-Server <code>admins</code> group.
(Note, in consequence, that the <em>username</em> of such users may not be registered at all on Couchbase Server: since their authentication occurs on the LDAP server; and the roles they require for Couchbase-Server-access may be acquired entirely through one or more mappings between Couchbase-Server and LDAP user-groups.)</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="delete-users-and-groups"><a class="anchor" href="#delete-users-and-groups"></a>Delete Users and Groups</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Users and groups can be deleted by means of the <code>DELETE</code> method and appropriate URI.
The curl syntax is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X DELETE
  http://&lt;ip-address-or-hostname&gt;:8091/settings/rbac/users/local/&lt;local-username&gt;
  -u &lt;username&gt;:&lt;password&gt;

curl -X DELETE
  http://&lt;ip-address-or-hostname&gt;:8091/settings/rbac/users/external/&lt;external-username&gt;
  -u &lt;username&gt;:&lt;password&gt;

curl -X DELETE
  http://&lt;ip-address-or-hostname&gt;:8091/settings/rbac/groups/&lt;groupname&gt;
  -u &lt;username&gt;:&lt;password&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>DELETE</code> method, used with the <code>/settings/rbac/users/local/&lt;local-username&gt;</code> URI, deletes a local user; used with the <code>/settings/rbac/users/external/&lt;external-username&gt;</code> URI, deletes and external user; and used with the <code>/settings/rbac/groups/&lt;groupname&gt;</code> URI, deletes a local group.</p>
</div>
<div class="paragraph">
<p>In each case, if the call is successful, <code>200 OK</code> is returned.</p>
</div>
<div class="sect3">
<h4 id="examples-delete-users-and-groups"><a class="anchor" href="#examples-delete-users-and-groups"></a>Examples: Delete Users and Groups</h4>
<div class="paragraph">
<p>The following example deletes a local user:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X DELETE  http://10.143.201.101:8091/settings/rbac/users/local/dgreen \
-u Administrator:password</pre>
</div>
</div>
<div class="paragraph">
<p>The local user <code>dgreen</code> is thus deleted from the Couchbase-Server cluster.</p>
</div>
<div class="paragraph">
<p>The following example deletes an external user:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -X DELETE  http://10.143.201.101:8091/settings/rbac/users/external/wgrey \
-u Administrator:password</pre>
</div>
</div>
<div class="paragraph">
<p>The external user <code>wgrey</code> is thus deleted from the Couchbase-Server cluster.
The user continues to exist on the external server on which their authentication is performed.</p>
</div>
<div class="paragraph">
<p>The following example deletes a group:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X DELETE http://10.143.201.101:8091/settings/rbac/groups/ClusterAdmins \
-u Administrator:password</pre>
</div>
</div>
<div class="paragraph">
<p>The local group <code>ClusterAdmins</code> is thus deleted.
Users defined on the Couchbase-Server cluster as either local or external, whose roles were derived entirely from their membership of the <code>ClusterAdmins</code> group, henceforth continue to be registered as local users, but are assigned no roles; and therefore no longer have access to the Couchbase-Server cluster.
If the <code>ClusterAdmins</code> group was mapped to an LDAP group, LDAP-authenticated users whose Couchbase-Server roles were derived entirely from that mapping are henceforth assigned no roles; and therefore no longer have access to the Couchbase-Server cluster.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="responses"><a class="anchor" href="#responses"></a>Responses</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If successful, <code>200 OK</code> is given.</p>
</div>
<div class="paragraph">
<p>A malformed URI gives <code>405 Method Not Allowed</code>.
Failure to authenticate gives <code>401 Unauthorized</code>.
An improperly specified role fails with <code>400 Bad Request</code> and the message <code>{"errors":{"roles":"Cannot assign roles to user because the following roles are unknown, malformed or role parameters are undefined: [ro_admine]"}}</code>.
An attempt to delete an already deleted user or group fails with <code>404 Object not found</code>, and a message such as <code>"User was not found."</code> or <code>"Group was not found."</code>.
An attempt to add a user to one or more non-existent groups fails with <code>400 Bad Request</code> and an error notification such as <code>"groups":"Groups do not exist: ClusterAdmins,XDCRAdmins"</code>.</p>
</div>
<div class="paragraph">
<p>The creation of an already existing group or local or external user succeeds with <code>200 OK</code>: the user is recreated with the newly specified role-assignments and group-memberships; and the group is recreated with the newly specified role-assignments and, optionally, a newly specified mapping.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="audit-the-management-of-users-and-roles"><a class="anchor" href="#audit-the-management-of-users-and-roles"></a>Audit the Management of Users and Roles</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Server allows the management of users and roles to be <em>audited</em>.
For a conceptual overview of auditing, see <a href="../learn/security/auditing.html" class="xref page">Auditing</a>.
For instructions on the management and configuration of auditing, see <a href="../manage/manage-security/manage-auditing.html" class="xref page">Manage Auditing</a>.
Note that the auditing facility is <em>off</em> by default: therefore it must be explicitly enabled, in order to be used; and the scope of events to be audited may need to be explicitly specified.</p>
</div>
<div class="paragraph">
<p>Once auditing is enabled, the file <code>audit.log</code> is written to an <em>audit log directory</em>, whose location is configurable.
Details of actions taken in the management of users and groups are recorded in this file.</p>
</div>
<div class="paragraph">
<p>For example, if the following call is used to create a user:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X PUT http://10.143.201.101:8091/settings/rbac/users/local/dgreen \
-u Administrator:password \
-d password=pwdpwd \
-d roles=ro_admin</pre>
</div>
</div>
<div class="paragraph">
<p>The file <code>audit.log</code> might be examined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo more audit.log | grep dgreen | jq '.'</pre>
</div>
</div>
<div class="paragraph">
<p>This produces output such as the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
  "description": "User was added or updated",
  "groups": [],
  "id": 8232,
  "identity": {
    "domain": "local",
    "user": "dgreen"
  },
  "name": "set user",
  "real_userid": {
    "domain": "builtin",
    "user": "Administrator"
  },
  "reason": "added",
  "remote": {
    "ip": "10.143.201.101",
    "port": 36328
  },
  "roles": [
    "ro_admin"
  ],
  "timestamp": "2020-08-19T03:25:27.513-07:00"
}</pre>
</div>
</div>
<div class="paragraph">
<p>This confirms that the user was created, with the specified roles; and provides additional contextual information.</p>
</div>
<div class="paragraph">
<p>Likewise, if the following statement is used to create a group:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>curl -v -X PUT -u Administrator:password \
http://10.143.201.101:8091/settings/rbac/groups/roAdminGroup \
-d roles=ro_admin</pre>
</div>
</div>
<div class="paragraph">
<p>The file <code>audit.log</code> might be examined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo more audit.log | grep roAdminGroup | jq '.'</pre>
</div>
</div>
<div class="paragraph">
<p>This produces output such as the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
  "description": "User group was added or updated",
  "group_name": "roAdminGroup",
  "id": 8244,
  "name": "set user group",
  "real_userid": {
    "domain": "builtin",
    "user": "Administrator"
  },
  "reason": "updated",
  "remote": {
    "ip": "10.143.201.101",
    "port": 36334
  },
  "roles": [
    "ro_admin"
  ],
  "timestamp": "2020-08-19T03:26:40.125-07:00"
}</pre>
</div>
</div>
<div class="paragraph">
<p>This confirms that the group <code>roAdminGroup</code> was created, with the specified roles, and provides additional contextual information.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="see-also"><a class="anchor" href="#see-also"></a>See Also</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See <a href="../learn/security/authentication-domains.html" class="xref page">Authentication Domains</a>, for an overview of local and external domains, and how to define users.
See <a href="../learn/security/authorization-overview.html" class="xref page">Authorization</a>, for an introduction to the principles of Couchbase authorization, including Role-Based Access Control.
All roles defined by Couchbase Server are listed and explained in <a href="../learn/security/roles.html" class="xref page">Roles</a>.</p>
</div>
<div class="paragraph">
<p><a href="../manage/manage-security/manage-users-and-roles.html" class="xref page">Manage Users, Groups, and Roles</a> provides step-by-step examples using the UI, CLI, and REST API.
See <a href="../manage/manage-security/configure-ldap.html" class="xref page">Configure LDAP</a> for information on all aspects of LDAP-authentication configuration, including the mapping of groups.</p>
</div>
<div class="paragraph">
<p>Information on configuring LDAP with the REST API is provided in <a href="rest-configure-ldap.html" class="xref page">Configure LDAP</a>.</p>
</div>
<div class="paragraph">
<p>Comprehensive information on managing users, groups, and roles with the CLI is provided on the reference page for <a href="#cli:cbcli/couchbase-cli-user-manage.adoc" class="xref unresolved">user-manage</a>.</p>
</div>
<div class="paragraph">
<p>For a conceptual overview of auditing, see <a href="../learn/security/auditing.html" class="xref page">Auditing</a>.
For instructions on the management and configuration of auditing, see <a href="../manage/manage-security/manage-auditing.html" class="xref page">Manage Auditing</a>.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
