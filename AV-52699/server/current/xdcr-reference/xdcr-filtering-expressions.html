<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>XDCR Filtering Expressions | Couchbase Docs</title>
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="XDCR filtering expressions allow a document to be included in or excluded from a filtered replication, based on the document&#x27;s fields and values.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/xdcr-reference/xdcr-filtering-expressions.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/xdcr-reference/pages/xdcr-filtering-expressions.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb">Reference</li>
<li class="crumb"><a href="xdcr-reference-intro.html">XDCR Reference</a></li>
<li class="crumb"><a href="xdcr-filtering-reference-intro.html">Filtering</a></li>
<li class="crumb"><a href="xdcr-filtering-expressions.html">Filtering Expressions</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">XDCR Filtering Expressions</h1>
<div class="labels">
<ul></ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
XDCR filtering expressions allow a document to be included in or excluded from a filtered replication, based on the document&#8217;s fields and values.
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="understanding-filtering-expressions"><a class="anchor" href="#understanding-filtering-expressions"></a>Understanding Filtering Expressions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>XDCR Advanced Filtering <em>expressions</em>, applied to the documents within a specified source bucket, allow case-sensitive matches to be made on:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>id</em> and <em>xattrs</em> values, within the document&#8217;s <em>metadata</em>.</p>
</li>
<li>
<p>Field-names and values, within the document&#8217;s <em>data</em>, nested to any degree.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Every document on which a match is successfully made is included in the filtered replication.
Other documents are <em>not</em> included.</p>
</div>
<div class="paragraph">
<p>XDCR filtering expressions constitute a subset of <em>N1QL</em> expressions, with some additions.</p>
</div>
<div class="paragraph">
<p>Sections on this page list the available expressions, provide examples of their usage, and provide links to documentation for the comparable N1QL expressions.
A list of <em>reserved words</em> is provided.
Additionally, relationships between expressions are listed in in BNF (<em>Backus-Naur Form</em>) notation.</p>
</div>
<div class="paragraph">
<p>Note that most examples assume the <code>travel-sample</code> bucket to be the source of the filtered replication.
For information on installing this bucket, see <a href="../manage/manage-settings/install-sample-buckets.html" class="xref page">Install Sample Buckets</a>.</p>
</div>
<div class="paragraph">
<p>XDCR Advanced Filtering can be managed by means of Couchbase Web Console (see <a href="../manage/manage-xdcr/filter-xdcr-replication.html" class="xref page">Filter a Replication</a>), the CLI (see <a href="#cli:cbcli/couchbase-cli-xdcr-replicate.adoc" class="xref unresolved">xdcr-replicate</a>), and the REST API (see <a href="../rest-api/rest-xdcr-create-replication.html" class="xref page">Creating XDCR Replications</a>).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pattern-matching"><a class="anchor" href="#pattern-matching"></a>Pattern Matching</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pattern matching is supported with the following syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>REGEXP_CONTAINS (<em>expression</em>, <em>pattern</em>)</pre>
</div>
</div>
<div class="paragraph">
<p>For example, the following expression specifies <code>country</code> as the <em>expression</em>, and <code>"France"</code> as the pattern:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">REGEXP_CONTAINS(country, "France")</code></pre>
</div>
</div>
<div class="paragraph">
<p>If <code>travel-sample.inventory.airline</code> is used as the source collection, every document that contains a field <code>country</code> whose value is <code>"France"</code> is replicated to the target.
For example, this would include the document <code>airline_1191</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "callsign": "REUNION",
  "country": "France",
  "iata": "UU",
  "icao": "REU",
  "id": 1191,
  "name": "Air Austral",
  "type": "airline"
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="mata-data-access"><a class="anchor" href="#mata-data-access"></a>Metadata Access</h3>
<div class="paragraph">
<p>Each document contains <em>metadata</em>, as well as <em>data</em>.
Within the metadata, a document&#8217;s <em>id</em> and <em>extended attributes</em> can be accessed by means of the reserved word <code>META</code>, used as part of the the pattern-matching <em>expression</em>.</p>
</div>
<div class="paragraph">
<p>For example, the following expression seeks a match on any document the value of whose metadata <em>id</em> field contains the substring <code>"airline_10"</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">REGEXP_CONTAINS(META().id, "airline_10")</code></pre>
</div>
</div>
<div class="paragraph">
<p>This would match a number of documents from the <code>travel-sample.inventory.airline</code> collection, including <code>airline_10</code>, whose metadata is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "meta": {
    "id": "airline_10",
    "rev": "1-159642cc11a000000000000002000000",
    "expiration": 0,
    "flags": 33554432,
    "type": "json"
  },
  "xattrs": {}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Extended Attributes</em> are optionally used to define application-specific metadata.
Their field name is <code>xattrs</code>.
In the metadata example shown above, no value exists for the field.
If an extended attribute were fully defined &#8212; for example, a <code>color</code> field, assigned the value <code>blue</code> &#8212; the appearance within the metadata would be as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">  "xattrs": {
    "color": "blue"
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The extended attribute&#8217;s value could then be filtered and matched with the following expression:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">REGEXP_CONTAINS(META().xattrs.color, "blue")</code></pre>
</div>
</div>
<div class="paragraph">
<p>For information on extended attributes, see <a href="../learn/data/extended-attributes-fundamentals.html" class="xref page">Extended Attributes</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="lookahead"><a class="anchor" href="#lookahead"></a>Lookahead</h3>
<div class="paragraph">
<p>XDCR Advanced Filtering is supported by <em>lookahead</em>.
Lookahead is used to specify a <em>pattern</em>, in pattern matching; and permits a match when one specified character or character-sequence:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Is followed by another specified character or character-sequence.
This is termed <em>positive</em> lookahead.</p>
<div class="paragraph">
<p>The following syntax is used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><em>char1</em> ( ?= <em>char2</em> )</pre>
</div>
</div>
<div class="paragraph">
<p>The specified <em>char1</em> must therefore be located and, for a successful match to be obtained, must be followed by the specified <em>char2</em>.</p>
</div>
</li>
<li>
<p>Is <em>not</em> followed by another specified character or character-sequence.
This is termed <em>negative</em> lookahead.</p>
<div class="paragraph">
<p>The following syntax is used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre><em>char1</em> ( ?! <em>char2</em> )</pre>
</div>
</div>
<div class="paragraph">
<p>The specified <em>char1</em> must therefore be located, and, for a successful match to be obtained, must <em>not</em> be followed by the specified <em>char2</em>.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Lookahead might therefore be used on the <code>travel-sample.default.default</code> collection, to filter documents whose metadata <em>id</em> contains <code>airport</code> rather than <code>airline</code>, or vice versa.
For example, the following expression uses <em>positive</em> lookahead to specify that the metadata <em>id</em> that begins with <code>air</code> should be immediately followed by the character <code>p</code>; thereby returning documents whose metadata <em>id</em> value is <code>airport</code>, but not <code>airline</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">REGEXP_CONTAINS(META().id, "^air(?=p)")</code></pre>
</div>
</div>
<div class="paragraph">
<p>For information on the expression <code>^</code>, see <a href="xdcr-regular-expressions.html" class="xref page">XDCR Regular Expressions</a>.</p>
</div>
<div class="paragraph">
<p>Alternatively, <em>negative</em> lookahead might be used to specify that the metadata <em>id</em> that begins with <code>air</code> should <em>not</em> be followed by the character <code>l</code>; thereby returning documents whose metadata <em>id</em> value is <code>airport</code>, but not <code>airline</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">REGEXP_CONTAINS(META().id, "^air(?!l)")</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="xdcr-pattern-matching-comparison-with-n1ql"><a class="anchor" href="#xdcr-pattern-matching-comparison-with-n1ql"></a>XDCR Pattern Matching: Comparison with N1QL</h3>
<div class="paragraph">
<p>The function <code>REGEXP_CONTAINS</code> is also supported by N1QL.
Note, however, that N1QL does not support forward lookahead.</p>
</div>
<div class="paragraph">
<p>N1QL supports a number of pattern-matching functions in addition to <code>REGEXP_CONTAINS</code>: see <a href="#n1ql:n1ql-language-reference/patternmatchingfun.adoc" class="xref unresolved">Pattern-matching Functions</a>.</p>
</div>
<div class="paragraph">
<p><code>META</code> is one of a group of <em>reserved words</em> used by XDCR Advanced Filtering.
For details, <a href="#reserved-words">Reserved Words</a>, below.
<code>META</code> is also one of a larger group of reserved words used by N1QL.
For details, see the page for N1QL <a href="#n1ql:n1ql-language-reference/reservedwords.adoc" class="xref unresolved">Reserved Words</a>.
Note that in N1QL, <code>META</code> provides access to a wider range of extended attributes.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="checking-for-existence"><a class="anchor" href="#checking-for-existence"></a>Checking for Existence</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The existence of a field can be checked for, by means of the Collection Operator <code>EXISTS</code>.
The syntax is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>EXISTS ( <em>expression</em> )</pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">EXISTS(country)</code></pre>
</div>
</div>
<div class="paragraph">
<p>This returns every document that contains a <code>country</code> field.
This would therefore include <code>airline_10</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "callsign": "MILE-AIR",
  "country": "United States",
  "iata": "Q5",
  "icao": "MLA",
  "id": 10,
  "name": "40-Mile Air",
  "type": "airline"
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="xdcr-collection-operator-comparison-with-n1ql"><a class="anchor" href="#xdcr-collection-operator-comparison-with-n1ql"></a>XDCR Collection Operator: Comparison with N1QL</h3>
<div class="paragraph">
<p>XDCR Advanced Filtering provides the single Collection Operator, <code>EXISTS</code>; which determines whether or not a specified field exists in the body of a document.
N1QL uses <code>EXISTS</code> on subclauses; and provides a variety of additional Collection Operators.
For details, see the N1QL page for <a href="#n1ql:n1ql-language-reference/collectionops.adoc" class="xref unresolved">Collection Operators</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-logical-operators"><a class="anchor" href="#using-logical-operators"></a>Using Logical Operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>XDCR Advanced Filtering provides the Logical Operators <code>AND</code>, <code>OR</code>, and <code>NOT</code>.
See the <a href="#filtering-expression-bnf">Filtering Expression BNF</a>, below, for the syntactic possibilities of these operators.</p>
</div>
<div class="paragraph">
<p><code>AND</code> can be used to add a required condition to an expression.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">REGEXP_CONTAINS(country, "France") AND airportname = "La Teste De Buch"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This provides a successful match on any document whose <code>country</code> value is <code>"France"</code>, and whose <code>aiportname</code> value is <code>"La Test De Buch"</code>.
This would therefore include the following document in the replication:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "airportname": "La Teste De Buch",
  "city": "Arcachon",
  "country": "France",
  "faa": "XAC",
  "geo": {
    "alt": 49,
    "lat": 44.59639,
    "lon": -1.110833
  },
  "icao": "LFCH",
  "id": 1283,
  "type": "airport",
  "tz": "Europe/Paris"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>OR</code> can be used to add an alternative condition to an expression.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">REGEXP_CONTAINS(country, "France") OR country = "United States"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This provides a successful match on any document whose <code>country</code> value is either <code>"France"</code> or <code>"United States"</code>.</p>
</div>
<div class="paragraph">
<p><code>NOT</code> can be prepended to a condition, to allow a successful match only when the condition is false.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">REGEXP_CONTAINS(country, "France") AND NOT airportname = "La Teste De Buch"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This provides a successful match on every document that contains the <code>country</code> value <code>"France"</code>, and contains an <code>airportname</code> value that is <em>not</em> <code>"La Teste De Buch"</code>.</p>
</div>
<div class="paragraph">
<p>All words used as Logical Operators for XDCR Advanced Filtering are <em>reserved</em>.
For details, see <a href="#reserved-words">Reserved Words</a>, below.</p>
</div>
<div class="sect2">
<h3 id="xdcr-logical-operators-comparison-with-n1ql"><a class="anchor" href="#xdcr-logical-operators-comparison-with-n1ql"></a>XDCR Logical Operators: Comparison with N1QL</h3>
<div class="paragraph">
<p>N1QL provides the same Logical Operators as does XDCR Advanced Filtering.
For details, see the N1QL page for <a href="#n1ql:n1ql-language-reference/logicalops.adoc" class="xref unresolved">Logical Operators</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-comparison-operators"><a class="anchor" href="#using-comparison-operators"></a>Using Comparison Operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>XDCR Advanced Filtering provides the following Comparison Operators:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>=</code> <em>and</em> <code>==</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>!=</code> <em>and</em> <code>&lt;&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&gt;=</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;=</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IS NULL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IS NOT NULL</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IS MISSING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IS NOT MISSING</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>As this indicates, the tests for equality and inequality are each provided in two versions, to ensure compatibility with different languages.</p>
</div>
<div class="paragraph">
<p>Note that for purposes of comparison, each field within a document is categorized as one of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Has a non-<em>null</em> value</p>
</li>
<li>
<p>Is specified as <em>null</em></p>
</li>
<li>
<p>Is missing a non-<em>null</em> value, and is not specified as <em>null</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Therefore:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>IS NULL</code> is successfully matched with <em>null</em>.</p>
</li>
<li>
<p><code>IS NOT NULL</code> is successfully matched when the field either has a value, or is missing a value.</p>
</li>
<li>
<p><code>IS MISSING</code> is successfully matched when neither <em>null</em> nor a value is present.</p>
</li>
<li>
<p><code>IS NOT MISSING</code> is successfully matched when either <em>null</em> or a value is present.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">REGEXP_CONTAINS(country, "France") AND name != "40-Mile Air"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This provides a successful match with every document whose <code>country</code> value is <code>"France"</code>, and whose <code>name</code> value is not <code>"40-Mile Air"</code>.
This would include <code>airline_1191</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "callsign": "REUNION",
  "country": "France",
  "iata": "UU",
  "icao": "REU",
  "id": 1191,
  "name": "Air Austral",
  "type": "airline"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following, additional example tests for a <em>null</em> <code>icao</code> field, on documents whose <code>country</code> value is <code>United States</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">REGEXP_CONTAINS(country, "United States") AND icao IS NULL</code></pre>
</div>
</div>
<div class="paragraph">
<p>This returns a number of matches, one of which is <code>airport_4079</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "airportname": "Orlando",
  "city": "Orlando",
  "country": "United States",
  "faa": "DWS",
  "geo": {
    "alt": 340,
    "lat": 28.398,
    "lon": -81.57
  },
  "icao": null,
  "id": 4079,
  "type": "airport",
  "tz": "America/New_York"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>All words used in Comparison Operators for XDCR Advanced Filtering are <em>reserved</em>.
For details, see <a href="#reserved-words">Reserved Words</a>, below.</p>
</div>
<div class="sect2">
<h3 id="xdcr-comparison-operators-comparison-with-n1ql"><a class="anchor" href="#xdcr-comparison-operators-comparison-with-n1ql"></a>XDCR Comparison Operators: Comparison with N1QL</h3>
<div class="paragraph">
<p>The Comparison Operators provided by XDCR Advanced Filtering are a subset of those provided by N1QL.
For details, see the N1QL page for <a href="#n1ql:n1ql-language-reference/comparisonops.adoc" class="xref unresolved">Comparison Operators</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="selecting-fields-and-elements"><a class="anchor" href="#selecting-fields-and-elements"></a>Selecting Fields and Elements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>XDCR Advanced Filtering provides operators for Field Selection and Element Selection.</p>
</div>
<div class="sect2">
<h3 id="field-selection"><a class="anchor" href="#field-selection"></a>Field Selection</h3>
<div class="paragraph">
<p>The Field Selection Operator is the period: <code>.</code>
This allows a child-field, within a parent-field, to be specified.
Note that the Field Selection Operator was used to specify the metadata <code>id</code> field, in <a href="#mata-data-access">Metadata Access</a>, above.</p>
</div>
<div class="paragraph">
<p>The following example uses the Field Selection Operator to obtain a match on any document that contains a <code>country</code> field with a value of <code>"United States"</code>, and also has an <code>alt</code> field, within the value of its <code>geo</code> field, with a value that is greater than or equal to <code>6813</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">REGEXP_CONTAINS(country, "United States") AND geo.alt &gt;= 6813</code></pre>
</div>
</div>
<div class="paragraph">
<p>This returns a number of matches, including <code>airport_4084</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "airportname": "Telluride",
  "city": "Telluride",
  "country": "United States",
  "faa": "TEX",
  "geo": {
    "alt": 9078,
    "lat": 37.953759,
    "lon": -107.90848
  },
  "icao": "KTEX",
  "id": 4084,
  "type": "airport",
  "tz": "America/Denver"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When non-standard alphanumeric characters have been used in field-naming (for example, space or bracket characters), the field, when referenced in an advanced filtering expression, should be escaped with backticks: eg, <code>field.&#96;the field name&#96;</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="element-selection"><a class="anchor" href="#element-selection"></a>Element Selection</h3>
<div class="paragraph">
<p>The Element Selection Operator, which is provided for use on arrays, takes the form <code>[</code> <em>n</em> <code>]</code>, where <em>n</em> is an array-position.</p>
</div>
<div class="paragraph">
<p>For example, the following provides a successful match when a document whose <code>airline</code> value is <code>"AA"</code> also contains a <code>schedule</code> array, whose initial member has a field <code>flight</code> with a value of <code>"AA679"</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">REGEXP_CONTAINS(airline, "AA") AND schedule[0].flight = "AA679"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This produces a match on document <code>route_5784</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "airline": "AA",
  "airlineid": "airline_24",
  "destinationairport": "PHL",
  "distance": 153.59665185566308,
  "equipment": "E90 DH3 319",
  "id": 5784,
  "schedule": [{
    "day": 0,
    "flight": "AA679",
    "utc": "22:01:00"
  }, {
    "day": 0,
    "flight": "AA253",
    "utc": "22:29:00"
  }, {
    "day": 1,
      .
      .
      .
  }, {
    "day": 6,
    "flight": "AA661",
    "utc": "16:35:00"
  }],
  "sourceairport": "LGA",
  "stops": 0,
  "type": "route"
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="xdcr-selection-operators-comparison-with-n1ql"><a class="anchor" href="#xdcr-selection-operators-comparison-with-n1ql"></a>XDCR Selection Operators: Comparison with N1QL</h3>
<div class="paragraph">
<p>The Field Selection Operator is used in N1QL with additional functionality: <em>nested expressions</em> support is provided.
The Element Selection Operator is also used in N1QL with additional functionality: negative indexing of arrays and the <code>*</code> operator are supported.
N1QL also provides <em>array slicing</em> that allows the building of sub-slices of arrays.
For information, see the N1QL page for <a href="#n1ql:n1ql-language-reference/nestedops.adoc" class="xref unresolved">Nested Operators and Expressions</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-arithmetic-operators"><a class="anchor" href="#using-arithmetic-operators"></a>Using Arithmetic Operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>XDCR Advanced Filtering is supported by the following arithmetic operators:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operator</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subtract right value from left value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiply values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Divide left value by right value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">%</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modulo.
Divide left value by right value and return the remainder.</p>
<p class="tableblock">Note that modulo is an integer operator and will use only the integer part of each value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-<code class="var">value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Negate value.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For additional details on syntax and return values, see the N1QL page for <a href="#n1ql:n1ql-language-reference/arithmetic.adoc" class="xref unresolved">Arithmetic Operators</a>.</p>
</div>
<div class="paragraph">
<p>For example, the following filtering expression provides a successful match on documents whose <code>country</code> value is <code>United States</code> and whose <code>id</code> is an integer value that returns a value of less than or equal to <code>3</code>, when modulo <code>7</code> is applied:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">REGEXP_CONTAINS(country, "United States") AND id % 7 &lt;=  3</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="xdcr-arithmetic-operators-comparison-with-n1ql"><a class="anchor" href="#xdcr-arithmetic-operators-comparison-with-n1ql"></a>XDCR Arithmetic Operators: Comparison with N1QL</h3>
<div class="paragraph">
<p>N1QL provides the same arithmetic operators, with the same semantics and return values.
See the N1QL page for <a href="#n1ql:n1ql-language-reference/arithmetic.adoc" class="xref unresolved">Arithmetic Operators</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="number-functions"><a class="anchor" href="#number-functions"></a>Number Functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>XDCR Advanced Filtering is supported by Number Functions.
These functions are the same as those provided by N1QL.
However, the following N1QL Number Functions do <em>not</em> apply to XDCR Advanced Filtering:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>RANDOM</p>
</li>
<li>
<p>SIGN</p>
</li>
<li>
<p>TRUNC</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For information on all other functions, see the N1QL page for <a href="#n1ql:n1ql-language-reference/numericfun.adoc" class="xref unresolved">Number Functions</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="handling-dates"><a class="anchor" href="#handling-dates"></a>Handling Dates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>XDCR Advanced Filtering  provides a basic DATE function that allows user to compose filtering expressions based on dates.</p>
</div>
<div class="paragraph">
<p>Dates can be specified in <a href="https://tools.ietf.org/html/rfc3339">RFC3339</a> format.
Dates can also be specified in the following ISO-8601 formats:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ISO-8601 Format</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2019-01-25</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date and time in UTC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2019-01-25T18:40:37Z</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">REGEXP_CONTAINS(event_type, "birthday") AND DATE(date) &gt;= DATE("2019-01-25")</code></pre>
</div>
</div>
<div class="paragraph">
<p>This seeks a match on any document whose <code>date</code> value is equal to or later than <code>"2019-01-25"</code>.
If created, the following hypothetical document provides a successful match:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "event_type": "birthday",
  "venue": "white hart hotel, salisbury, uk",
  "session": "afternoon",
  "dining_preference": "buffet",
  "number_of_guests": 25,
  "date": "2019-01-25"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that <em>times</em> are supported by utilizing the following RFC-3339 format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">DATE(transaction.time) &lt; DATE(2018-01-01T12:00Z)</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="xdcr-date-operators-comparison-with-n1ql"><a class="anchor" href="#xdcr-date-operators-comparison-with-n1ql"></a>XDCR Date Operators: Comparison with N1QL</h3>
<div class="paragraph">
<p>N1QL date functions are <em>not</em> supported by XDCR Advanced Filtering.
For information on N1QL date functions, see the N1QL page for <a href="#n1ql:n1ql-language-reference/datefun.adoc" class="xref unresolved">Date Functions</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="reserved-words"><a class="anchor" href="#reserved-words"></a>Reserved Words</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Reserved Words</em> are words used syntactically by XDCR Advanced Filtering.
If these words have used as <em>identifiers</em> in JSON documents, in order to be referenced in filtering expressions, they must be <em>escaped</em>, by means of backticks.
The complete list of words is as follows:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EXISTS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IF</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">META</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NOT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="filtering-expression-bnf"><a class="anchor" href="#filtering-expression-bnf"></a>Filtering Expression BNF</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The relationships between available expressions for XDCR Advanced Filtering are expressed in the following table, in <em>Backus-Naur Form</em>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 44.4444%;">
<col style="width: 55.5556%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Expression</th>
<th class="tableblock halign-left valign-top">Is Equal To</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FilterExpression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">( "(" FilterExpression ")" { "AND" FilterExpression } { "OR" FilterExpression } ) &#124; InnerExpression { "AND" FilterExpression }</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InnerExpression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AndCondition { "OR" AndCondition }</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AndCondition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Condition { "AND" Condition }</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Condition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">( [ "NOT" ] Condition ) &#124; Operand</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BooleanExpr &#124; ( LHS ( CheckOp &#124; ( CompareOp RHS) ) )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BooleanExpr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean &#124; BooleanFuncExpr</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LHS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConstFuncExpr &#124; Boolean &#124; Field &#124; Value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RHS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConstFuncExpr &#124; Boolean &#124; Value &#124; Field</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CompareOp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"=" &#124; "==" &#124; "&lt;&gt;" &#124; "!=" &#124; "&gt;" &#124; "&gt;=" &#124; "&lt;" &#124; "&#8656;"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CheckOp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">( "IS" [ "NOT" ] ( NULL &#124; MISSING ) )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{ @"-" } OnePath { "." OnePath } { MathOp MathValue }</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OnePath</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">( PathFuncExpression &#124; StringType ){ ArrayIndex }</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">StringType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@String &#124; @Ident &#124; @RawString &#124; @Char</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ArrayIndex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"[" @Int "]"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConstFuncExpr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConstFuncNoArg &#124; ConstFuncOneArg &#124; ConstFuncTwoArgs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConstFuncNoArg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConstFuncNoArgName "(" ")"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConstFuncNoArgName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"PI" &#124; "E"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConstFuncOneArg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConstFuncOneArgName "(" ConstFuncArgument ")"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConstFuncOneArgName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"ABS" &#124; "ACOS"&#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConstFuncTwoArgs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConstFuncTwoArgsName "(" ConstFuncArgument "," ConstFuncArgument ")"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConstFuncTwoArgsName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"ATAN2" &#124; "POW"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConstFuncArgument</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field &#124; Value &#124; ConstFuncExpr</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConstFuncArgumentRHS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PathFuncExpression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OnePathFuncNoArg</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OnePathFuncNoArg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OnePathFuncNoArgName "(" ")"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MathOp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@"+" &#124; @"-" &#124; @"*" &#124; @"/" &#124; @"%"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MathValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@Int &#124; @Float</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OnePathFuncNoArgName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"META"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BooleanFuncExpr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BooleanFuncTwoArgs &#124; ExistsClause</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BooleanFuncTwoArgs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BooleanFuncTwoArgsName "(" ConstFuncArgument "," ConstFuncArgumentRHS ")"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BooleanFuncTwoArgsName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"REGEXP_CONTAINS"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ExistsClause</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">( "EXISTS" "(" Field ")" )</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span> 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
