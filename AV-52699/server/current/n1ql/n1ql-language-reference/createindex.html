<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>CREATE INDEX | Couchbase Docs</title>
<link rel="stylesheet" href="../../../../_/css/site.css">
<script src="../../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="The CREATE INDEX statement allows you to create a secondary index. Secondary indexes contain a filtered or a full set of keys in a given keyspace.">
<meta name="keywords" content="secondary, index, placement">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/n1ql/n1ql-language-reference/createindex.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/pages/n1ql-language-reference/createindex.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb"><a href="../query.html">Query</a></li>
<li class="crumb"><a href="index.html">SQL++ Language Reference</a></li>
<li class="crumb">Statements</li>
<li class="crumb"><a href="createindex.html">CREATE INDEX</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">CREATE INDEX</h1>
<div class="labels">
<ul><li class="reference"><span><i class="fas fa-book"></i></i> reference</span></li>
</ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The <code>CREATE INDEX</code> statement allows you to create a secondary index.
Secondary indexes contain a filtered or a full set of keys in a given keyspace.
Secondary indexes are optional but increase query efficiency on a keyspace.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="purpose"><a class="anchor" href="#purpose"></a>Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Couchbase Server 7.0 and later, <code>CREATE INDEX</code> allows you to make multiple concurrent index creation requests.
The command starts a task to create the index definition in the background.
If there is an index creation task already running, the Index Service queues the incoming index creation request.
<code>CREATE INDEX</code> returns as soon as the index creation phase is complete.</p>
</div>
<div class="paragraph">
<p>By default, when the index creation phase is complete, the Index Service triggers the index build phase.
If you lose connectivity, the index build operation continues in the background.
You can defer the index build phase using the <code>defer_build</code> clause.
In deferred build mode, <code>CREATE INDEX</code> creates the index definition, but does not trigger the index build phase.
You can then build the index using the <a href="build-index.html" class="xref page">BUILD INDEX</a> command.</p>
</div>
<div class="paragraph">
<p>You can create multiple identical secondary indexes on a keyspace and place them on separate nodes for better index availability.
In Couchbase Server Enterprise Edition, the recommended way to do this is using the <code>num_replica</code> option.
In Couchbase Server Community Edition, you need to create multiple identical indexes and place them using the <code>nodes</code> option.
Refer to <a href="#index-with">WITH Clause</a> below for more details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<h5 id="rbac-privileges" class="discrete">RBAC Privileges</h5>
<div class="paragraph">
<p>User executing the CREATE INDEX statement must have the <em>Query Manage Index</em> privilege granted on the keyspace.
For more details about user roles, see
<a href="../../learn/security/authorization-overview.html" class="xref page">Authorization</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="syntax"><a class="anchor" href="#syntax"></a>Syntax</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L65-L67">create-index ::= 'CREATE' 'INDEX' index-name ( 'IF' 'NOT' 'EXISTS' )? 'ON' keyspace-ref
                 '(' index-key lead-key-attribs? ( ( ',' index-key key-attribs? )+ )? ')'
                 index-partition? where-clause? index-using? index-with?</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/create-index.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div id="index-name" class="dlist">
<dl>
<dt class="hdlist1">index-name</dt>
<dd>
<p>[Required] A unique name that identifies the index.</p>
<div class="paragraph">
<p>Valid GSI index names can contain any of the following characters: <code>A-Z</code> <code>a-z</code> <code>0-9</code> <code>&num;</code> <code>&lowbar;</code>, and must start with a letter, [<code>A-Z</code> <code>a-z</code>].
The minimum length of an index name is 1 character and there is no maximum length set for an index name.
When querying, if the index name contains a <code>&num;</code> or <code>&lowbar;</code> character, you must enclose the index name within backticks.</p>
</div>
</dd>
</dl>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">keyspace-ref</dt>
<dd>
<p>[Required] Specifies the keyspace where the index is created.
Refer to <a href="#keyspace-ref">Keyspace Reference</a> below.</p>
</dd>
<dt class="hdlist1">index-key</dt>
<dd>
<p>[Required] Specifies an index key.
Refer to <a href="#index-key">Index Key</a> below.</p>
</dd>
<dt class="hdlist1">lead-key-attribs</dt>
<dd>
<p>[Optional] Specifies attributes for the leading index key.
Refer to <a href="#index-key-attrib">Index Key Attributes</a> below.</p>
</dd>
<dt class="hdlist1">key-attribs</dt>
<dd>
<p>[Optional] Specifies attributes for a non-leading index key.
Refer to <a href="#index-key-attrib">Index Key Attributes</a> below.</p>
</dd>
<dt class="hdlist1">index-partition</dt>
<dd>
<p>[Optional] Specifies index partitions.
Refer to <a href="#index-partition">PARTITION BY HASH Clause</a> below.</p>
</dd>
<dt class="hdlist1">where-clause</dt>
<dd>
<p>[Optional] Specifies filters for a partial index.
Refer to <a href="#where-clause">WHERE Clause</a> below.</p>
</dd>
<dt class="hdlist1">index-using</dt>
<dd>
<p>[Optional] Specifies the index type.
Refer to <a href="#index-using">USING Clause</a> below.</p>
</dd>
<dt class="hdlist1">index-with</dt>
<dd>
<p>[Optional] Specifies options for the index.
Refer to <a href="#index-with">WITH Clause</a> below.</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="if-not-exists"><a class="anchor" href="#if-not-exists"></a>IF NOT EXISTS Clause</h3>
<div class="paragraph">
<p>The optional <code>IF NOT EXISTS</code> clause enables the statement to complete successfully when the specified index already exists.
If an index with the same name already exists within the specified keyspace, then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If this clause is not present, an error is generated.</p>
</li>
<li>
<p>If this clause is present, the statement does nothing and completes without error.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="keyspace-ref"><a class="anchor" href="#keyspace-ref"></a>Keyspace Reference</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L86">keyspace-ref ::= keyspace-path | keyspace-partial</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/keyspace-ref.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>Specifies the keyspace for which the index needs to be created.
The keyspace reference may be a <a href="#keyspace-path">keyspace path</a> or a <a href="#keyspace-partial">keyspace partial</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If there is a hyphen (-) inside any part of the keyspace reference, you must wrap that part of the keyspace reference in backticks (`&#160;`).
Refer to the examples below.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="keyspace-path"><a class="anchor" href="#keyspace-path"></a>Keyspace Path</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L90">keyspace-path ::= ( namespace ':' )? bucket ( '.' scope '.' collection )?</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/keyspace-path.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>If the keyspace is a named collection, or the default collection in the default scope within a bucket, the keyspace reference may be a keyspace path.
In this case, the <a href="../n1ql-intro/queriesandresults.html#query-context" class="xref page">query context</a> should not be set.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">namespace</dt>
<dd>
<p>(Optional) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">namespace</a> of the keyspace.
Currently, only the <code>default</code> namespace is available.
If the namespace name is omitted, the default namespace in the current session is used.</p>
</dd>
<dt class="hdlist1">bucket</dt>
<dd>
<p>(Required) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">bucket name</a> of the keyspace.</p>
</dd>
<dt class="hdlist1">scope</dt>
<dd>
<p>(Optional) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">scope name</a> of the keyspace.
If omitted, the bucket&#8217;s default scope is used.</p>
</dd>
<dt class="hdlist1">collection</dt>
<dd>
<p>(Optional) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">collection name</a> of the keyspace.
If omitted, the default collection in the bucket&#8217;s default scope is used.</p>
</dd>
</dl>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>For example, <code>default:`travel-sample`</code> indicates the default collection in the default scope in the <code>travel-sample</code> bucket in the <code>default</code> namespace.</p>
</div>
<div class="paragraph">
<p>Similarly, <code>default:`travel-sample`.inventory.airline</code> indicates the <code>airline</code> collection in the <code>inventory</code> scope in the <code>travel-sample</code> bucket in the <code>default</code> namespace.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="keyspace-partial"><a class="anchor" href="#keyspace-partial"></a>Keyspace Partial</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L94">keyspace-partial ::= collection</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/keyspace-partial.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>Alternatively, if the keyspace is a named collection, the keyspace reference may be just the collection name with no path.
In this case, you must set the <a href="../n1ql-intro/queriesandresults.html#query-context" class="xref page">query context</a> to indicate the required namespace, bucket, and scope.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">collection</dt>
<dd>
<p>(Required) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">collection name</a> of the keyspace.</p>
</dd>
</dl>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>For example, <code>airline</code> indicates the <code>airline</code> collection, assuming the query context is set.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="index-key"><a class="anchor" href="#index-key"></a>Index Key</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L71">index-key ::= expr | array-expr</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/index-key.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>Refers to an attribute name or a scalar function or an ARRAY expression on the attribute.
This constitutes an index-key for the index.</p>
</div>
<div id="index-key-args" class="dlist">
<dl>
<dt class="hdlist1">expr</dt>
<dd>
<p>A SQL++ <a href="index.html" class="xref page">expression</a> over any fields in the document.
This cannot use constant expressions, aggregate functions, or sub-queries.</p>
</dd>
<dt class="hdlist1">array-expr</dt>
<dd>
<p>An array expression.
Array indexing enables you to create global indexes on array elements and optimize the execution of queries involving array elements.
For details, refer to <a href="indexing-arrays.html" class="xref page">Array Indexing</a>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="index-key-attrib"><a class="anchor" href="#index-key-attrib"></a>Index Key Attributes</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L75">lead-key-attribs ::= index-order include-missing? | include-missing index-order?</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/lead-key-attribs.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L79">key-attribs ::= index-order</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/key-attribs.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>Specifies attributes for the index key.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">index-order</dt>
<dd>
<p>[Optional] All index keys may include an index order clause.
Refer to <a href="#index-order">Index Order</a> below.</p>
</dd>
<dt class="hdlist1">include-missing</dt>
<dd>
<p>[Optional] The leading index key may also include <code>INCLUDE MISSING</code> clause.
Refer to <a href="#include-missing">INCLUDE MISSING Clause</a> below.</p>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="index-order"><a class="anchor" href="#index-order"></a>Index Order</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L87">index-order ::= 'ASC' | 'DESC'</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/index-order.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>Specifies the sort order of the index key.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ASC</code></dt>
<dd>
<p>The index key is sorted in ascending order.</p>
</dd>
<dt class="hdlist1"><code>DESC</code></dt>
<dd>
<p>The index key is sorted in descending order.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>This clause is optional; if omitted, the default is <code>ASC</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="include-missing"><a class="anchor" href="#include-missing"></a>INCLUDE MISSING Clause</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L83">include-missing ::= 'INCLUDE' 'MISSING'</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/include-missing.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>The optional <code>INCLUDE MISSING</code> clause ensures that documents which do not include the index key field are indexed regardless.
If this clause is not present, then documents without the index key field are not indexed.</p>
</div>
<div class="paragraph">
<p>The <code>INCLUDE MISSING</code> clause can only be applied to the leading index key.
The <code>INCLUDE MISSING</code> clause may be included before or after the <code>ASC</code> or <code>DESC</code> keyword.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="index-partition"><a class="anchor" href="#index-partition"></a>PARTITION BY HASH Clause</h3>
<div class="paragraph">
<p>Used to partition the index.
Index partitioning helps increase the query performance by dividing and spreading a large index of documents across multiple nodes, horizontally scaling out an index as needed.
For details, refer to <a href="index-partitioning.html" class="xref page">Index Partitioning</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="where-clause"><a class="anchor" href="#where-clause"></a>WHERE Clause</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L362">where-clause ::= 'WHERE' cond</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/where-clause.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div id="where-clause-args" class="dlist">
<dl>
<dt class="hdlist1">cond</dt>
<dd>
<p>Specifies WHERE clause predicates to qualify the subset of documents to include in the index.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="index-using"><a class="anchor" href="#index-using"></a>USING Clause</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L57">index-using ::= 'USING' 'GSI'</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/index-using.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>In Couchbase Server 6.5 and later, the index type for a secondary index must be Global Secondary Index (GSI).
The <code>USING GSI</code> keywords are optional and may be omitted.</p>
</div>
</div>
<div class="sect2">
<h3 id="index-with"><a class="anchor" href="#index-with"></a>WITH Clause</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L61">index-with ::= 'WITH' expr</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/index-with.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>Use the WITH clause to specify additional options.</p>
</div>
<div id="index-with-args" class="dlist">
<dl>
<dt class="hdlist1">expr</dt>
<dd>
<p>An object with the following properties:</p>
<div class="dlist">
<dl>
<dt class="hdlist1">nodes</dt>
<dd>
<p>[Optional] An array of strings, each of which represents a node name.</p>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><span class="edition"><a href="https://www.couchbase.com/products/editions">COMMUNITY EDITION</a></span></p>
</div>
<div class="paragraph">
<p>In Couchbase Server Community Edition, a single global secondary index can be placed on a single node that runs the indexing service.
The <code>nodes</code> property allows you to specify the node that the index is placed on.
If <code>nodes</code> is not specified, one of the nodes running the indexing service is randomly picked for the index.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><span class="edition"><a href="https://www.couchbase.com/products/editions">ENTERPRISE EDITION</a></span></p>
</div>
<div class="paragraph">
<p>In Couchbase Server Enterprise Edition, you can specify multiple nodes to distribute replicas of an index across nodes running the indexing service: for example, <code>WITH {"nodes": ["node1:8091", "node2:8091", "node3:8091"]}</code>.
For details and examples, refer to <a href="#learn:services-and-indexes/indexes/index-replication.adoc#index-replication" class="xref unresolved">Index Replication</a>.</p>
</div>
<div class="paragraph">
<p>If specifying both <code class="var">nodes</code> and <code class="var">num_replica</code>, the number of nodes in the array must be one greater than the specified number of replicas otherwise the index creation will fail.</p>
</div>
<div class="paragraph">
<p>If <code class="var">nodes</code> is not specified, then the system chooses nodes on which to place the new index and any replicas, in order to achieve the best resource utilization across nodes running the indexing service.
This is done by taking into account the current resource usage statistics of index nodes.</p>
</div>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
A node name passed to the <code>nodes</code> property must include the cluster administration port, by default 8091.
For example <code>WITH {"nodes": ["192.0.2.0:8091"]}</code> instead of <code>WITH {"nodes": ["192.0.2.0"]}</code>.
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1">defer_build</dt>
<dd>
<p>[Optional] Boolean.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">true</dt>
<dd>
<p>When set to <code>true</code>, the <code>CREATE INDEX</code> operation queues the task for building the index but immediately pauses the building of the index of type GSI.
Index building requires an expensive scan operation.
Deferring building of the index with multiple indexes can optimize the expensive scan operation.
Admins can defer building multiple indexes and, using the <code>BUILD INDEX</code> statement, multiple indexes to be built efficiently with one efficient scan of bucket data.</p>
</dd>
<dt class="hdlist1">false</dt>
<dd>
<p>When set to <code>false</code>, the <code>CREATE INDEX</code> operation queues the task for building the index and immediately kicks off the building of the index of type GSI.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">num_replica</dt>
<dd>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><span class="edition"><a href="https://www.couchbase.com/products/editions">ENTERPRISE EDITION</a></span></p>
</div>
<div class="paragraph">
<p>This property is only available in Couchbase Server Enterprise Edition.</p>
</div>
<div class="paragraph">
<p>[Optional] Integer that specifies the number of <a href="#learn:services-and-indexes/indexes/index-replication.adoc#index-replication" class="xref unresolved">replicas</a> of the index to create.</p>
</div>
<div class="paragraph">
<p>The indexer will automatically distribute these replicas amongst index nodes in the cluster for load-balancing and high availability purposes.
The indexer will attempt to distribute the replicas based on the server groups in use in the cluster where possible.</p>
</div>
<div class="paragraph">
<p>If the value of this property is not less than the number of index nodes in the cluster, then the index creation will fail.</p>
</div>
</div>
</div>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="usage"><a class="anchor" href="#usage"></a>Usage</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is not recommended to create (or drop) secondary indexes when any node with a secondary index role is down, as this may result in duplicate index names.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="monitoring-indexes"><a class="anchor" href="#monitoring-indexes"></a>Monitoring Indexes</h3>
<div class="paragraph">
<p>Index metadata provides a state field.
This state field and other index metadata can be queried using <a href="../n1ql-intro/sysinfo.html#querying-indexes" class="xref page">system:indexes</a>.
The index state may be <code>scheduled for creation</code>, <code>deferred</code>, <code>building</code>, <code>pending</code>, <code>online</code>, <code>offline</code>, or <code>abridged</code>.
You can also monitor the index state using the Couchbase Web Console.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you kick off multiple index creation operations concurrently, you may sometimes see transient errors similar to the following.
If this error occurs, the Index Service tries to run the failed operation again in the background until it succeeds, up to a maximum of 1000 retries.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/examples/n1ql-language-reference/build-idx-error.jsonc">[
  {
    "code": 5000,
    "msg": "GSI CreateIndex() - cause: Encountered transient error.  Index creation will be retried in background.  Error: Index ... will retry building in the background for reason: Build Already In Progress. Keyspace ...",
    "query": "..."
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the Index Service still cannot create the index after the maximum number of retries, the index state is marked as <code>offline</code>.
You must drop the failed index using the <code>DROP INDEX</code> command.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="indexing-metadata"><a class="anchor" href="#indexing-metadata"></a>Using the <code>meta().id</code> Function</h3>
<div class="paragraph">
<p>You can create indexes on metadata information.
For details, refer to <a href="indexing-meta-info.html" class="xref page">Indexing Meta Info</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="index-aggregates"><a class="anchor" href="#index-aggregates"></a>Using Indexes for Aggregates</h3>
<div class="paragraph">
<p>If you have an index on a simple expression, such as <code>geo.alt</code>, you can use that index to satisfy a query on an <a href="aggregatefun.html" class="xref page">aggregate</a> of that expression, such as <code>MIN(geo.alt)</code> or <code>MAX(geo.alt)</code>.
For details and examples, refer to <a href="#learn:services-and-indexes/indexes/index_pushdowns.adoc#operator-pushdowns" class="xref unresolved">Operator Pushdowns</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="index-replicas"><a class="anchor" href="#index-replicas"></a>Index Replicas</h3>
<div class="paragraph">
<p>In the <a href="../../manage/manage-ui/manage-ui.html#console-indexes" class="xref page">Indexes screen in the Couchbase Web Console</a>, index replicas are marked with their replica ID.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/create-index-replica-id.png" alt="The Indexes screen showing an index and index replica with replica ID">
</div>
</div>
<div class="paragraph">
<p>If you select <code>view by server node</code> from the drop-down menu, you can see the server node where each index and index replica is placed.</p>
</div>
<div class="paragraph">
<p>You can also query the <a href="../n1ql-intro/sysinfo.html#querying-indexes" class="xref page">system:indexes</a> catalog to find the ID of an index replica and see which node it is placed on.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>By default, index replicas are used to serve index scans.
The system automatically load-balances an index scan across the index and all its replicas.
Adding index replicas enables you to scale scan throughput, in addition to providing high availability.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To try the examples in this section, you must set the query context as described in each example.</p>
</div>
<div id="ex-create-idx" class="exampleblock">
<div class="title">Example 1. Create an index in the default scope and collection</div>
<div class="content">
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/createindex.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div class="paragraph">
<p>Create a secondary index that contains airports with an <code>alt</code> value greater than 1000 on the node <code>127.0.0.1</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/examples/n1ql-language-reference/create-idx-default.n1ql#L6-L10">CREATE INDEX idx_default_over1000
  ON `travel-sample`(geo.alt)
  WHERE geo.alt &gt; 1000
  USING GSI
  WITH {"nodes": ["127.0.0.1:8091"]};</code></pre>
</div>
</div>
</div>
</div>
<div id="ex-create-idx-collection" class="exampleblock">
<div class="title">Example 2. Create an index in a named scope and collection</div>
<div class="content">
<div class="paragraph">
<p>For this example, the path to the required keyspace is specified by the query, so you do not need to set the query context.</p>
</div>
<div class="paragraph">
<p>Create a secondary index that contains airports with an <code>alt</code> value greater than 1000 on the node <code>127.0.0.1</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/examples/n1ql-language-reference/create-idx-collection.n1ql#L6-L10">CREATE INDEX idx_airport_over1000
  ON `travel-sample`.inventory.airport(geo.alt)
  WHERE geo.alt &gt; 1000
  USING GSI
  WITH {"nodes": ["127.0.0.1:8091"]};</code></pre>
</div>
</div>
</div>
</div>
<div id="ex-create-idx-defer" class="exampleblock">
<div class="title">Example 3. Create a deferred index</div>
<div class="content">
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/createindex.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div class="paragraph">
<p>Create a secondary index with the <code>defer_build</code> option.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/examples/n1ql-language-reference/create-idx-defer-1.n1ql">CREATE INDEX idx_landmark_country
  ON landmark(country)
  USING GSI
  WITH {"defer_build":true};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Query <code>system:indexes</code> for the status of the index.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/examples/n1ql-language-reference/check-idx-defer.n1ql">SELECT * FROM system:indexes WHERE name="idx_landmark_country";</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/examples/n1ql-language-reference/check-idx-defer.jsonc">[
  {
    "indexes": {
      "bucket_id": "travel-sample",
      "datastore_id": "http://127.0.0.1:8091",
      "id": "d079aec40eb0c6cc",
      "index_key": [
        "`country`"
      ],
      "keyspace_id": "landmark",
      "name": "idx_landmark_country",
      "namespace_id": "default",
      "scope_id": "inventory",
      "state": "deferred", <i class="conum" data-value="1"></i><b>(1)</b>
      "using": "gsi"
    }
  }
]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Note that the index is in the deferred state.</td>
</tr>
</table>
</div>
</div>
</div>
<div id="ex-build-idx-defer" class="exampleblock">
<div class="title">Example 4. Build a deferred index</div>
<div class="content">
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/createindex.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div class="paragraph">
<p>Kick off a deferred build using the index name.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/examples/n1ql-language-reference/build-idx-single.n1ql">BUILD INDEX ON landmark(idx_landmark_country) USING GSI;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Query <code>system:indexes</code> for the status of the index.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/examples/n1ql-language-reference/check-idx-online.n1ql">SELECT * FROM system:indexes WHERE name="idx_landmark_country";</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/examples/n1ql-language-reference/check-idx-online.jsonc">[
  {
    "indexes": {
      "bucket_id": "travel-sample",
      "datastore_id": "http://127.0.0.1:8091",
      "id": "d079aec40eb0c6cc",
      "index_key": [
        "`country`"
      ],
      "keyspace_id": "landmark",
      "name": "idx_landmark_country",
      "namespace_id": "default",
      "scope_id": "inventory",
      "state": "online", <i class="conum" data-value="1"></i><b>(1)</b>
      "using": "gsi"
    }
  }
]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Note that the index has now been created.</td>
</tr>
</table>
</div>
</div>
</div>
<div id="ex-create-idx-missing" class="exampleblock">
<div class="title">Example 5. Create index with missing leading key</div>
<div class="content">
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/createindex.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div class="paragraph">
<p>The following statement will not index airports where the <code>district</code> field is missing.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-n1ql hljs" data-lang="n1ql" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/examples/n1ql-language-reference/create-idx-missing.n1ql">CREATE INDEX idx_airport_missing
ON airport(district, name);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following statement will index all airports, even if the <code>district</code> field is not included in the document.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-n1ql hljs" data-lang="n1ql" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/examples/n1ql-language-reference/create-idx-include.n1ql">CREATE INDEX idx_airport_include
ON airport(district INCLUDE MISSING, name);</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../../_/js/site.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
</body>
</html>
