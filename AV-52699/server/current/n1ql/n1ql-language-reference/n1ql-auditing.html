<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>SQL++ Auditing | Couchbase Docs</title>
<link rel="stylesheet" href="../../../../_/css/site.css">
<script src="../../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="SQL++-related activities can be audited, by Couchbase Server.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/n1ql/n1ql-language-reference/n1ql-auditing.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/pages/n1ql-language-reference/n1ql-auditing.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb"><a href="../query.html">Query</a></li>
<li class="crumb"><a href="../../tools/tools-ref.html">Query Tools</a></li>
<li class="crumb"><a href="n1ql-auditing.html">SQL++ Auditing</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">SQL++ Auditing</h1>
<div class="labels">
<ul><li class="reference"><span><i class="fas fa-book"></i></i> reference</span></li>
</ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
SQL++-related activities can be audited, by Couchbase Server.
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="understanding-sql-auditing"><a class="anchor" href="#understanding-sql-auditing"></a>Understanding SQL++ Auditing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section provides specific information on Couchbase Server auditing as it relates to SQL++.
For a general description of configuring auditing with Couchbase Web Console, see
<a href="../../learn/security/authorization-overview.html" class="xref page">Authorization</a>.</p>
</div>
<div class="paragraph">
<p>Couchbase Server provides auditing for SQL++-related activities such as the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Authenticating</p>
</li>
<li>
<p>Starting and stopping the Query Service</p>
</li>
<li>
<p>Editing Query Service settings</p>
</li>
<li>
<p>Executing SQL++ statements</p>
</li>
<li>
<p>Non-query API requests</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>SQL++-related activities are logged whether they are executed by a person or by an application running on behalf of a person.
Auditing occurs at the level of <em>requests</em>, rather than of <em>operations</em>.
Thus, when a request arrives with a SELECT query, only the SELECT query itself is logged: the associated subsidiary operations performed by the Data and Index Services are <em>not</em> logged.</p>
</div>
<div class="paragraph">
<p>Auditing causes a reduction in SQL++ query-performance.
This is in the range of 9% to 17% of queries performed per second: the exact reduction depends on query-size, and on the amount of auditing that has been enabled.
Large queries and minimal auditing cause less performance-reduction.</p>
</div>
<div class="paragraph">
<p>Auditing can be configured by means of Couchbase Web Console: see the information provided in <a href="../../manage/manage-security/manage-auditing.html" class="xref page">Manage Auditing</a>.
To capture SQL++-related events, use the <strong>Query and Index Service</strong> panel.
Events available to be audited include ones issued through the SDK, the Query workbench, and the Query Shell.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="audit-log-format"><a class="anchor" href="#audit-log-format"></a>Audit Log Format</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The audit records are written in JSON format to match the format used for Admin Auditing to allow easy integration with downstream auditing tools for audit log analysis.
The syslog format will allow for integration with third party SIEM tools, such as QRadar.</p>
</div>
<div class="paragraph">
<p>Required auditing fields for executed statements:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 44.4444%;">
<col style="width: 44.4445%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timestamp</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exact date and time of the access event in UTC format.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2018-02-09T14:52:35.163-08:00</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>real_userid</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Source/User from basic authentication fields of request.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"source":"local",</code></p>
<p class="tableblock"><code>"user":"Administrator"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>requestId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UUID of request, generated by the SQL++ server.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>aee53bf0-d009-4015-8a1d-efec74f2cd74</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>statement</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The actual SQL++ query that was executed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SELECT * FROM `travel-sample`</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>isAdHoc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TRUE</code> for statements made directly.</p>
<p class="tableblock"><code>FALSE</code> for prepared statements.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TRUE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userAgent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To identify the type of user by a combination of the User-Agent and CB-User-Agent headers in one of the four formats:</p>
<p class="tableblock">1) CURL request</p>
<p class="tableblock">2) Query Workbench</p>
<p class="tableblock">3) CBQ shell</p>
<p class="tableblock">4) SDK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1) <code>curl/7.43.0</code></p>
<p class="tableblock">2) <code>Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36 (Couchbase Query Workbench (5.1.0-1434-enterprise))</code></p>
<p class="tableblock">3) <code>Go-http-client/1.1 (CBQ/2.0)</code></p>
<p class="tableblock">4) <code>couchbase-java-client/2.5.2 (git: 2.5.2, core: 1.5.2) (Mac OS X/10.11.6 x86_64; Java HotSpot(TM) 64-Bit Server VM 1.8.0_101-b13)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>node</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assigned name (IP address) of the server where the request ran.</p>
<p class="tableblock"><code>local</code> for unclustered nodes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>local</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Status of the request, as <code>success</code> or <code>failed</code> or <code>stopped</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>success</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metrics</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The elapsed time (ms), execution time (ms), result count, and result size (MB).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"elapsedTime":"7.599684ms",</code></p>
<p class="tableblock"><code>"executionTime":"7.507755ms",</code></p>
<p class="tableblock"><code>"resultCount":0,</code></p>
<p class="tableblock"><code>"resultSize":0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number for the <a href="#section_nyb_jsh_wcb">audit event type</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>28672</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The SQL++ command or REST API request type.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SELECT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description of the event type.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>A SQL++ SELECT statement was executed</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Optional auditing fields for statements:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 41.6666%;">
<col style="width: 41.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>namedArgs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Names and values of name arguments.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$val</code> and <code>$user</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>positionalArgs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array of values of positional arguments.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1</code> and <code>?</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clientContextId</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Captured from the <code>client_context_id</code> parameter of the SQL++ query API.</p>
</div>
<div class="paragraph">
<p>May be used to distinguish between user-generated queries and UI-generated queries from the Query WorkBench.</p>
</div>
<div class="paragraph">
<p>UI-generated queries have the prefix <code>INTERNAL-</code> in this field.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The client context ID has no security guarantees.
The parameter can be set by any user in any request and is not verified in the server, so it should not be relied upon for security purposes.
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Required auditing fields for API requests:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 41.6666%;">
<col style="width: 41.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timestamp</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exact date and time of the access event in UTC format.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2018-02-09T14:52:35.163-08:00</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>real_userid</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Source/User from basic authentication fields of request.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"source":"local","user":"Administrator"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>httpMethod</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The API method call, either <code>GET, PUT, DELETE, POST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GET</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>httpResultCode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number representing the API result.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>200</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>errorMessage</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an error occurred, this will contain information on the error.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>User does not have credentials to run queries accessing the system tables.</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number for the <a href="#section_cmd_lyh_wcb">API auditing code</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>28689</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The API request location.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/ping</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description of the event type.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>An HTTP request was made to the API at /admin/ping.</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To reduce disk usage and improve performance, the log files are as compact as possible.</p>
</div>
<div class="paragraph">
<p>When viewed through Query Workbench, the logs are formatted and indented for easier reading.</p>
</div>
<div class="paragraph">
<p><strong>Example 1:</strong> Execute <code>SELECT * FROM orders</code> via a CURL statement.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"timestamp":"2018-02-09T14:52:35.163-08:00","real_userid":{"source":"local","user":"Administrator"},"requestId":"aee53bf0-d009-4015-8a1d-efec74f2cd74","statement":"SELECT * FROM orders","isAdHoc":true,"userAgent":"curl/7.43.0","node":"local_node","status":"success","metrics":{"elapsedTime":"7.599684ms","executionTime":"7.507755ms","resultCount":0,"resultSize":0},"id":28672,"name":"SELECT statement","description":"A N1QL SELECT statement was executed”}</pre>
</div>
</div>
<div class="paragraph">
<p>To make the log entry easier-to-read:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Copy the log entry to the clipboard</p>
</li>
<li>
<p>Open Query Workbench</p>
</li>
<li>
<p>Type <code>SELECT</code></p>
</li>
<li>
<p>Paste the query from the clipboard</p>
</li>
<li>
<p>Click the <strong>Execute</strong> button</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "$1": {
      "description": "A N1QL SELECT statement was executed",
      "id": 28672,
      "isAdHoc": true,
      "metrics": {
        "elapsedTime": "7.599684ms",
        "executionTime": "7.507755ms",
        "resultCount": 0,
        "resultSize": 0
      },
      "name": "SELECT statement",
      "node": "local_node",
      "real_userid": {
        "source": "local",
        "user": "Administrator"
      },
      "requestId": "aee53bf0-d009-4015-8a1d-efec74f2cd74",
      "statement": "SELECT * FROM orders",
      "status": "success",
      "timestamp": "2018-02-09T14:52:35.163-08:00",
      "userAgent": "curl/7.43.0"
    }
  }
]</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example 2:</strong> Execute <code>DELETE FROM orders WHERE priority = 6</code> via a CURL statement</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"timestamp":"2018-02-09T14:52:55.786-08:00","real_userid":{"source":"local","user":"Administrator"},"requestId":"ded68ae3-d964-4d87-b1c2-70cf72041c6b","statement":"DELETE FROM orders WHERE priority = 6","isAdHoc":true,"userAgent":"curl/7.43.0","node":"local_node","status":"success","metrics":{"elapsedTime":"8.884558ms","executionTime":"8.853976ms","resultCount":0,"resultSize":0},"id":28678,"name":"DELETE statement","description":"A N1QL DELETE statement was executed"}</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "$1": {
      "description": "A N1QL DELETE statement was executed",
      "id": 28678,
      "isAdHoc": true,
      "metrics": {
        "elapsedTime": "8.884558ms",
        "executionTime": "8.853976ms",
        "resultCount": 0,
        "resultSize": 0
      },
      "name": "DELETE statement",
      "node": "local_node",
      "real_userid": {
        "source": "local",
        "user": "Administrator"
      },
      "requestId": "ded68ae3-d964-4d87-b1c2-70cf72041c6b",
      "statement": "DELETE FROM orders WHERE priority = 6",
      "status": "success",
      "timestamp": "2018-02-09T14:52:55.786-08:00",
      "userAgent": "curl/7.43.0"
    }
  }
]</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example 3:</strong> Make an HTTP <code>GET</code> method from an <code>/admin/ping</code> API request.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{"timestamp":"2018-02-09T14:53:10.856-08:00","real_userid":{"source":"internal","user":"unknown"},"httpMethod":"GET","httpResultCode":200,"errorMessage":"","id":28697,"name":"/admin/ping API request","description":"An HTTP request was made to the API at /admin/ping."}</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[
  {
    "$1": {
      "description": "An HTTP request was made to the API at /admin/ping.",
      "errorMessage": "",
      "httpMethod": "GET",
      "httpResultCode": 200,
      "id": 28697,
      "name": "/admin/ping API request",
      "real_userid": {
        "source": "internal",
        "user": "unknown"
      },
      "timestamp": "2018-02-09T14:53:10.856-08:00"
    }
  }
]</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="audit-rotation"><a class="anchor" href="#audit-rotation"></a>Audit Rotation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The auditing Rotation parameters can be only one of the following:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Audit Log Rotation Type</th>
<th class="tableblock halign-left valign-top">Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time-based (days)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7 (for weekly); 30 (for monthly).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size-based (MB)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10 (for 10 MB); 10000 (for 10 GB).</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="audit-failure-semantics"><a class="anchor" href="#audit-failure-semantics"></a>Audit Failure Semantics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When the audit target fails, the auditing system can be set to one of the following:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Failure Response Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ignore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Continue the action without firing an audit record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cancel the operation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log Reuse</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>This option is for out-of-space failures:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Time-Based</strong>: Limit audit logs to the specified number of recent days.</p>
</li>
<li>
<p><strong>Size-Based</strong>: Limit audit log size to the specified number of megabytes.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If an audit record attempt fails in the query engine, an error message will be printed to the <code>query.log</code> file.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="audit-trail-protection"><a class="anchor" href="#audit-trail-protection"></a>Audit Trail Protection</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To prevent unauthorized modification of the audit service configuration, the auditing system restricts access to configuring only to Full and Local User Security Administrators.</p>
</div>
<div class="paragraph">
<p>Audit records are immutable since the auditing system prevents changes of audit event records once written.</p>
</div>
<div class="paragraph">
<p>Once archived, audit data is deleted from Couchbase, and the file space is recovered.</p>
</div>
<div class="paragraph">
<p>The <a href="../../cli/cbcollect-info-tool.html" class="xref page">cbcollect_info</a> utility does not collect audit logs.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section_nyb_jsh_wcb"><a class="anchor" href="#section_nyb_jsh_wcb"></a>Audit Event Types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Below is the list of all events that are captured in the audit logs.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>System clock modifications as captured in the operating system audit log</p>
</li>
<li>
<p>Disabling Auditing</p>
</li>
<li>
<p>Enabling Auditing, with audit settings written</p>
</li>
<li>
<p>Login, both Success and Failure</p>
</li>
<li>
<p>Logout, both Success and Failure</p>
</li>
<li>
<p>Data access operations</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">a. Query Service</th>
<th class="tableblock halign-left valign-top">Event ID</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ALTER INDEX</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28683</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BUILD INDEX</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28684</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CREATE INDEX</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28681</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CREATE PRIMARY INDEX</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28688</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DELETE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28678</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DROP INDEX</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28682</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EXPLAIN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28673</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GRANT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28685</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INFER</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28675</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INSERT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28676</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MERGE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28680</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PREPARE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28674</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REVOKE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28686</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SELECT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28672</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UNRECOGNIZED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28687</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UPDATE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28679</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UPSERT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28677</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">b. API Request</th>
<th class="tableblock halign-left valign-top">Event ID</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/active_requests</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28692</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/clusters</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28701</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/completed_requests</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28702</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/config</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28698</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/indexes/active_requests</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28694</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/indexes/completed_requests</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28702</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/indexes/prepareds</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28693</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/ping</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28697</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/prepareds</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28691</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/settings</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28700</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/ssl_cert</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28699</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/stats</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28689</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/vitals</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">28690</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Audit-Archive</p>
</li>
<li>
<p>System-Backup</p>
</li>
<li>
<p>Data service</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Read</p>
</li>
<li>
<p>Write</p>
</li>
<li>
<p>DCP-Read</p>
</li>
<li>
<p>DCP-Write</p>
</li>
</ol>
</div>
</li>
<li>
<p>FTS Service</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>FTS-Read</p>
</li>
</ol>
</div>
</li>
<li>
<p>Analytics audit events</p>
<div class="paragraph">
<p>Items that will not be captured in the audit logs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>API calls that are not statements</p>
</li>
<li>
<p>API requests sent to URLs the query engine does not service</p>
</li>
<li>
<p>API requests which are handled by the autonomic functionality of the HTTP server</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section_cmd_lyh_wcb"><a class="anchor" href="#section_cmd_lyh_wcb"></a>API Auditing Codes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Audit records will be issued by the query engine for requests to its secondary APIs.
This does not include the main URL used for queries (/query/service) but does include all other URLs the query engine listens to.</p>
</div>
<div class="paragraph">
<p>There will be a separate audit record code for each registered URL.
The mapping from URLs to audit record codes is given below.
Some URLs require extra fields, as noted.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 40%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Audit Code</th>
<th class="tableblock halign-left valign-top">API</th>
<th class="tableblock halign-left valign-top">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">28689</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/stats</code></p>
<p class="tableblock"><code>/admin/stats/{stat}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field "stat": optional, string, for input parameter {stat} if present.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">28690</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/vitals</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">28691</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/prepareds</code></p>
<p class="tableblock"><code>/admin/prepareds/{name}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field "name": optional, string, for input parameter {name} if present.</p>
<p class="tableblock">Do not audit POST requests.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">28692</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/active_requests</code></p>
<p class="tableblock"><code>/admin/active_requests/{request}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field "request": optional, string, for input parameter {request} if present.</p>
<p class="tableblock">Do not audit POST requests.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">28693</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/indexes/prepareds</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">28694</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/indexes/active_requests</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">28695</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/indexes/completed_requests</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">28696</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/debug/vars</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">28697</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/ping</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">28698</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/config</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">28699</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/ssl_cert</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">28700</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/settings</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">28701</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/clusters</code></p>
<p class="tableblock"><code>/admin/clusters/{cluster}</code></p>
<p class="tableblock"><code>/admin/clusters/{cluster}/nodes</code></p>
<p class="tableblock"><code>/admin/clusters/{cluster}/nodes/{node}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field "cluster": optional, string, for input parameter {cluster} if present.</p>
<p class="tableblock">Field "node": optional, string, for input parameter {node} if present.</p>
<p class="tableblock">Field "body": PUT/POST only, JSON representation of cluster or node from request body.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">28702</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/admin/completed_requests</code></p>
<p class="tableblock"><code>/admin/completed_requests/{request}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field "request": optional, string, for input parameter {request} if present.</p>
<p class="tableblock">Do not audit POST requests.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../../_/js/site.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
</body>
</html>
