<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>Upgrade-Procedure Selection | Couchbase Docs</title>
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="Multiple procedures are available for the upgrade of Couchbase Server. An appropriate procedure should be selected, based on a variety of factors.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/install/upgrade-procedure-selection.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/install/pages/upgrade-procedure-selection.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb">Install &amp; Upgrade</li>
<li class="crumb"><a href="upgrade.html">Upgrade</a></li>
<li class="crumb"><a href="upgrade-procedure-selection.html">Upgrade-Procedure Selection</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Upgrade-Procedure Selection</h1>
<div class="labels">
<ul></ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
Multiple procedures are available for the upgrade of Couchbase Server. An appropriate procedure should be selected, based on a variety of factors.
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="understanding-upgrade-procedure-selection"><a class="anchor" href="#understanding-upgrade-procedure-selection"></a>Understanding Upgrade-Procedure Selection</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Several different procedures are available for the upgrade of a Couchbase-Server cluster.
All should be fully evaluated before any is selected.</p>
</div>
<div class="paragraph">
<p>Selection of an appropriate procedure involves determining whether the cluster will be <em>online</em> or <em>offline</em>, during the cluster-upgrade process: to be <em>online</em> meaning to continue serving data.
If the cluster is to remain online, procedure-selection also depends on whether the cluster will serve data at <em>full</em> or <em>reduced</em> capacity, during the cluster-upgrade process.</p>
</div>
<div class="paragraph">
<p>This page describes the context for and provides a summary of each procedure.
Step-by-step directions are provided on subsequent pages.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="upgrade-and-availability"><a class="anchor" href="#upgrade-and-availability"></a>Upgrade and Availability</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Upgrade of Couchbase Server occurs node by node.
When every node has been upgraded to the latest version of Couchbase Server, the whole cluster is considered upgraded.</p>
</div>
<div class="paragraph">
<p>To be upgraded, each node must be <em>offline</em>: this means that although it is still <em>up</em> and <em>network-accessible</em>, it is <em>not</em> part of a cluster that is serving data.
Therefore, to upgrade all the nodes in the cluster, one of the following approaches must be selected:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All the nodes of the cluster are taken offline together; and consequently, the cluster stops serving data.
Each of the nodes is upgraded.
When undergoing upgrade, each node is recognized as non-communicative by the other nodes; but is recognized as communicative again when its upgrade is complete.
When all nodes have been individually upgraded, the cluster is brought back online, and the serving of data is resumed.
Note that no rebalance is required, since data has remained unmodified during the upgrade.</p>
<div class="paragraph">
<p>This approach to cluster-upgrade (referred to as <em>cluster offline</em>) offers the greater simplicity.
However, it necessitates cluster-downtime.</p>
</div>
</li>
<li>
<p>Each node in turn is taken offline; is upgraded; and is re-introduced into the cluster &#8212; by means of either <em>adding</em> or <em>joining</em>, as described in <a href="../learn/clusters-and-availability/nodes.html#clusters" class="xref page">Clusters</a>.
This means that while any given node is offline, all other nodes remain online.</p>
<div class="paragraph">
<p>This process (referred to as <em>cluster online</em>) is more complex, but allows the cluster to continue serving data without interruption.
A potential drawback is the overhead in repeatedly taking nodes out of the cluster, and then duly re-introducing them: given that a full <a href="../learn/clusters-and-availability/rebalance.html" class="xref page">Rebalance</a>, each time it is performed, is likely to be highly consumptive of cluster-resources.
Overhead can be minimized, however, by means of either <a href="#swap-rebalance">Swap Rebalance</a> or <a href="#using-graceful-failover">Graceful Failover</a>.</p>
</div>
<div class="paragraph">
<p>Another potential drawback is the need to serve data at a reduced capacity while each individual node is being upgraded.
If such reduced capacity is unacceptable, <em>spare nodes</em> must be used, to ensure that capacity is maintained.
This is described in <a href="#using-spare-nodes">Using Spare Nodes</a>, below.</p>
</div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="swap-rebalance"><a class="anchor" href="#swap-rebalance"></a>Swap Rebalance</h3>
<div class="paragraph">
<p><em>Swap Rebalance</em> is automatically performed by Couchbase Server when all the following conditions apply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>One or more nodes have been introduced into the cluster.</p>
</li>
<li>
<p>One or more nodes have been taken out of the cluster.</p>
</li>
<li>
<p>The introduced nodes are identical in number and configuration to the nodes that have been taken out.</p>
</li>
<li>
<p>Rebalance is triggered by the administrator.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Since the introduced nodes are recognized by Couchbase Server to have equivalent capacities and configurations to those that have been taken out, rebalance is performed as a <em>swap rebalance</em>; which largely confines its activity to the incoming and outgoing nodes.
Thus, for example, if one Data Service node is removed and another added, the swap rebalance ensures that the vBucket layout of the outgoing node is created identically on the incoming node; with the layouts of other Data Service nodes not requiring modification.</p>
</div>
<div class="paragraph">
<p>By contrast, if two Data Service nodes are taken out, and one Data Service node and one Search Service node are introduced, since the incoming and outgoing nodes differ in configuration, when rebalance is triggered by the administrator, Couchbase Server performs a <em>full</em> rebalance; involving more nodes than those in transit; and indeed, potentially involving the entire cluster.</p>
</div>
<div class="paragraph">
<p>Note that the effect of rebalance on different Couchbase Services is described in <a href="../learn/clusters-and-availability/rebalance.html" class="xref page">Rebalance</a>: familiarity with this information is required before proceeding.</p>
</div>
<div class="paragraph">
<p>Note also that swap rebalance performed with outgoing and incoming Data-Service nodes <em>does</em> involve data-copying from other Data-Service nodes on the cluster.
This is because replica vBuckets are created by means of <em>streaming</em> from their corresponding active vBuckets: streaming <em>cannot</em> proceed from a replica vBucket.
Consequently, whereas the active vBuckets for an incoming node can be streamed from the corresponding active vBuckets on the outgoing node; the replica vBuckets for an incoming node must be streamed from the corresponding active vBuckets elsewhere on the cluster.</p>
</div>
<div class="sect3">
<h4 id="using-spare-nodes"><a class="anchor" href="#using-spare-nodes"></a>Using Spare Nodes</h4>
<div class="paragraph">
<p>Since swap rebalance requires the introduction and removal of nodes that are identical in number and configuration, <em>spare</em> nodes must be used.
A <em>spare</em> node is a node that is not, prior to the commencement of cluster-upgrade, a member of the cluster.</p>
</div>
<div class="paragraph">
<p>For example, if the upgrade procedure is intended to upgrade one node at a time, a spare node must be introduced into the cluster in order to allow one of the existing nodes to be removed: swap rebalance is thereby confined to those two nodes; and when it is complete, the introduced spare node takes over the role of the node to be upgraded.
When the upgraded node is added (or joined) back into the cluster, the spare node is in turn removed, and swap rebalance again occurs for those two nodes; this time copying vBuckets and/or other forms of data back onto the original node.</p>
</div>
<div class="paragraph">
<p>If additional machines are indeed available to be used as <em>spare nodes</em>, these will allow the cluster to continue to serve data at full capacity.
This is described below, in <a href="#cluster-online-swap-rebalance-at-full-capacity">Cluster Online: Swap Rebalance at Full Capacity</a>.</p>
</div>
<div class="paragraph">
<p>If no additional machines are available to be used as <em>spare nodes</em>, it must be determined whether acceptable cluster-performance can be maintained with one or more nodes absent from the cluster for the duration of the upgrade.
If acceptable performance can indeed be maintained under such conditions, the appropriate number of nodes should be removed from the cluster, and a full rebalance performed.
From this point, the diminished cluster continues to serve data at lower but acceptable performance-levels; while the removed nodes are used as spares throughout the upgrade.
This is described below, in <a href="#cluster-online-swap-rebalance-with-capacity-reduced">Cluster Online: Swap Rebalance with Capacity Reduced</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="using-graceful-failover"><a class="anchor" href="#using-graceful-failover"></a>Using Graceful Failover</h4>
<div class="paragraph">
<p>If it is possible to remove one or more Data Service nodes from the cluster, and run the cluster at reduced capacity for the duration of the upgrade procedure, <a href="../manage/manage-nodes/failover-graceful.html" class="xref page">Graceful Failover</a> can be used to bring individual Data Service nodes out of the cluster, and so allow them to be upgraded.
The Graceful Failover procedure ensures that all the cluster&#8217;s active vBuckets continue to be available, on the remaining Data Service nodes, after the node to be upgraded has been failed over.
Subsequently, the upgraded node is restored to the cluster using <a href="../learn/clusters-and-availability/recovery.html#delta-recovery" class="xref page">Delta Recovery</a>.</p>
</div>
<div class="paragraph">
<p>The main advantages of Graceful Failover and Delta Recovery in this context are simpler management and a lower consumption of cluster-resources: since to upgrade a node, no <em>spare</em> node is required, and no copying of data across nodes (such as is performed by rebalance) need occur.
The main constraint of this option is that it can <em>only</em> be used for nodes running the Data Service alone.</p>
</div>
<div class="paragraph">
<p>Further considerations are provided in <a href="../learn/clusters-and-availability/graceful-failover.html#advantages-and-disadvantages" class="xref page">Advantages and Disadvantages</a>.
(Note also that this option is not available when choosing to upgrade with <em>net-new</em> systems &#8212; as in many Cloud-based deployments; since the new Data Service nodes do not have previous nodes’ data in place.)</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summaries-of-upgrade-procedures"><a class="anchor" href="#summaries-of-upgrade-procedures"></a>Summaries of Upgrade Procedures</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In accordance with the dependency-definitions provided above, in <a href="#upgrade-and-availability">Upgrade and Availability</a>, this section summarizes the individual, recommended procedures for upgrading a Couchbase-Server cluster.
All clusters are assumed to be <em>multi-node</em> clusters, except in the final section, <a href="#upgrade-for-single-node-clusters">Upgrade for Single-Node Clusters</a>.</p>
</div>
<div class="sect2">
<h3 id="online-upgrade"><a class="anchor" href="#online-upgrade"></a>Upgrade with Cluster Online</h3>
<div class="paragraph">
<p>For a multi-node cluster, an <em>online upgrade</em> means that the cluster continues to serve data while its nodes are progressively upgraded.
Online upgrade can be performed in either of the following ways.</p>
</div>
<div class="sect3">
<h4 id="cluster-online-swap-rebalance-at-full-capacity"><a class="anchor" href="#cluster-online-swap-rebalance-at-full-capacity"></a>Cluster Online: Swap Rebalance at Full Capacity</h4>
<div class="paragraph">
<p>One or more spare nodes, which exist in addition to those committed to the cluster, are prepared for addition to the cluster.
When these nodes are added to the cluster, the same number are removed.
Addition occurs by means of either <em>joining</em> or <em>adding</em>, as described in <a href="#learn:clusters-and-availability/nodes.html#clusters" class="xref unresolved">Clusters</a>.
Note that the configuration of the added nodes must match that of the removed nodes.
When rebalance is triggered by the administrator, Couchbase Server performs a <em>swap rebalance</em>.</p>
</div>
<div class="paragraph">
<p>Removed nodes are kept <em>up</em> and <em>network-accessible</em>: and in this state, are upgraded to the latest version of Couchbase Server.
Then, following the upgrade procedure, the upgraded nodes are re-introduced into the cluster; and are given configurations that match the configurations of the spare nodes; and the spare nodes are themselves now removed.
Finally, a further <a href="../learn/clusters-and-availability/rebalance.html" class="xref page">Rebalance</a> is performed, and the upgraded nodes become full members of the cluster.</p>
</div>
<div class="paragraph">
<p>Once all nodes have been processed in this way, the entire cluster has been upgraded.</p>
</div>
<div class="paragraph">
<p>Note that optionally, individual nodes running only the Data Service may be upgraded by means of Graceful Failover, rather than swap rebalance; provided that the cluster can continue to serve data with acceptable performance while one or more such nodes are temporarily absent.</p>
</div>
<div class="paragraph">
<p>Certain features of Couchbase Server may not be available while the upgrade of an online cluster is in progress; since the cluster is during this period running two different versions of Couchbase Server, and the features of the later version are not available to nodes still running the earlier.
For details, see <a href="upgrade-feature-availability.html" class="xref page">Feature Availability During Upgrade</a>.</p>
</div>
<div class="paragraph">
<p>The step-by-step procedure is provided in <a href="upgrade-cluster-online-full-capacity.html" class="xref page">Upgrade a Full-Capacity, Online Cluster</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="cluster-online-swap-rebalance-with-capacity-reduced"><a class="anchor" href="#cluster-online-swap-rebalance-with-capacity-reduced"></a>Cluster Online: Swap Rebalance with Capacity Reduced</h4>
<div class="paragraph">
<p>An assessment is made of how many nodes can be removed from the cluster while maintaining acceptable data-serving performance.
A number of nodes no greater than the ascertained number is then removed, and a rebalance performed.
The diminished cluster continues to serve data.</p>
</div>
<div class="paragraph">
<p>Upgrade now commences.
One or more nodes are added to the cluster, and the same number are removed.
The added nodes are configured such that when rebalance is triggered by the administrator, Couchbase Server performs a <em>swap rebalance</em>.
Removed nodes are kept <em>up</em> and <em>network-accessible</em>: and in this state, are upgraded to the latest version of Couchbase Server.
Then, following the upgrade procedure, the upgraded nodes are re-introduced into the cluster: each can either be <em>joined</em> or <em>added</em>, as described in <a href="../learn/clusters-and-availability/nodes.html#clusters" class="xref page">Clusters</a>.
The configuration of added nodes must match that of the spare nodes that are now removed.
Finally, a further <a href="../learn/clusters-and-availability/rebalance.html" class="xref page">Rebalance</a> is performed, and the upgraded nodes become full members of the cluster.</p>
</div>
<div class="paragraph">
<p>Once all nodes have been processed in this way, the entire cluster has been upgraded.</p>
</div>
<div class="paragraph">
<p>Note that optionally, individual nodes running only the Data Service may be upgraded by means of Graceful Failover, rather than swap rebalance; provided that the cluster can continue to serve data with acceptable performance while one or more such nodes are temporarily absent from the already reduced cluster.</p>
</div>
<div class="paragraph">
<p>Certain features of Couchbase Server may not be available while the upgrade of an online cluster is in progress; since the cluster is during this period running two different versions of Couchbase Server, and the features of the later version are not available to nodes still running the earlier.
For details, see <a href="upgrade-feature-availability.html" class="xref page">Feature Availability During Upgrade</a>.</p>
</div>
<div class="paragraph">
<p>The step-by-step procedure is provided in <a href="upgrade-cluster-online-reduced-capacity.html" class="xref page">Upgrade a Reduced-Capacity, Online Cluster</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="offline-upgrade"><a class="anchor" href="#offline-upgrade"></a>Upgrade with Cluster Offline</h3>
<div class="paragraph">
<p>When an entire multi-node cluster is <em>offline</em>, it is not accessible to applications, and therefore serves no data.
A maintenance window must therefore be formally established prior to offline upgrade commencing.</p>
</div>
<div class="paragraph">
<p>During offline upgrade, even though the cluster serves no data, it continues to function as a cluster: individual nodes continue to be <em>up</em> and <em>network-accessible</em>; and continue to be recognized by their peers and by the <a href="../learn/clusters-and-availability/cluster-manager.html" class="xref page">Cluster Manager</a> as cluster-members.</p>
</div>
<div class="paragraph">
<p>Before the upgrade of any node is performed, <a href="../learn/clusters-and-availability/automatic-failover.html" class="xref page">Automatic Failover</a> should be <em>disabled</em>; and should be <em>re-enabled</em> only when the entire cluster-upgrade is complete.
Each individual node, while undergoing upgrade, is recognized as unavailable by the other nodes; but is recognized as available again when its upgrade is complete.
No rebalance is required at any stage, since no data is modified during the cluster-upgrade process.</p>
</div>
<div class="paragraph">
<p>Each node in turn should be failed over, upgraded, and then, by the restarting of Couchbase Server, restored to the cluster.
When all nodes have been restored, the cluster can then brought back online, so that the serving of data can resume.</p>
</div>
<div class="paragraph">
<p>The step-by-step procedure is provided in <a href="upgrade-cluster-offline.html" class="xref page">Upgrade an Offline Cluster</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="upgrade-for-single-node-clusters"><a class="anchor" href="#upgrade-for-single-node-clusters"></a>Upgrade for Single-Node Clusters</h3>
<div class="paragraph">
<p><em>Single-node clusters</em> are unsupported, but are frequently used for development.
To upgrade such systems, see the information provided in <a href="upgrade-procedures.html#upgrading-developer-clusters" class="xref page">Upgrading Developer Clusters</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="upgrade-for-cloud-based-deployments"><a class="anchor" href="#upgrade-for-cloud-based-deployments"></a>Upgrade for Cloud-Based Deployments</h3>
<div class="paragraph">
<p>For Couchbase-Server deployments using AWS EC2, GCE, or Azure, the recommended upgrade procedure is that provided in <a href="upgrade-cluster-online-full-capacity.html" class="xref page">Upgrade a Full-Capacity, Online Cluster</a>.</p>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
