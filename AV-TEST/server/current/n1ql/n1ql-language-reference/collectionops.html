<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>Collection Operators | Couchbase Docs</title>
<link rel="stylesheet" href="../../../../_/css/site.css">
<script src="../../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="Collection operators enable you to evaluate expressions over every element in an array.">
<meta name="keywords" content="range condition, quantified expression">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/n1ql/n1ql-language-reference/collectionops.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="2">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/pages/n1ql-language-reference/collectionops.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb"><a href="../query.html">Query</a></li>
<li class="crumb"><a href="index.html">SQL++ Language Reference</a></li>
<li class="crumb"><a href="operators.html">Operators</a></li>
<li class="crumb"><a href="collectionops.html">Collection Operators</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Collection Operators</h1>
<div class="labels">
<ul><li class="reference"><span><i class="fas fa-book"></i></i> reference</span></li>
</ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Collection operators enable you to evaluate expressions over every element in an array.
The operators include <a href="#range-cond">Range Predicates</a>, <a href="#range-xform">Range Transformations</a>, and <a href="#membership-and-existence-tests">Membership and Existence Tests</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Although collection operators can be used with any array, they are particularly useful when used to evaluate expressions over an array of objects.
The term <em>collection</em> is used here in a generic sense to refer to any array of objects, rather than in the specific sense of a <a href="../../learn/data/scopes-and-collections.html" class="xref page">Couchbase collection</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="range-cond"><a class="anchor" href="#range-cond"></a>Range Predicates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Range predicates (<a href="#collection-op-any">ANY</a>, <a href="#collection-op-every">EVERY</a>, or <a href="#any-and-every">ANY AND EVERY</a>) enable you to test a Boolean condition over elements in an array.
They use the <code>IN</code> and <code>WITHIN</code> operators to range through the array.</p>
</div>
<div class="paragraph">
<p>

Range predicates may also be known as <em>range conditions</em> or <em>quantified expressions</em>.</p>
</div>
<h4 id="syntax" class="discrete">Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/n1ql.ebnf#L206-L207">range-cond ::= ( ( 'ANY' | 'SOME' ) ( 'AND' 'EVERY' )? | 'EVERY' )
               range 'SATISFIES' cond 'END'</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/range-cond.png" alt="Syntax diagram">
</div>
</div>
<div id="range-cond-binding" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/n1ql.ebnf#L216-L217">range ::= ( name-var ':' )? var ( 'IN' | 'WITHIN' ) expr
    ( ',' ( name-var ':' )? var ( 'IN' | 'WITHIN' ) expr )*</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/range.png" alt="Syntax diagram">
</div>
</div>
<h4 id="arguments" class="discrete">Arguments</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">name-var</dt>
<dd>
<p>[Optional] An <a href="identifiers.html" class="xref page">identifier</a> that represents the position of a single element in an array, counting from 0.</p>
</dd>
<dt class="hdlist1">var</dt>
<dd>
<p>An <a href="identifiers.html" class="xref page">identifier</a> that represents a single element in an array.</p>
</dd>
<dt class="hdlist1">expr</dt>
<dd>
<p>An <a href="index.html#N1QL_Expressions" class="xref page">expression</a> that returns an array to evaluate.</p>
</dd>
<dt class="hdlist1">cond</dt>
<dd>
<p>A condition to evaluate for each specified element.
This condition may make use of the <code>var</code> and <code>name-var</code> identifiers as required.</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="collection-op-any"><a class="anchor" href="#collection-op-any"></a>ANY</h3>
<div class="paragraph">
<p><code>ANY</code> tests whether any element in an array matches a specified condition.
(If the array is empty, then no element in the array is deemed to match the condition.)</p>
</div>
<div class="paragraph">
<p>Synonym: <code>SOME</code> is a synonym for <code>ANY</code>.</p>
</div>
<div class="sect3">
<h4 id="return-values"><a class="anchor" href="#return-values"></a>Return Values</h4>
<div class="paragraph">
<p>If the array is non-empty and at least one element in the array matches the specified condition, then the operator returns <code>TRUE</code>; otherwise, it returns <code>FALSE</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples"><a class="anchor" href="#examples"></a>Examples</h4>
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/collectionops.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div id="AnyExA" class="exampleblock">
<div class="title">Example 1. ANY with one matching element</div>
<div class="content">
<div class="paragraph">
<p>Retrieve the details of KL flight schedules from Albuquerque (ABQ) to Atlanta (ATL) if any of the flights are after 23:40.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM route
WHERE airline="KL" AND sourceairport="ABQ"
  AND destinationairport="ATL"
  AND ANY departure IN schedule SATISFIES departure.utc &gt; "23:40" END;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since the last flight departs at 23:41, this query results in the entire array.</p>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "travel-sample": {
      "airline": "KL",
      "airlineid": "airline_3090",
      "destinationairport": "ATL",
      "distance": 2038.3535078909663,
      "equipment": "757 320",
      "id": 36159,
      "schedule": [
        {
          "day": 0,
          "flight": "KL938",
          "utc": "03:54:00"
        },
// ...
        {
          "day": 5,
          "flight": "KL169",
          "utc": "23:41:00"
        },
// ...
        {
          "day": 6,
          "flight": "KL636",
          "utc": "17:40:00"
        }
      ],
      "sourceairport": "ABQ",
      "stops": 0,
      "type": "route"
    }
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="AnyExB" class="exampleblock">
<div class="title">Example 2. ANY with no matching elements</div>
<div class="content">
<div class="paragraph">
<p>But if you change the <code>SATISFIES</code> clause to 1 minute after the last flight (23:42), then the resulting array is empty.</p>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[]</code></pre>
</div>
</div>
</div>
</div>
<div id="AnyExC" class="exampleblock">
<div class="title">Example 3. ANY with empty array</div>
<div class="content">
<div class="paragraph">
<p>This example tests the ANY operator with an empty array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT ANY v IN [] SATISFIES v = "abc" END AS existential;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, the operator returns <code>false</code>.</p>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "existential": false
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="collection-op-every"><a class="anchor" href="#collection-op-every"></a>EVERY</h3>
<div class="paragraph">
<p><code>EVERY</code> tests whether every element in an array matches a specified condition.
(If the array is empty, then every element in the array is deemed to match the condition.)</p>
</div>
<div class="sect3">
<h4 id="return-values-2"><a class="anchor" href="#return-values-2"></a>Return Values</h4>
<div class="paragraph">
<p>If the array is empty, or if the array is non-empty and every element in the array matches the specified condition, then the operator returns <code>TRUE</code>; otherwise, it returns <code>FALSE</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples-2"><a class="anchor" href="#examples-2"></a>Examples</h4>
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/collectionops.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div id="EveryExA" class="exampleblock">
<div class="title">Example 4. EVERY with all matching elements</div>
<div class="content">
<div class="paragraph">
<p>Retrieve the details of KL flight schedules from Albuquerque (ABQ) to Atlanta (ATL) if all of the flights are after 00:35.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM route
WHERE airline="KL"
  AND sourceairport="ABQ"
  AND destinationairport="ATL"
  AND EVERY departure IN schedule SATISFIES departure.utc &gt; "00:35" END;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since the earliest flight departs at 00:36, this query results in the entire array.</p>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "travel-sample": {
      "airline": "KL",
      "airlineid": "airline_3090",
      "destinationairport": "ATL",
      "distance": 2038.3535078909663,
      "equipment": "757 320",
      "id": 36159,
      "schedule": [
// ...
        {
          "day": 6,
          "flight": "KL884",
          "utc": "00:36:00"
        },
// ...
        {
          "day": 6,
          "flight": "KL636",
          "utc": "17:40:00"
        }
      ],
      "sourceairport": "ABQ",
      "stops": 0,
      "type": "route"
    }
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="EveryExB" class="exampleblock">
<div class="title">Example 5. EVERY with no matching elements</div>
<div class="content">
<div class="paragraph">
<p>But if you change the <code>SATISFIES</code> clause to 1 minute after the first flight (00:37), then the resulting array is empty.</p>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[]</code></pre>
</div>
</div>
</div>
</div>
<div id="EveryExC" class="exampleblock">
<div class="title">Example 6. EVERY with empty array</div>
<div class="content">
<div class="paragraph">
<p>This example tests the EVERY operator with an empty array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT EVERY v IN [] SATISFIES v = "abc" END AS universal;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, the operator returns <code>true</code>.</p>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "universal": true
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="any-and-every"><a class="anchor" href="#any-and-every"></a>ANY AND EVERY</h3>
<div class="paragraph">
<p><code>ANY AND EVERY</code> tests whether every element in an array matches a specified condition.
(If the array is empty, then no element in the array is deemed to match the condition.)</p>
</div>
<div class="paragraph">
<p>Synonym: <code>SOME AND EVERY</code> is a synonym for <code>ANY AND EVERY</code>.</p>
</div>
<div class="sect3">
<h4 id="return-values-3"><a class="anchor" href="#return-values-3"></a>Return Values</h4>
<div class="paragraph">
<p>If the array is non-empty and every element in the array matches the specified condition, then the operator returns <code>TRUE</code>; otherwise, it returns <code>FALSE</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples-3"><a class="anchor" href="#examples-3"></a>Examples</h4>
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/collectionops.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div id="AnyAndEveryEx" class="exampleblock">
<div class="title">Example 7. ANY AND EVERY with empty array</div>
<div class="content">
<div class="paragraph">
<p>This example tests the ANY AND EVERY operator with an empty array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT ANY AND EVERY v IN [] SATISFIES v = "abc" END AS universal;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, the operator returns <code>false</code>.</p>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "universal": false
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="range-xform"><a class="anchor" href="#range-xform"></a>Range Transformations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Range transformations (<a href="#array">ARRAY</a>, <a href="#first">FIRST</a>, and <a href="#object">OBJECT</a>) enable you to map and filter elements and attributes from an input array.
They use the <code>IN</code> and <code>WITHIN</code> operators to range through the array.</p>
</div>
<h4 id="syntax-2" class="discrete">Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/n1ql.ebnf#L211-L212">range-xform ::= ( ( 'ARRAY' | 'FIRST' ) | 'OBJECT' name-expr ':' ) var-expr
                'FOR' range ( 'WHEN' cond )? 'END'</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/range-xform.png" alt="Syntax diagram">
</div>
</div>
<div id="range-xform-binding" class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/n1ql.ebnf#L216-L217">range ::= ( name-var ':' )? var ( 'IN' | 'WITHIN' ) expr
    ( ',' ( name-var ':' )? var ( 'IN' | 'WITHIN' ) expr )*</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/range.png" alt="Syntax diagram">
</div>
</div>
<h4 id="arguments-2" class="discrete">Arguments</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">name-expr</dt>
<dd>
<p>[<code>OBJECT</code> only] An <a href="index.html#N1QL_Expressions" class="xref page">expression</a> that resolves to a string, to use as the name of an attribute in the output.
This expression may make use of the <code>var</code> and <code>name-var</code> identifiers as required.</p>
</dd>
<dt class="hdlist1">var-expr</dt>
<dd>
<p>An <a href="index.html#N1QL_Expressions" class="xref page">expression</a> that returns a value to include in the output.
This expression may make use of the <code>var</code> and <code>name-var</code> identifiers as required.</p>
</dd>
<dt class="hdlist1">name-var</dt>
<dd>
<p>[Optional] An <a href="identifiers.html" class="xref page">identifier</a> that represents the position of a single element in an array, counting from 0.</p>
</dd>
<dt class="hdlist1">var</dt>
<dd>
<p>An <a href="identifiers.html" class="xref page">identifier</a> that represents a single element in an array.</p>
</dd>
<dt class="hdlist1">expr</dt>
<dd>
<p>An <a href="index.html#N1QL_Expressions" class="xref page">expression</a> that returns an array to evaluate.</p>
</dd>
<dt class="hdlist1">cond</dt>
<dd>
<p>[Optional] A condition to evaluate for each specified element.
This condition may make use of the <code>var</code> and <code>name-var</code> identifiers as required.</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="array"><a class="anchor" href="#array"></a>ARRAY</h3>
<div class="paragraph">
<p>The <code>ARRAY</code> operator generates a new array, using values in the input array.</p>
</div>
<div class="sect3">
<h4 id="return-values-4"><a class="anchor" href="#return-values-4"></a>Return Values</h4>
<div class="paragraph">
<p>The operator returns a new array, which contains one element for each element in the input array.
If the <code>WHEN</code> clause is specified, only elements in the input array which satisfy the <code>WHEN</code> clause are considered.</p>
</div>
<div class="paragraph">
<p>The value of each element in the output array is the output of the <code>var-expr</code> argument for one element in the input array.</p>
</div>
<div class="paragraph">
<p>If the input array is empty, or no elements in the input array satisfy the <code>WHEN</code> clause, the operator returns an empty array.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples-4"><a class="anchor" href="#examples-4"></a>Examples</h4>
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/collectionops.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div id="ArrayEx1a" class="exampleblock">
<div class="title">Example 8. ARRAY with array of objects</div>
<div class="content">
<div class="paragraph">
<p>List the details of KL flights from Albuquerque to Atlanta on Fridays.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT ARRAY v FOR v IN schedule WHEN v.day = 5 END AS fri_flights
FROM route
WHERE airline="KL"
  AND sourceairport="ABQ"
  AND destinationairport="ATL";</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "fri_flights": [
      {
        "day": 5,
        "flight": "KL347",
        "utc": "08:51:00"
      },
      {
        "day": 5,
        "flight": "KL281",
        "utc": "06:26:00"
      },
      {
        "day": 5,
        "flight": "KL567",
        "utc": "03:54:00"
      },
      {
        "day": 5,
        "flight": "KL169",
        "utc": "23:41:00"
      }
    ]
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Compare this with the results of <a href="#FirstEx">Example 11</a> and <a href="#ObjectExA">Example 12</a>.</p>
</div>
</div>
</div>
<div id="ArrayEx1b" class="exampleblock">
<div class="title">Example 9. ARRAY with multiple range terms</div>
<div class="content">
<div class="paragraph">
<p>List the details of KL flights from Albuquerque to Atlanta on Fridays after 7pm only.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT ARRAY v
  FOR v IN schedule, w IN schedule WHEN v.utc &gt; "19:00" AND w.day = 5 END
  AS fri_evening_flights
FROM route
WHERE airline="KL"
  AND sourceairport="ABQ"
  AND destinationairport="ATL";</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "fri_evening_flights": [
      {
        "day": 5,
        "flight": "KL169",
        "utc": "23:41:00"
      }
    ]
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The same results can be reached by writing the query as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT ARRAY v
  FOR v IN schedule WHEN v.utc &gt; "19:00" AND v.day = 5 END
  AS fri_evening_flights
FROM route
WHERE airline="KL"
  AND sourceairport="ABQ"
  AND destinationairport="ATL";</code></pre>
</div>
</div>
</div>
</div>
<div id="ArrayEx0b" class="exampleblock">
<div class="title">Example 10. ARRAY with position variable</div>
<div class="content">
<div class="paragraph">
<p>List the first two KL flights from Albuquerque to Atlanta.
This example uses the position variable <code>i</code> to return just the first two elements in the input array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT ARRAY v FOR i:v IN schedule WHEN i &lt; 2 END AS two_flights
FROM route
WHERE airline="KL"
  AND sourceairport="ABQ"
  AND destinationairport="ATL";</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "two_flights": [
      {
        "day": 0,
        "flight": "KL938",
        "utc": "03:54:00"
      },
      {
        "day": 0,
        "flight": "KL270",
        "utc": "16:57:00"
      }
    ]
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Refer to <a href="#ObjectExB">Example 13</a> for another example with position variables.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="first"><a class="anchor" href="#first"></a>FIRST</h3>
<div class="paragraph">
<p>The <code>FIRST</code> operator generates a new value, using a single value in the input array.</p>
</div>
<div class="sect3">
<h4 id="return-values-5"><a class="anchor" href="#return-values-5"></a>Return Values</h4>
<div class="paragraph">
<p>The operator returns the output of the <code>var-expr</code> argument for the first element in the input array.
If the <code>WHEN</code> clause is specified, only elements in the input array which satisfy the <code>WHEN</code> clause are considered.</p>
</div>
<div class="paragraph">
<p>If the input array is empty, or no elements in the input array satisfy the <code>WHEN</code> clause, the operator returns MISSING.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples-5"><a class="anchor" href="#examples-5"></a>Examples</h4>
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/collectionops.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div id="FirstEx" class="exampleblock">
<div class="title">Example 11. FIRST</div>
<div class="content">
<div class="paragraph">
<p>List the first KL flight from Albuquerque to Atlanta after 7pm.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT FIRST v FOR v IN schedule WHEN v.utc &gt; "19:00" END AS first_flight
FROM route
WHERE airline="KL"
  AND sourceairport="ABQ"
  AND destinationairport="ATL";</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "first_flight": [
      {
        "day": 1,
        "flight": "KL672",
        "utc": "19:19:00"
      }
    ]
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Compare this with the results of <a href="#ArrayEx1a">Example 8</a> and <a href="#ObjectExA">Example 12</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="object"><a class="anchor" href="#object"></a>OBJECT</h3>
<div class="paragraph">
<p>The <code>OBJECT</code> operator generates a new object, using values in the input array.</p>
</div>
<div class="sect3">
<h4 id="return-values-6"><a class="anchor" href="#return-values-6"></a>Return Values</h4>
<div class="paragraph">
<p>The operator returns an object, which contains one attribute for each element in the input array.
If the <code>WHEN</code> clause is specified, only elements in the input array which satisfy the <code>WHEN</code> clause are considered.</p>
</div>
<div class="paragraph">
<p>The value of each attribute in the output object is the output of the <code>var-expr</code> argument for one element in the input array.</p>
</div>
<div class="paragraph">
<p>The name of each attribute in the output object is specified by the <code>name-expr</code> argument.
This argument must be an expression that generates a unique name string for every value in the output object.
If the expression does not generate a string, then the current attribute is not output.
If the expression does not generate a unique name string for each value, then only the last attribute is output; all previous attributes are suppressed.</p>
</div>
<div class="paragraph">
<p>The <code>name-expr</code> argument may reference the <code>var</code> argument or the <code>name-var</code> argument, or use any other expression that generates a unique value.</p>
</div>
<div class="paragraph">
<p>If the input array is empty, or no elements in the input array satisfy the <code>WHEN</code> clause, the operator returns an empty object.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples-6"><a class="anchor" href="#examples-6"></a>Examples</h4>
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/collectionops.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div id="ObjectExA" class="exampleblock">
<div class="title">Example 12. OBJECT with array of objects</div>
<div class="content">
<div class="paragraph">
<p>List the details of KL flights from Albuquerque to Atlanta on Fridays.
This example uses the <a href="metafun.html#uuid" class="xref page">UUID()</a> function to generate a unique name for each attribute in the output object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT OBJECT UUID():v FOR v IN schedule WHEN v.day = 5 END AS fri_flights
FROM route
WHERE airline="KL"
  AND sourceairport="ABQ"
  AND destinationairport="ATL";</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "fri_flights": {
      "14c040c6-2247-442f-bc27-0d7b3ff403b5": {
        "day": 5,
        "flight": "KL169",
        "utc": "23:41:00"
      },
      "645a53d6-53a2-4c0c-9431-75073c48806b": {
        "day": 5,
        "flight": "KL281",
        "utc": "06:26:00"
      },
      "6d93a43f-ecec-4e9d-89bf-2468f2771fa0": {
        "day": 5,
        "flight": "KL567",
        "utc": "03:54:00"
      },
      "f2823bc0-86e0-4a1a-a9d8-4ca496de8193": {
        "day": 5,
        "flight": "KL347",
        "utc": "08:51:00"
      }
    }
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Compare this with the results of <a href="#ArrayEx1a">Example 8</a> and <a href="#FirstEx">Example 11</a>.</p>
</div>
</div>
</div>
<div id="ObjectExB" class="exampleblock">
<div class="title">Example 13. OBJECT with position variable</div>
<div class="content">
<div class="paragraph">
<p>An alternative version of <a href="#ObjectExA">Example 12</a>.
This example uses the <a href="typefun.html#tostring" class="xref page">TOSTRING()</a> function and the position variable <code>i</code> to generate a unique name for each attribute in the output object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT OBJECT "num_" || TOSTRING(i):v
  FOR i:v IN schedule WHEN v.day = 5 END
  AS fri_flights
FROM route
WHERE airline="KL"
  AND sourceairport="ABQ"
  AND destinationairport="ATL";</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice that the position of each element in the input array is calculated <em>before</em> applying the <code>WHEN</code> condition&#8201;&#8212;&#8201;so the Friday flights are numbered from 14 to 17.</p>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "fri_flights": {
      "num_14": {
        "day": 5,
        "flight": "KL347",
        "utc": "08:51:00"
      },
      "num_15": {
        "day": 5,
        "flight": "KL281",
        "utc": "06:26:00"
      },
      "num_16": {
        "day": 5,
        "flight": "KL567",
        "utc": "03:54:00"
      },
      "num_17": {
        "day": 5,
        "flight": "KL169",
        "utc": "23:41:00"
      }
    }
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Refer to <a href="#ArrayEx0b">Example 10</a> for another example with position variables.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="membership-and-existence-tests"><a class="anchor" href="#membership-and-existence-tests"></a>Membership and Existence</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Membership tests (<a href="#collection-op-in">IN</a> and <a href="#collection-op-within">WITHIN</a>) enable you to test whether a value exists within an array.
Membership tests are efficient over arrays with a large number of elements&#8201;&#8212;&#8201;up to approximately 8000.</p>
</div>
<div class="paragraph">
<p>The existence test (<a href="#exists">EXISTS</a>) enables you to test whether an array contains any elements at all.</p>
</div>
<div class="sect2">
<h3 id="collection-op-in"><a class="anchor" href="#collection-op-in"></a>IN</h3>
<div class="paragraph">
<p>The <code>IN</code> operator specifies the search depth to include only the current level of an array, and not to include any child or descendant arrays.</p>
</div>
<div class="sect3">
<h4 id="syntax-3"><a class="anchor" href="#syntax-3"></a>Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/n1ql.ebnf#L198">in-expr ::= search-expr 'NOT'? 'IN' target-expr</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/in-expr.png" alt="Syntax diagram">
</div>
</div>
</div>
<div class="sect3">
<h4 id="arguments-3"><a class="anchor" href="#arguments-3"></a>Arguments</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">earch-expr</dt>
<dd>
<p>An <a href="index.html#N1QL_Expressions" class="xref page">expression</a> that returns the value to search for.</p>
</dd>
<dt class="hdlist1">target-expr</dt>
<dd>
<p>An <a href="index.html#N1QL_Expressions" class="xref page">expression</a> that resolves to the array to search through.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="return-values-7"><a class="anchor" href="#return-values-7"></a>Return Values</h4>
<div class="paragraph">
<p>The <code>IN</code> operator evaluates to <code>TRUE</code> if the right-side value is an array and directly contains the left-side value.</p>
</div>
<div class="paragraph">
<p>The <code>NOT IN</code> operator evaluates to <code>TRUE</code> if the right-side value is an array and does not directly contain the left-side value.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples-7"><a class="anchor" href="#examples-7"></a>Examples</h4>
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/collectionops.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div id="InExA" class="exampleblock">
<div class="title">Example 14. IN with simple array</div>
<div class="content">
<div class="paragraph">
<p>Search for all airlines from the United Kingdom or France.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM airline AS t
WHERE country IN ["United Kingdom", "France"];</code></pre>
</div>
</div>
<div class="paragraph">
<p>This results in 60 documents:</p>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "t": {
      "callsign": "CORSAIR",
      "country": "France",
      "iata": "SS",
      "icao": "CRL",
      "id": 1908,
      "name": "Corsairfly",
      "type": "airline"
    }
  },
// ...
]</code></pre>
</div>
</div>
</div>
</div>
<div id="InExB" class="exampleblock">
<div class="title">Example 15. IN with array of objects</div>
<div class="content">
<div class="paragraph">
<p>Search for the author "Walton Wolf" in the hotel keyspace.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM hotel AS t WHERE "Walton Wolf" IN t;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This results in an empty set because authors are not in the current level (the root level) of the hotel keyspace.</p>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The authors are listed inside the <code>reviews</code> array (a child element) and would need the <code>WITHIN</code> keyword to search all child elements along with the root level.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="collection-op-within"><a class="anchor" href="#collection-op-within"></a>WITHIN</h3>
<div class="paragraph">
<p>The <code>WITHIN</code> operator specifies the search depth to include the current level of an array, and all of its child and descendant arrays.</p>
</div>
<div class="sect3">
<h4 id="syntax-4"><a class="anchor" href="#syntax-4"></a>Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/n1ql.ebnf#L202">within-expr ::= search-expr 'NOT'? 'WITHIN' target-expr</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/within-expr.png" alt="Syntax diagram">
</div>
</div>
</div>
<div class="sect3">
<h4 id="arguments-4"><a class="anchor" href="#arguments-4"></a>Arguments</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">search-expr</dt>
<dd>
<p>An <a href="index.html#N1QL_Expressions" class="xref page">expression</a> that returns the value to search for.</p>
</dd>
<dt class="hdlist1">target-expr</dt>
<dd>
<p>An <a href="index.html#N1QL_Expressions" class="xref page">expression</a> that resolves to the array to search through.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="return-values-8"><a class="anchor" href="#return-values-8"></a>Return Values</h4>
<div class="paragraph">
<p>The <code>WITHIN</code> operator evaluates to <code>TRUE</code> if the right-side value is an array and contains the left-side value as a child or descendant, that is, directly or indirectly.</p>
</div>
<div class="paragraph">
<p>The <code>NOT WITHIN</code> operator evaluates to <code>TRUE</code> if the right-side value is an array and no child or descendant contains the left-side value.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples-8"><a class="anchor" href="#examples-8"></a>Examples</h4>
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/collectionops.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div id="WithinEx" class="exampleblock">
<div class="title">Example 16. WITHIN</div>
<div class="content">
<div class="paragraph">
<p>Search all elements for the author "Walton Wolf" in the hotel documents.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT * FROM hotel AS t WHERE "Walton Wolf" WITHIN t;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This results in 1 document since his name appears inside the <code>reviews</code> array.</p>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "t": {
      "address": "Gilsland, CA8 7DA",
      "alias": null,
      "checkin": null,
      "checkout": null,
      "city": null,
      "country": "United Kingdom",
      "description": "Tantallon House offers accommodation around 10 minutes walk from the National Trail. It also has a holiday cottage.",
      "directions": null,
      "email": null,
      "fax": null,
      "free_breakfast": true,
      "free_internet": true,
      "free_parking": false,
      "geo": {
        "accuracy": "ROOFTOP",
        "lat": 54.99304,
        "lon": -2.58142
      },
      "id": 10851,
      "name": "Tantallon House B&amp;B",
      "pets_ok": true,
      "phone": null,
      "price": "From Â£44 (no cards)",
      "public_likes": [
        "Victor Russel"
      ],
      "reviews": [
        {
          "author": "Walton Wolf",
// ...
        }
      ],
      "state": null,
      "title": "Hadrian's Wall",
      "tollfree": null,
      "type": "hotel",
      "url": "http://www.tantallonhouse.co.uk/",
      "vacancy": false
    }
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="exists"><a class="anchor" href="#exists"></a>EXISTS</h3>
<div class="paragraph">
<p>The <code>EXISTS</code> operator enables you to test whether an array has any elements, or is empty.</p>
</div>
<div class="paragraph">
<p>This operator may be used in a <code>SELECT</code>, <code>INSERT</code>, <code>UPDATE</code>, or <code>DELETE</code> statement in combination with a subquery.
The condition is met if the subquery returns at least one result.</p>
</div>
<div class="sect3">
<h4 id="syntax-5"><a class="anchor" href="#syntax-5"></a>Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/n1ql.ebnf#L194">exists-expr ::= 'EXISTS' expr</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/exists-expr.png" alt="Syntax diagram">
</div>
</div>
</div>
<div class="sect3">
<h4 id="arguments-5"><a class="anchor" href="#arguments-5"></a>Arguments</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">expr</dt>
<dd>
<p>An <a href="index.html#N1QL_Expressions" class="xref page">expression</a> that returns an array.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="return-values-9"><a class="anchor" href="#return-values-9"></a>Return Values</h4>
<div class="paragraph">
<p>If the expression is an array which contains at least one element, the operator evaluates to <code>TRUE</code>; otherwise, it evaluates to <code>FALSE</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples-9"><a class="anchor" href="#examples-9"></a>Examples</h4>
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/collectionops.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div id="ExistsEx" class="exampleblock">
<div class="title">Example 17. EXISTS</div>
<div class="content">
<div class="paragraph">
<p>Of the 274 cities with a hotel, search for all cities that have hotels with reviews.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT DISTINCT h.city
FROM hotel AS h
WHERE EXISTS h.reviews;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This results in 255 cities that contain hotels with reviews.</p>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "city": "Medway"
  },
  {
    "city": "Giverny"
  },
  {
    "city": "Glasgow"
  },
  {
    "city": "Highland"
  },
//...
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="related-links"><a class="anchor" href="#related-links"></a>Related Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to <a href="constructionops.html" class="xref page">Construction Operators</a> for a simpler way to generate arrays and objects from a data source.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>Â© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../../_/js/site.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
</body>
</html>
