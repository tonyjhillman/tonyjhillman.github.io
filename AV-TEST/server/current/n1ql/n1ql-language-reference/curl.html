<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>CURL Function | Couchbase Docs</title>
<link rel="stylesheet" href="../../../../_/css/site.css">
<script src="../../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="The CURL() function implements a subset of cURL functionality and enables SQL++ queries to interact and integrate with external JSON data sources available over HTTP/REST.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/n1ql/n1ql-language-reference/curl.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/pages/n1ql-language-reference/curl.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb"><a href="../query.html">Query</a></li>
<li class="crumb"><a href="index.html">SQL++ Language Reference</a></li>
<li class="crumb"><a href="functions.html">Functions</a></li>
<li class="crumb"><a href="metafun.html">Miscellaneous Utility Functions</a></li>
<li class="crumb"><a href="curl.html">CURL Function</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">CURL Function</h1>
<div class="labels">
<ul><li class="reference"><span><i class="fas fa-book"></i></i> reference</span></li>
</ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The <code>CURL()</code> function implements a subset of <a href="https://en.wikipedia.org/wiki/CURL" target="_blank" rel="noopener">cURL</a> functionality and enables SQL++ queries to interact and integrate with external JSON data sources available over HTTP/REST.
This allows federated queries against external data sources, such as the <a href="https://maps.googleapis.com" target="_blank" rel="noopener">Google geocoding API</a>, <a href="https://developer.yahoo.com/api/" target="_blank" rel="noopener">Yahoo API</a>, or other Couchbase clusters.
The federated queries can leverage full querying capabilities of SQL++, including functions, expressions, sub-queries, JOINs, NESTs, UNNESTs etc.</p>
</div>
<div class="paragraph">
<p>The <code>CURL()</code> function can be used in various SQL++ expressions and in various clauses of the DML statements such as projection, WHERE predicates, FROM data source, and so on.
For example, you can use the CURL function with the INSERT-SELECT statement to import external data into Couchbase Server.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="syntax"><a class="anchor" href="#syntax"></a>Syntax</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>CURL(<em>url</em>, [<em>options</em>])</pre>
</div>
</div>
<div class="sect2">
<h3 id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>url</code></dt>
<dd>
<p>A string representing the URL of the data source.
The URL needs to point to a JSON endpoint and must be either <code>http://</code> or <code>https://</code> only.
No other protocol is supported.
The redirection of URL is not allowed.</p>
</dd>
<dt class="hdlist1"><code>options</code></dt>
<dd>
<p>An optional JSON object representing various supported options.
This includes options and parameters to be sent to the URL source endpoint.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="options"><a class="anchor" href="#options"></a>Options</h3>
<table id="table_security_options" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Security Options</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>user</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server user name and password.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">USERNAME[:PASSWORD]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>basic</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use HTTP Basic Authentication.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>insecure</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allow connections to SSL sites without certificates (H).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>anyauth</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>CURL to figure out authentication method by itself, and use the most secure one.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This supports only basic authentication.
</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cacert</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specify CA signed certificate file name.
Certificates should be stored on the local machine, on each query node within a cluster.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To store certificates, access <em class="path">/Couchbase/var/lib/couchbase/n1qlcerts</em>.
This is not visible to the user.</p>
</li>
<li>
<p>The file name cannot contain a path.</p>
</li>
<li>
<p>If the certificate is not a match to the existing contents of <em class="path">n1qlcerts</em> directory, the function returns an error.</p>
</li>
<li>
<p>All expired and invalid certificates return an error.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FILENAME</p>
<p class="tableblock">For example, this is the certificate <code>.pem</code> file for AWS.</p></td>
</tr>
</tbody>
</table>
<table id="table_transfer_options" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Transfer-related Options</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>get</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Get request for CURL.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BOOLEAN</p>
<p class="tableblock">Example: <code>{"get": true}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>request</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the request method.
This only accepts GET or POST requests.
This is case sensitive.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p>
<p class="tableblock">Example: <code>{"request":"POST"}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connect-timeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum time allowed for connection in seconds.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p>
<p class="tableblock">Example: <code>{"connect-timeout":30}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-time</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The maximum time allowed for the transfer in seconds.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p>
<p class="tableblock">Example: <code>{"max-time":30}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">POST data to be sent to the HTTP/REST service.
The string data should be formatted exactly same as HTTP POST data.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String or [...string, string….]</p>
<p class="tableblock">Example: <code>{"data":"address=Half+Moon+Bay"}</code></p>
<p class="tableblock"><code>{"data":"address=Half+Moon+Bay,california"}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>header</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passes custom header line to the server.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String or [...string, string….]</p>
<p class="tableblock">Example: <code>{"header":"Content-Type: application/json"}</code></p>
<p class="tableblock"><code>{"header":["Content-Type: application/json", "Content-Length: 115"]}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>show-error</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Displays error message.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p>
<p class="tableblock">Example: <code>{"show-error": true}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>silent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The silent mode.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p>
<p class="tableblock">Example: <code>{"silent": false}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>keepalive-time</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of seconds to wait between the <code>keepalive</code> probes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p>
<p class="tableblock">Example: <code>{"keepalive-time":20}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>user-agent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value for the user-agent to send it to the server.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p>
<p class="tableblock">Example: <code>{"header":[ "user-agent: bsmith","Content-Type: application/json"]}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data-urlencode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Encode the data and send it to the server.</p>
<p class="tableblock">This is a test =&gt; this%20is%20a%20test</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String or [...string, string….]</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="return-value"><a class="anchor" href="#return-value"></a>Return Value</h3>
<div class="paragraph">
<p>The CURL() function returns either a single JSON object, or multiple objects in an array.
These objects are returned by the HTTP/REST service at the URL.
Note that the result is expected to be JSON, and the function itself doesn&#8217;t do any additional processing.
However, if the query parameter <code>pretty=true</code>, then the data received is in pretty format.
If the returned data from the URL is not a well defined JSON, it may result in errors or undefined behavior.
The errors returned by CURL (such as moved permanently) can be in different formats, like HTML, XML, plain strings, and can be a large blob.
The SQL++ function returns a "Not a JSON endpoint" error when it returns any other format other than JSON.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="security"><a class="anchor" href="#security"></a>Security</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is important to understand the potential security implications in using the <code>CURL()</code> function.
Note that <code>CURL()</code> function can connect to any REST end point accessible to the Query node (where the function is executed) inside or outside the firewall.
To avoid security vulnerabilities, multiple security measures have been implemented.
These can be used to control and minimize the risks associated with using the <code>CURL()</code> function.
See <a href="#table_security_options">Table 1</a> for the list of security options that can be used with the <code>CURL()</code> function.</p>
</div>
<div class="paragraph">
<p>In addition to the security options, a Full Administrator can also list URLs and REST endpoints that can be accessed by the <code>CURL()</code> function.
The <code>CURL()</code> function can access URLs that satisfy a prefix match, which means only URLs specified on the list or the prefixes.</p>
</div>
<div class="paragraph">
<p>Consider the following use case where a deployment of Couchbase Server and Mobile Sync Gateway exist on the same machine, and the user has access to the query service but not the Sync Gateway admin endpoint.
Let&#8217;s assume that the user has been granted QUERY_EXTERNAL_ACCESS role by the Full Administrator.
This means that the user can write queries using the CURL() function and potentially use CURL to access the Mobile Sync Gateway admin endpoint.
To avoid this, the Full Administrator can create an access list for CURL() access and add the Admin endpoint of Sync Gateway to the <code>disallowed_urls</code> list.</p>
</div>
<div class="paragraph">
<p>For more details on creating the access list and the structure of the access list file, see <a href="#curl-access-list">Creating an Access List for CURL()</a>.</p>
</div>
<div class="paragraph">
<p>The following security measures help control risks when using the <code>CURL()</code> function:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Enable the <code>CURL()</code> function only for the Full Administrator role.</p>
</li>
<li>
<p>For all other users, the RBAC role QUERY_EXTERNAL_ACCESS is required to run the <code>CURL()</code> function.
Only the Full Administrator can assign the QUERY_EXTERNAL_ACCESS role to other users.</p>
</li>
<li>
<p>An access list of URLs and REST points must be configured on the query nodes before being able to use the <code>CURL()</code> function.
See <a href="#curl-access-list">Creating an Access List for CURL()</a> for details.</p>
</li>
<li>
<p>Each query node in the cluster must define its access list file.</p>
</li>
<li>
<p>The <code>CURL()</code> function internally supports a specific set of SSL ciphers (MEDIUM or HIGH).
This is dependent on the <code>COUCHBASE_SSL_CIPHER_LIST</code>.</p>
</li>
<li>
<p>The <code>CURL()</code> function runs on the query node within a cluster.
In order to identify a request from SQL++'s <code>CURL()</code> function, a custom header is always set for all requests.
The custom header format is: <code>"X-N1QL-User-Agent: couchbase/n1ql/&lt;n1ql-version&gt;"</code>.
External clients that wish to disallow SQL++ <code>CURL()</code> from accessing their REST API endpoints can explicitly check for the above header and block it.
The general external endpoints will ignore this header value.</p>
</li>
<li>
<p>A <code>user-agent</code> is always set by default.
This can be reset using the <code>-user-agent</code> option.
The value set by default is <code>couchbase/n1ql/&lt;n1ql-version&gt;</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The current &lt;n1ql-version&gt; is "1.7.0-N1QL".
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="curl-access-list"><a class="anchor" href="#curl-access-list"></a>Creating an Access List for CURL()</h3>
<div class="paragraph">
<p>An access list allows a Full Administrator to list out the permitted REST endpoints and URLs for the <code>CURL()</code> function.
To enable access based on the access list, a Full Administrator must create the file containing the access list, which can be created two ways:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>From the Query Workbench UI in the <span class="menuseq"><b class="menu">Settings</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Advanced Query Settings</b></span> section.</p>
</li>
<li>
<p>From CBQ via a cURL command.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="from-the-query-workbench"><a class="anchor" href="#from-the-query-workbench"></a>From the Query Workbench</h4>
<div class="paragraph">
<p>In the Query Workbench, navigate to the <span class="menuseq"><b class="menu">Settings</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Advanced Query Settings</b></span> section as shown below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/CURL_Access.png" alt="The Settings Screen showing the Advanced Query Settings" width="720">
</div>
</div>
<div class="paragraph">
<p>After expanding the Advanced Query Settings section, you can choose the Function Access:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<strong class="ui">Restricted</strong>
</td>
<td class="hdlist2">
<p>Access applies only the sites explicitly listed.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<strong class="ui">Unrestricted</strong>
</td>
<td class="hdlist2">
<p>Access applies to all sites within the explicitly listed sites.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Under the <strong>Allowed CURL URLs</strong> and <strong>Disallowed CURL URLs</strong> headings, enter your allowed or disallowed URL in the appropriate textbox, and press the <kbd>Enter</kbd> key or click anywhere else on this screen to enter your URL.</p>
</div>
<div class="paragraph">
<p>Click <b class="button">+</b> to add another URL to the list.</p>
</div>
<div class="paragraph">
<p>Click <b class="button">-</b> to remove a URL from the list.</p>
</div>
</div>
<div class="sect3">
<h4 id="from-cbq"><a class="anchor" href="#from-cbq"></a>From CBQ</h4>
<div class="paragraph">
<p>From a CBQ prompt, you can send a CURL() command to allow or disallow specific URLs, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/curl.adoc - include::rest-api:example$query-settings-post-access.sh[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The access list file command structure is described in the following table.</p>
</div>
<div class="paragraph">
<div class="title">Structure of Access List for CURL()</div>
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/curl.adoc - include::rest-api:partial$query-settings/definitions.adoc[]</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design-considerations"><a class="anchor" href="#design-considerations"></a>Design Considerations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here are some of the design considerations to keep in mind when using CURL:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The URL needs to point to a JSON endpoint.
The redirection of URL is not allowed.</p>
</li>
<li>
<p>Only HTTP and HTTPS protocols are supported.
This means that files on the local file system cannot be accessed.</p>
</li>
<li>
<p>The amount of memory used for the CURL result is controlled using the <code>result-cap</code> option.
The default is 20MB.</p>
</li>
<li>
<p>Any values passed to the arguments of <code>CURL()</code> must be static values.
That means, they cannot include any references to names, aliases of documents, attributes in the documents, or any SQL++ functions or expressions that need to be evaluated.</p>
<div class="paragraph">
<p>Consider the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT CURL(b.url, { "data" : "address="||b.data })
FROM keyspace b;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above example is invalid, because the first argument <code>b.url</code> refers to the alias <code>b</code> and the attribute <code>url</code> in the document.
In the second argument, the string concatenation operator (||) cannot be evaluated.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#Ex1">Use Google Maps API to convert static address into coordinates</a></p>
</li>
<li>
<p><a href="#Ex2">Use Google Maps API to extract geometry (address and geographic location bounds) of a given street address</a></p>
</li>
<li>
<p><a href="#Ex3">Join two keyspaces on different Couchbase clusters</a></p>
</li>
<li>
<p><a href="#Ex4">Full text search (FTS) in a SQL++ query</a></p>
</li>
<li>
<p><a href="#Ex5">Use Yahoo Finance API in a WHERE clause to find a stock&#8217;s lowest value for the day</a></p>
</li>
<li>
<p><a href="#Ex6">Use CURL() to allow two URLs and disallow one URL</a></p>
</li>
<li>
<p><a href="#Ex7">Use CURL() to allow all access to all endpoints</a></p>
</li>
<li>
<p><a href="#Ex8">Use CURL() to turn off access to all endpoints and clear the Allowed and Disallowed lists</a></p>
</li>
<li>
<p><a href="#Ex9">Use CURL() to turn off access to all endpoints but make no changes to the Allowed and Disallowed lists</a></p>
</li>
<li>
<p><a href="#Ex10">Use CURL() to turn off access to all endpoints, allow one URL, and clear the Disallowed list</a></p>
</li>
<li>
<p><a href="#Ex11">Use CURL() to turn off access to all endpoints, disallow one URL, and clear the Allowed list</a></p>
</li>
<li>
<p><a href="#Ex12">Use CURL() to allow an IP address and port instead of a website name</a></p>
</li>
<li>
<p><a href="#Ex13">Use CURL() to allow and disallow the same URL&#8201;&#8212;&#8201;and get an error</a></p>
</li>
<li>
<p><a href="#Ex14">Use CURL() with dynamic named parameters</a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following examples are using CURL in the query projection list.</p>
</div>
<div id="Ex1" class="exampleblock">
<div class="title">Example 1. Use Google Maps API to convert static address into coordinates</div>
<div class="content">
<div class="paragraph">
<p>The following SQL++ query fetches details about the address "Half Moon Bay" using the <a href="https://maps.googleapis.com" target="_blank" rel="noopener">Google maps API</a>.
The Geocoding API from Google Maps allows you to convert static addresses into coordinates.
(For more information refer to the <a href="https://developers.google.com/maps/documentation/geocoding/intro" target="_blank" rel="noopener">Geocoding API Developer Guide</a>.)
The corresponding <code>curl</code> command is also provided below.</p>
</div>
<div class="listingblock">
<div class="title">Request</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl https://maps.googleapis.com/maps/api/geocode/json?address=Half+Moon+Bay</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT CURL("https://maps.googleapis.com/maps/api/geocode/json",
           {"data":"address=Half+Moon+Bay" , "request":"GET"} );</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "$1": {
      "results": [
        {
          "address_components": [
            {
              "long_name": "Half Moon Bay",
              "short_name": "Half Moon Bay",
              "types": [
                "locality",
                "political"
              ]
            },
            {
              "long_name": "San Mateo County",
              "short_name": "San Mateo County",
              "types": [
                "administrative_area_level_2",
                "political"
              ]
            },
            {
              "long_name": "California",
              "short_name": "CA",
              "types": [
                "administrative_area_level_1",
                "political"
              ]
            },
            {
              "long_name": "United States",
              "short_name": "US",
              "types": [
                "country",
                "political"
              ]
            }
          ],
          "formatted_address": "Half Moon Bay, CA, USA",
          "geometry": {
            "bounds": {
              "northeast": {
                "lat": 37.5226389,
                "lng": -122.4165183
              },
              "southwest": {
                "lat": 37.4249286,
                "lng": -122.4778879
              }
            },
            "location": {
              "lat": 37.4635519,
              "lng": -122.4285862
            },
            "location_type": "APPROXIMATE",
            "viewport": {
              "northeast": {
                "lat": 37.5226389,
                "lng": -122.4165183
              },
              "southwest": {
                "lat": 37.4249286,
                "lng": -122.4774494
              }
            }
          },
          "place_id": "ChIJC8sZCqULj4ARVJvnNcic_V4",
          "types": [
            "locality",
            "political"
          ]
        }
      ],
      "status": "OK"
    }
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="Ex2" class="exampleblock">
<div class="title">Example 2. Use Google Maps API to extract geometry (address and geographic location bounds) of a given street address</div>
<div class="content">
<div class="paragraph">
<p>This is similar to <a href="#Ex1">Example 1</a>, but following SQL++ query fetches details about Santa Cruz in Spain using the <a href="https://maps.googleapis.com" target="_blank" rel="noopener">Google geocoding API</a> and extracts the <code>geometry</code> field from the result.
This query retrieves the address and geographic location bounds of the address, Santa Cruz, ES.
We use the <code>address</code> and <code>components</code> parameters from the Geocoding API.
The <code>data</code> option represents the HTTP POST data.</p>
</div>
<div class="listingblock">
<div class="title">Request</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl https://maps.googleapis.com/maps/api/geocode/json?address=santa+cruz&amp;components=country:ES</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT CURL("https://maps.googleapis.com/maps/api/geocode/json",
           {"data":["address=santa+cruz","components=country:ES"],"get":true});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "$1": {
      "results": [
        {
          "address_components": [
            {
              "long_name": "Santa Cruz de Tenerife",
              "short_name": "Santa Cruz de Tenerife",
              "types": [
                "locality",
                "political"
              ]
            },
            {
              "long_name": "Santa Cruz de Tenerife",
              "short_name": "TF",
              "types": [
                "administrative_area_level_2",
                "political"
              ]
            },
            {
              "long_name": "Canary Islands",
              "short_name": "CN",
              "types": [
                "administrative_area_level_1",
                "political"
              ]
            },
            {
              "long_name": "Spain",
              "short_name": "ES",
              "types": [
                "country",
                "political"
              ]
            }
          ],
          "formatted_address": "Santa Cruz de Tenerife, Spain",
          "geometry": {
            "bounds": {
              "northeast": {
                "lat": 28.487616,
                "lng": -16.2356646
              },
              "southwest": {
                "lat": 28.4280248,
                "lng": -16.3370045
              }
            },
            "location": {
              "lat": 28.4636296,
              "lng": -16.2518467
            },
            "location_type": "APPROXIMATE",
            "viewport": {
              "northeast": {
                "lat": 28.487616,
                "lng": -16.2356646
              },
              "southwest": {
                "lat": 28.4280248,
                "lng": -16.3370045
              }
            }
          },
          "place_id": "ChIJcUElzOzMQQwRLuV30nMUEUM",
          "types": [
            "locality",
            "political"
          ]
        }
      ],
      "status": "OK"
    }
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="Ex3" class="exampleblock">
<div class="title">Example 3. Join two keyspaces on different Couchbase clusters</div>
<div class="content">
<div class="paragraph">
<p>This SQL++ query shows how to JOIN two keyspaces on different Couchbase clusters.
The JOIN is the same as is explained in the section on the <a href="join.html" class="xref page">JOIN Clause</a>, but the left and right side keyspaces are in two different Couchbase clusters.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The left side keyspace <code>route</code> is from the cluster running on <code>hostname</code>.
If you don&#8217;t have a second cluster running, you should substitute the <code>hostname</code> with 127.0.0.1 or the IP-address of the local cluster.</p>
</li>
<li>
<p>The right side keyspace <code>airline</code> is from the local cluster.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/curl.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT DISTINCT airline.name, airline.callsign,
   route.destinationairport, route.stops, route.airline
FROM CURL("http://localhost:8093/query/service",
   {"data": "statement=SELECT * FROM route t
                       WHERE t.sourceairport = 'SFO'
           &amp; query_context=travel-sample.inventory",
    "user": "Administrator:password"}).results[*].t route
JOIN airline
ON KEYS route.airlineid
LIMIT 4;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the results from the <code>CURL()</code> output are embedded in the <code>results[]</code> array under the keyspace alias <code>t</code> used in the remote query.
So, we extract the result documents appropriately with the expression <code>CURL(...).results[*].t</code> and alias it to <code>route</code> as the left side keyspace for the <code>JOIN</code>.</p>
</div>
<div class="paragraph">
<p>RBAC credentials are required when CURL() is accessing Couchbase Server version 5.0 or later.</p>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "airline": "B6",
    "callsign": "JETBLUE",
    "destinationairport": "AUS",
    "name": "JetBlue Airways",
    "stops": 0
  }, // …
]</code></pre>
</div>
</div>
</div>
</div>
<div id="Ex4" class="exampleblock">
<div class="title">Example 4. Full text search (FTS) in a SQL++ query</div>
<div class="content">
<div class="paragraph">
<p>The following example shows how to use the <code>CURL()</code> function to include a full text search from the <a href="../../fts/fts-introduction.html" class="xref page">Search service</a> in a SQL++ query.
Assuming the FTS index <code>fts_travel</code> is created on the default collection in the default scope of the travel sample dataset, running the following SQL++ query finds all documents that have "sanfrancisco" anywhere in the document.</p>
</div>
<div class="paragraph">
<p>Note that in Couchbase Server 6.5 and later, you can use <a href="searchfun.html" class="xref page">search functions</a> to use a full text search in a SQL++ query, as long as the Search service is available on the cluster.
You can still use the <code>CURL()</code> function if you need to access the Search service on another cluster.</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT result.hits[*].id
FROM CURL("http://Administrator:password@127.0.0.1:8094/api/index/fts_index/query",
     {"header":"Content-Type: application/json",
      "request" : "POST",
      "data":'{"explain":false,"fields": ["*"],"highlight": {},
              "query": {"query": "san fran isco"}}' }) result;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "id": [
      "hotel_25509",
      "hotel_25508",
      "hotel_26139",
      "hotel_25587",
      "hotel_25503",
      "hotel_25667",
      "hotel_25502",
      "hotel_25597",
      "hotel_26493",
      "hotel_25670"
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="Ex5" class="exampleblock">
<div class="title">Example 5. Use Yahoo Finance API in a WHERE clause to find a stock&#8217;s lowest value for the day</div>
<div class="content">
<div class="paragraph">
<p>The following example uses the <code>CURL()</code> function with a WHERE clause.
It uses the Yahoo finance API to find the day&#8217;s low value (i.e <code>DaysLow</code>) of HDP stock and finds all the documents in the <code>users</code> keyspace that have <code>min_threshold</code> attribute value greater than the DaysLow stock value.</p>
</div>
<div class="paragraph">
<p>For this example, unset the query context using the <a href="#tools/query-workbench.adoc#query-context" class="xref unresolved">query context</a> drop-down menu in the Query Workbench, or the <a href="../../settings/query-settings.html#query_context" class="xref page">query_context</a> request-level parameter.</p>
</div>
<div class="paragraph">
<p>Insert the following documents, representing customers and their minimum thresholds, into the default collection in the default scope of the travel sample data, and then run the <code>SELECT</code> query:</p>
</div>
<div class="listingblock">
<div class="title">Data</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">INSERT INTO `travel-sample` (KEY, VALUE)
  VALUES
     ("k1",
         {"custID" : 12345, "min_threshold" : 4}),
     ("k2",
         {"custID" : 44444, "min_threshold" : 12});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT min_threshold,
       meta().id,
       to_number(hdp_low) hdp_low
FROM `travel-sample`
USE KEYS ["k1", "k2"]
LET hdp_low = curl("https://query.yahooapis.com/v1/public/yql", {"data":"q=select%20*%20from%20yahoo.finance.quotes%20where%20symbol%20in%20(%22HDP%22)&amp;format=json&amp;diagnostics=true&amp;env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&amp;callback="}).query.results.quote.DaysLow
WHERE to_number(hdp_low) &lt; min_threshold;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "hdp_low": 9.48,
    "id": "k2",
    "min_threshold": 12
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="Ex6" class="exampleblock">
<div class="title">Example 6. Use CURL() to allow two URLs and disallow one URL</div>
<div class="content">
<div class="listingblock">
<div class="title">Request</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -X POST -u Administrator:password \
-d '{
"all_access": true,
"allowed_urls" : ["company1.com", "couchbase.com"],
"disallowed_urls" : ["company2.com"]
}' http://localhost:8091/settings/querySettings/curlWhitelist</code></pre>
</div>
</div>
</div>
</div>
<div id="Ex7" class="exampleblock">
<div class="title">Example 7. Use CURL() to allow all access to all endpoints</div>
<div class="content">
<div class="listingblock">
<div class="title">Request</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -X POST -u Administrator:password \
-d '{
"all_access": true
}' http://localhost:8091/settings/querySettings/curlWhitelist</code></pre>
</div>
</div>
</div>
</div>
<div id="Ex8" class="exampleblock">
<div class="title">Example 8. Use CURL() to turn off access to all endpoints and clear the Allowed and Disallowed lists</div>
<div class="content">
<div class="listingblock">
<div class="title">Request</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -X POST -u Administrator:password \
-d '{
"all_access": false,
"allowed_urls" : [],
"disallowed_urls" : []
}' http://localhost:8091/settings/querySettings/curlWhitelist</code></pre>
</div>
</div>
</div>
</div>
<div id="Ex9" class="exampleblock">
<div class="title">Example 9. Use CURL() to turn off access to all endpoints but make no changes to the Allowed and Disallowed lists</div>
<div class="content">
<div class="listingblock">
<div class="title">Request</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -X POST -u Administrator:password \
-d '{
"all_access": false
}' http://localhost:8091/settings/querySettings/curlWhitelist</code></pre>
</div>
</div>
</div>
</div>
<div id="Ex10" class="exampleblock">
<div class="title">Example 10. Use CURL() to turn off access to all endpoints, allow one URL, and clear the Disallowed list</div>
<div class="content">
<div class="listingblock">
<div class="title">Request</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -X POST -u Administrator:password \
-d '{
"all_access": false,
"allowed_urls" : ["https://maps.googleapis.com/maps/api/geocode/json"],
"disallowed_urls" : []
}' http://localhost:8091/settings/querySettings/curlWhitelist</code></pre>
</div>
</div>
</div>
</div>
<div id="Ex11" class="exampleblock">
<div class="title">Example 11. Use CURL() to turn off access to all endpoints, disallow one URL, and clear the Allowed list</div>
<div class="content">
<div class="listingblock">
<div class="title">Request</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -X POST -u Administrator:password \
-d '{
"all_access": false,
"disallowed_urls" : ["https://maps.googleapis.com/maps/api/geocode/json"],
"allowed_urls" : []
}' http://localhost:8091/settings/querySettings/curlWhitelist</code></pre>
</div>
</div>
</div>
</div>
<div id="Ex12" class="exampleblock">
<div class="title">Example 12. Use CURL() to allow an IP address and port instead of a website name</div>
<div class="content">
<div class="listingblock">
<div class="title">Request</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -X POST -u Administrator:password \
-d '{
"all_access": false,
"disallowed_urls" : ["https://maps.googleapis.com/maps/api/geocode/json"],
"allowed_urls" : ["http://127.0.0.1:9499/query/service"]
}' http://localhost:8091/settings/querySettings/curlWhitelist</code></pre>
</div>
</div>
</div>
</div>
<div id="Ex13" class="exampleblock">
<div class="title">Example 13. Use CURL() to allow and disallow the same URL&#8201;&#8212;&#8201;and get an error</div>
<div class="content">
<div class="listingblock">
<div class="title">Request</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -X POST -u Administrator:password \
-d '{
"all_access": false,
"disallowed_urls" : ["https://maps.googleapis.com/maps/api/geocode/json"],
"allowed_urls" : ["https://maps.googleapis.com/maps/api/geocode/json"]
}' http://localhost:8091/settings/querySettings/curlWhitelist</code></pre>
</div>
</div>
</div>
</div>
<div id="Ex14" class="exampleblock">
<div class="title">Example 14. Use CURL() with dynamic named parameters</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT CURL(b.url, $params) FROM keyspace b WHERE b.username = "joe";</code></pre>
</div>
</div>
<div class="paragraph">
<p>If we wanted to use Node.JS, we would use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">keyspace.query(SELECT CURL(b.url, $params) FROM keyspace b WHERE b.username = "joe", { params: { data: "..." } },
 (error, result) =&gt; {} );</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>$params</code> is a named parameter, so we name it in the parameters object when executing the query.
Then we populate the properties with the data that&#8217;s in the documents since those properties can be variables.</p>
</div>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../../_/js/site.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
</body>
</html>
