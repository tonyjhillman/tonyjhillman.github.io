<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>WINDOW Clause | Couchbase Docs</title>
<link rel="stylesheet" href="../../../../_/css/site.css">
<script src="../../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="The WINDOW clause defines named windows for window functions and aggregate functions used as window functions.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/n1ql/n1ql-language-reference/window.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/pages/n1ql-language-reference/window.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb"><a href="../query.html">Query</a></li>
<li class="crumb"><a href="index.html">SQL++ Language Reference</a></li>
<li class="crumb">Statements</li>
<li class="crumb"><a href="selectintro.html">SELECT</a></li>
<li class="crumb"><a href="window.html">WINDOW Clause</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">WINDOW Clause</h1>
<div class="labels">
<ul><li class="reference"><span><i class="fas fa-book"></i></i> reference</span></li>
</ul>
</div>
<div class="labels">
<ul>
<li class="edition"><a href="https://www.couchbase.com/products/editions">enterprise edition</a></li>
</ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<style type="text/css">
  /* DOC-10177 */
  .hdlist table tr td.hdlist1,
  .hdlist table tr td.hdlist2 {
    padding: 1.5rem 0 0;
  }

  /* Compact horizontal definition lists */
  .hdlist.compact,
  .hdlist.compact {
    padding-top: 1rem;
  }
  .hdlist.compact table tr td.hdlist1,
  .hdlist.compact table tr td.hdlist2 {
    padding: 0.5rem 0 0;
  }

  /* Descriptions in horizontal description lists should have left padding */
  .hdlist table tr td.hdlist2,
  .hdlist.compact table tr td.hdlist2 {
    padding-left: 1rem;
  }

  /* Paragraphs in horizontal description lists should not have left margin */
  .hdlist table .hdlist1 + .hdlist2 p {
    margin-left: 0; !important
  }

  /* Horizontal definitions should match style of vertical definitions */
  td.hdlist1 {
    font-weight: 600;
  }
</style>
<div class="quoteblock abstract">
<blockquote>
The WINDOW clause defines named windows for window functions and aggregate functions used as window functions.
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="purpose"><a class="anchor" href="#purpose"></a>Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Window functions are used to compute an aggregate or cumulative value, based on a group of objects.
The objects are not grouped into a single output object — each object remains separate in the query output.</p>
</div>
<div class="paragraph">
<p>All window functions must have a window definition.
This divides the query result set into one or more partitions, and determines the order of objects in those partitions.
Within each partition, a movable window frame is defined for every input object.
The window frame determines the objects to be used by the window function.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/window-example.png" alt="Table of query result set with numbered callouts">
</div>
<div class="title">Figure 1. Window partitions and the window frame</div>
</div>
<div class="paragraph">
<p>➀ The query result set.<br>
➁ Window partitions&#8201;&#8212;&#8201;partitioned by <code>name</code>, ordered by <code>time</code>.<br>
➂ The current object.<br>
➃ The window frame&#8201;&#8212;&#8201;between unbounded preceding and current object.</p>
</div>
<div class="paragraph">
<p>N1QL has a dedicated set of window functions.
Each window function call includes an OVER clause, which introduces the window specification.
Some window functions take additional window options, which are specified by further clauses before the OVER clause.</p>
</div>
<div class="paragraph">
<p>In Couchbase Server Enterprise Edition, <a href="aggregatefun.html" class="xref page">aggregate functions</a> can also be used as window functions when they are used with an OVER clause.</p>
</div>
<div class="paragraph">
<p>In Couchbase Server 7.0 and later, window functions (and aggregate functions used as window functions) may specify their own inline window definitions, or they may refer to a named window defined by the WINDOW clause elsewhere in the query.
By defining a named window with the WINDOW clause, you can reuse the window definition across several functions in the query, potentially making the query easier to write and maintain.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For you to select data from keyspace or expression, you must have the <code class="param">query_select</code> privilege on that keyspace.
For more details about user roles, see
<a href="../../learn/security/authorization-overview.html" class="xref page">Authorization</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="syntax"><a class="anchor" href="#syntax"></a>Syntax</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This page gives the syntax of the WINDOW clause.
Refer to <a href="aggregatefun.html" class="xref page">Aggregate Functions</a> or <a href="windowfun.html" class="xref page">Window Functions</a> for the details of window function calls.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L393">window-clause ::= 'WINDOW' window-declaration ( ',' window-declaration )*</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/window-clause.png" alt="Syntax diagram">
</div>
</div>
<div class="sect2">
<h3 id="window-declaration"><a class="anchor" href="#window-declaration"></a>Window Declaration</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L397">window-declaration ::= window-name 'AS' '(' window-definition ')'</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/window-declaration.png" alt="Syntax diagram">
</div>
</div>
<div class="hdlist compact">
<table>
<tr>
<td class="hdlist1">
window-name
</td>
<td class="hdlist2">
<p><a href="#window-name">Window Name</a> <span class="icon"><i class="fa fa-caret-down"></i></span></p>
</td>
</tr>
<tr>
<td class="hdlist1">
window-definition
</td>
<td class="hdlist2">
<p><a href="#window-definition">Window Definition</a> <span class="icon"><i class="fa fa-caret-down"></i></span></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <strong>window declaration</strong> assigns a name to the window definition.</p>
</div>
<div class="sect3">
<h4 id="window-name"><a class="anchor" href="#window-name"></a>Window Name</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L401">window-name ::= identifier</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/window-name.png" alt="Syntax diagram">
</div>
</div>
<div class="paragraph">
<p>The window name must be unique in the current query block.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="window-definition"><a class="anchor" href="#window-definition"></a>Window Definition</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L405-L406">window-definition ::= window-ref? window-partition-clause? window-order-clause?
                      window-frame-clause?</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/window-definition.png" alt="Syntax diagram">
</div>
</div>
<div class="hdlist compact">
<table>
<tr>
<td class="hdlist1">
window-ref
</td>
<td class="hdlist2">
<p><a href="#window-ref">Window Reference</a> <span class="icon"><i class="fa fa-caret-down"></i></span></p>
</td>
</tr>
<tr>
<td class="hdlist1">
window-partition-clause
</td>
<td class="hdlist2">
<p><a href="#window-partition-clause">Window Partition Clause</a> <span class="icon"><i class="fa fa-caret-down"></i></span></p>
</td>
</tr>
<tr>
<td class="hdlist1">
window-order-clause
</td>
<td class="hdlist2">
<p><a href="#window-order-clause">Window Order Clause</a> <span class="icon"><i class="fa fa-caret-down"></i></span></p>
</td>
</tr>
<tr>
<td class="hdlist1">
window-frame-clause
</td>
<td class="hdlist2">
<p><a href="#window-frame-clause">Window Frame Clause</a> <span class="icon"><i class="fa fa-caret-down"></i></span></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <strong>window definition</strong> specifies the partitioning, ordering, and framing for window functions.</p>
</div>
<div class="sect3">
<h4 id="window-ref"><a class="anchor" href="#window-ref"></a>Window Reference</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L410">window-ref ::= identifier</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/window-ref.png" alt="Syntax diagram">
</div>
</div>
<div class="paragraph">
<p>The <strong>window reference</strong> enables you to reuse the definition of an existing named window, and extend that definition if necessary.
For example, you may refer to an existing named window which specifies partitioning and ordering options, and extend that window definition with additional framing options.</p>
</div>
<div class="paragraph">
<p>The referenced named window must be within the scope of the current window definition.
Furthermore, when one named window refers to another existing named window, the referenced named window must be declared earlier in the current query block.</p>
</div>
<div class="paragraph">
<p>The following syntax restrictions apply when using a window reference:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The current window definition may not include a <a href="#window-partition-clause">window partition clause</a>.</p>
</li>
<li>
<p>The current window definition may only include a <a href="#window-order-clause">window order clause</a> if the referenced named window does <em>not</em> specify a window order clause.</p>
</li>
<li>
<p>The referenced named window may not specify a <a href="#window-frame-clause">window frame clause</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="window-partition-clause"><a class="anchor" href="#window-partition-clause"></a>Window Partition Clause</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L414">window-partition-clause ::= 'PARTITION' 'BY' expr ( ',' expr )*</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/window-partition-clause.png" alt="Syntax diagram">
</div>
</div>
<div class="paragraph">
<p>The <strong>window partition clause</strong> groups the query results into partitions using one or more expressions.</p>
</div>
<div class="paragraph">
<p>This clause may be used with any <a href="windowfun.html" class="xref page">window function</a>, or any <a href="aggregatefun.html" class="xref page">aggregate functions</a> used as a window function.</p>
</div>
<div class="paragraph">
<p>This clause is optional.
If omitted, all the query results are grouped into single partition.</p>
</div>
</div>
<div class="sect3">
<h4 id="window-order-clause"><a class="anchor" href="#window-order-clause"></a>Window Order Clause</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L418">window-order-clause ::= 'ORDER' 'BY' ordering-term ( ',' ordering-term )*</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/window-order-clause.png" alt="Syntax diagram">
</div>
</div>
<div class="paragraph">
<p>The <strong>window order clause</strong> determines how objects are ordered within each partition.
The window function works on objects in the order specified by this clause.</p>
</div>
<div class="paragraph">
<p>This clause may be used with any <a href="windowfun.html" class="xref page">window function</a>, or any <a href="aggregatefun.html" class="xref page">aggregate functions</a> used as a window function.</p>
</div>
<div class="paragraph">
<p>This clause is optional for some functions, and required for others.
See the <a href="aggregatefun.html" class="xref page">Aggregate Functions</a> page or <a href="windowfun.html" class="xref page">Window Functions</a> page for details of the syntax of individual functions.</p>
</div>
<div class="paragraph">
<p>If this clause is omitted, all objects are considered peers, i.e. their order is tied.
When objects in the window partition are tied, each window function behaves differently.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="windowfun.html#fn-window-row-number" class="xref page">ROW_NUMBER()</a> function returns a distinct number for each object.
If objects are tied, the results may be unpredictable.</p>
</li>
<li>
<p>The <a href="windowfun.html#fn-window-rank" class="xref page">RANK()</a>, <a href="windowfun.html#fn-window-dense-rank" class="xref page">DENSE_RANK()</a>, <a href="windowfun.html#fn-window-percent-rank" class="xref page">PERCENT_RANK()</a>, and <a href="windowfun.html#fn-window-cume-dist" class="xref page">CUME_DIST()</a> functions return the same result for each object.</p>
</li>
<li>
<p>For other functions, if the <a href="#window-frame-clause">window frame</a> is defined by <code>ROWS</code>, the results may be unpredictable.
If the window frame is defined by <code>RANGE</code> or <code>GROUPS</code>, the results are same for each object.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This clause may have multiple <a href="#ordering-term">ordering terms</a>.
To reduce the number of ties, add additional <a href="#ordering-term">ordering terms</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This clause does not guarantee the overall order of the query results.
To guarantee the order of the final results, use the query <a href="orderby.html" class="xref page">ORDER BY clause</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="ordering-term"><a class="anchor" href="#ordering-term"></a>Ordering Term</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L446">ordering-term ::= expr ( 'ASC' | 'DESC' )? ( 'NULLS' ( 'FIRST' | 'LAST' ) )?</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/ordering-term.png" alt="Syntax diagram">
</div>
</div>
<div class="paragraph">
<p>The <strong>ordering term</strong> specifies an ordering expression, collation, and nulls ordering.</p>
</div>
<div class="paragraph">
<p>This clause has the same syntax and semantics as the ordering term for queries.
Refer to <a href="orderby.html" class="xref page">ORDER BY clause</a> for details.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="window-frame-clause"><a class="anchor" href="#window-frame-clause"></a>Window Frame Clause</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L422-L423">window-frame-clause ::= ( 'ROWS' | 'RANGE' | 'GROUPS' ) window-frame-extent
                        window-frame-exclusion?</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/window-frame-clause.png" alt="Syntax diagram">
</div>
</div>
<div class="hdlist compact">
<table>
<tr>
<td class="hdlist1">
window-frame-extent
</td>
<td class="hdlist2">
<p><a href="#window-frame-extent">Window Frame Extent</a> <span class="icon"><i class="fa fa-caret-down"></i></span></p>
</td>
</tr>
<tr>
<td class="hdlist1">
window-frame-exclusion
</td>
<td class="hdlist2">
<p><a href="#window-frame-exclusion">Window Frame Exclusion</a> <span class="icon"><i class="fa fa-caret-down"></i></span></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <strong>window frame clause</strong> defines the window frame.</p>
</div>
<div class="paragraph">
<p>This clause can be used with all <a href="aggregatefun.html" class="xref page">Aggregate Functions</a> and some <a href="windowfun.html" class="xref page">Window Functions</a>&#8201;&#8212;&#8201;see the descriptions of individual functions for more details.</p>
</div>
<div class="paragraph">
<p>This clause is allowed only when the <a href="#window-order-clause">window order clause</a> is present.</p>
</div>
<div class="paragraph">
<p>This clause is optional.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If this clause is omitted and there is no <a href="#window-order-clause">window order clause</a>, the window frame is the entire partition.</p>
</li>
<li>
<p>If this clause is omitted but there is a <a href="#window-order-clause">window order clause</a>, the window frame becomes all objects in the partition preceding the current object and its peers&#8201;&#8212;&#8201;the same as <code>RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The window frame can be defined in the following ways:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ROWS</code></dt>
<dd>
<p>Counts the exact number of objects within the frame.
If window ordering doesn&#8217;t result in unique ordering, the function may produce unpredictable results.
You can add a unique expression or more window ordering expressions to produce unique ordering.</p>
</dd>
<dt class="hdlist1"><code>RANGE</code></dt>
<dd>
<p>Looks for a value offset within the frame.
The function produces deterministic results.</p>
</dd>
<dt class="hdlist1"><code>GROUPS</code></dt>
<dd>
<p>Counts all groups of tied rows within the frame.
The function produces deterministic results.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If this clause uses <code>RANGE</code> with either <code><em>valexpr</em> PRECEDING</code> or <code><em>valexpr</em> FOLLOWING</code>, the <a href="#window-order-clause">window order clause</a> must have only a single ordering term.
The ordering term expression must evaluate to a number.</p>
</div>
<div class="paragraph">
<p>If the ordering term expression does not evaluate to a number, the window frame will be empty, which means the window function will return its default value: in most cases this is NULL, except for <a href="aggregatefun.html#count" class="xref page">COUNT()</a> or <a href="aggregatefun.html#countn" class="xref page">COUNTN()</a>, whose default value is 0.</p>
</div>
<div class="paragraph">
<p>This restriction does not apply when the window frame uses <code>ROWS</code> or <code>GROUPS</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>RANGE</code> window frame is commonly used to define a window frame based on date or time.
In JSON, dates and times are represented as a string in ISO-8601 standard.</p>
</div>
<div class="paragraph">
<p>If you want to use <code>RANGE</code> with either <code><em>valexpr</em> PRECEDING</code> or <code><em>valexpr</em> FOLLOWING</code>, and you want to use an ordering expression based on date or time, use the appropriate <a href="datefun.html" class="xref page">date or time function</a> to convert the date or time into milliseconds, then use the resulting number in the ordering expression.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="window-frame-extent"><a class="anchor" href="#window-frame-extent"></a>Window Frame Extent</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L427-L431">window-frame-extent ::= 'UNBOUNDED' 'PRECEDING' | valexpr 'PRECEDING' | 'CURRENT' 'ROW' |
                        'BETWEEN' ( 'UNBOUNDED' 'PRECEDING' | 'CURRENT' 'ROW' |
                                     valexpr ( 'PRECEDING' | 'FOLLOWING' ) )
                            'AND' ( 'UNBOUNDED' 'FOLLOWING' | 'CURRENT' 'ROW' |
                                     valexpr ( 'PRECEDING' | 'FOLLOWING' ) )</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/window-frame-extent.png" alt="Syntax diagram">
</div>
</div>
<div class="hdlist compact">
<table>
<tr>
<td class="hdlist1">
valexpr
</td>
<td class="hdlist2">
<p>The <code><em>valexpr</em></code> must be a positive constant or an expression that evaluates as a positive <a href="literals.html#numbers" class="xref page">number</a>.
For <code>ROWS</code> or <code>GROUPS</code>, the <code><em>valexpr</em></code> must be an integer.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <strong>window frame extent</strong> clause specifies the start point and end point of the window frame.</p>
</div>
<div class="paragraph">
<p>The expression before <code>AND</code> is the start point and expression after <code>AND</code> is the end point.
If <code>BETWEEN</code> is omitted, you can only specify the start point; the end point becomes <code>CURRENT ROW</code>.</p>
</div>
<div class="paragraph">
<p>The window frame end point can&#8217;t be before the start point.
If this clause violates this restriction explicitly, an error will result.
If it violates this restriction implicitly, the window frame will be empty, which means the window function will return its default value: in most cases this is NULL, except for <a href="aggregatefun.html#count" class="xref page">COUNT()</a> or <a href="aggregatefun.html#countn" class="xref page">COUNTN()</a>, whose default value is 0.</p>
</div>
<div class="paragraph">
<p>Window frame extents that result in an explicit violation are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>( ROWS | RANGE | GROUPS ) BETWEEN CURRENT ROW AND <em>valexpr</em> PRECEDING</code></p>
</li>
<li>
<p><code>( ROWS | RANGE | GROUPS ) BETWEEN <em>valexpr</em> FOLLOWING AND <em>valexpr</em> PRECEDING</code></p>
</li>
<li>
<p><code>( ROWS | RANGE | GROUPS ) BETWEEN <em>valexpr</em> FOLLOWING AND CURRENT ROW</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Window frame extents that result in an implicit violation are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>( ROWS | RANGE | GROUPS ) BETWEEN UNBOUNDED PRECEDING AND <em>valexpr</em> PRECEDING</code>&#8201;&#8212;&#8201;if <code><em>valexpr</em></code> is too high, some objects may generate an empty window frame.</p>
</li>
<li>
<p><code>( ROWS | RANGE | GROUPS ) BETWEEN <em>valexpr</em> PRECEDING AND <em>valexpr</em> PRECEDING</code>&#8201;&#8212;&#8201;if the second <code><em>valexpr</em></code> is greater than or equal to the first <code><em>valexpr</em></code>, all result sets will generate an empty window frame.</p>
</li>
<li>
<p><code>( ROWS | RANGE | GROUPS ) BETWEEN <em>valexpr</em> FOLLOWING AND <em>valexpr</em> FOLLOWING</code>&#8201;&#8212;&#8201;if the first <code><em>valexpr</em></code> is greater than or equal to the second <code><em>valexpr</em></code>, all result sets will generate an empty window frame.</p>
</li>
<li>
<p><code>( ROWS | RANGE | GROUPS ) BETWEEN <em>valexpr</em> FOLLOWING AND UNBOUNDED FOLLOWING</code>&#8201;&#8212;&#8201;if <code><em>valexpr</em></code> is too high, some objects may generate an empty window frame.</p>
</li>
<li>
<p>If the <a href="#window-frame-exclusion">window frame exclusion clause</a> is present, any window frame specification may result in empty window frame.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="window-frame-exclusion"><a class="anchor" href="#window-frame-exclusion"></a>Window Frame Exclusion</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L435">window-frame-exclusion ::= 'EXCLUDE' ( 'CURRENT' 'ROW' | 'GROUP' | 'TIES' | 'NO' 'OTHERS' )</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/window-frame-exclusion.png" alt="Syntax diagram">
</div>
</div>
<div class="paragraph">
<p>The <strong>window frame exclusion clause</strong> enables you to exclude specified objects from the window frame.</p>
</div>
<div class="paragraph">
<p>This clause can be used with all <a href="aggregatefun.html" class="xref page">aggregate functions</a> and some <a href="windowfun.html" class="xref page">window functions</a>&#8201;&#8212;&#8201;see the descriptions of individual functions for more details.</p>
</div>
<div class="paragraph">
<p>This clause is allowed only when the <a href="#window-frame-clause">window frame clause</a> is present.</p>
</div>
<div class="paragraph">
<p>This clause is optional.
If this clause is omitted, the default is no exclusion&#8201;&#8212;&#8201;the same as <code>EXCLUDE NO OTHERS</code>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>EXCLUDE CURRENT ROW</code></dt>
<dd>
<p>If the current object is still part of the window frame, it is removed from the window frame.</p>
</dd>
<dt class="hdlist1"><code>EXCLUDE GROUP</code></dt>
<dd>
<p>The current object and any peers of the current object are removed from the window frame.</p>
</dd>
<dt class="hdlist1"><code>EXCLUDE TIES</code></dt>
<dd>
<p>Any peers of the current object, but not the current object itself, are removed from the window frame.</p>
</dd>
<dt class="hdlist1"><code>EXCLUDE NO OTHERS</code></dt>
<dd>
<p>No additional objects are removed from the window frame.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If the current object is already removed from the window frame, then it remains removed from the window frame.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="usage"><a class="anchor" href="#usage"></a>Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If present, the WINDOW clause must be included after the <a href="groupby.html" class="xref page">GROUP BY</a>, <a href="groupby.html#letting-clause" class="xref page">LETTING</a>, and <a href="groupby.html#having-clause" class="xref page">HAVING</a> clauses, and before the <a href="orderby.html" class="xref page">ORDER BY</a> clause.</p>
</div>
<div class="paragraph">
<p>When the WINDOW clause is present, SQL++ rewrites the query by replacing window names with inline window definitions.
If a window is declared by the WINDOW clause, but not actually used by any window function or aggregate function in the query, that window definition is ignored and not used for determining the query plan.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/window.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div id="ex-1" class="exampleblock">
<div class="title">Example 1. Using a shared window definition</div>
<div class="content">
<div class="paragraph">
<p>For each airline, show each route operated by that airline, including the length of the route, the length of the next-longest route, and the length of the next-shortest route.</p>
</div>
<div class="paragraph">
<p>Compare this example with the examples for <a href="windowfun.html#fn-window-lag" class="xref page">LAG()</a> and <a href="windowfun.html#fn-window-lead" class="xref page">LEAD()</a>.</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT r.airline, r.id, r.distance,
LEAD(r.distance, 1, "No next distance") OVER win AS `next-distance`,
LAG(r.distance, 1, "No previous distance") OVER win AS `previous-distance`
FROM route AS r
WINDOW win AS (
  PARTITION BY r.airline
  ORDER BY r.distance NULLS LAST
) <i class="conum" data-value="1"></i><b>(1)</b>
LIMIT 7;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The two window functions in this example share the same window definition, so it makes sense to use a named window.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "airline": "2L",
    "distance": 770.9691328580009,
    "id": 125,
    "next-distance": 770.969132858001,
    "previous-distance": "No previous distance"
  },
  {
    "airline": "2L",
    "distance": 770.969132858001,
    "id": 117,
    "next-distance": 922.7579695456559,
    "previous-distance": 770.9691328580009
  },
  {
    "airline": "2L",
    "distance": 922.7579695456559,
    "id": 118,
    "next-distance": 922.7579695456559,
    "previous-distance": 770.969132858001
  },
  {
    "airline": "2L",
    "distance": 922.7579695456559,
    "id": 126,
    "next-distance": "No next distance",
    "previous-distance": 922.7579695456559
  },
  {
    "airline": "3F",
    "distance": 23.957943869396804,
    "id": 274,
    "next-distance": 23.957943869396804,
    "previous-distance": "No previous distance"
  },
  {
    "airline": "3F",
    "distance": 23.957943869396804,
    "id": 276,
    "next-distance": 26.397914084363418,
    "previous-distance": 23.957943869396804
  },
  {
    "airline": "3F",
    "distance": 26.397914084363418,
    "id": 282,
    "next-distance": 26.397914084363418,
    "previous-distance": 23.957943869396804
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="ex-2" class="exampleblock">
<div class="title">Example 2. Referencing an existing named window in a named window definition</div>
<div class="content">
<div class="paragraph">
<p>For each destination airport, number all routes in order of distance, and calculate the distance of each route as a fraction of the total distance of all routes.</p>
</div>
<div class="paragraph">
<p>Compare this example with the examples for <a href="windowfun.html#fn-window-ratio-to-report" class="xref page">RATIO_TO_REPORT()</a> and <a href="windowfun.html#fn-window-row-number" class="xref page">ROW_NUMBER()</a>.</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT d.id, d.destinationairport,
RATIO_TO_REPORT(d.distance) OVER win1 AS `distance-ratio`,
ROW_NUMBER() OVER win2 AS `row`
FROM route AS d
WINDOW win1 AS (PARTITION BY d.destinationairport), <i class="conum" data-value="1"></i><b>(1)</b>
       win2 AS (win1 ORDER BY d.distance NULLS LAST) <i class="conum" data-value="2"></i><b>(2)</b>
LIMIT 7;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The two window functions in this example share similar window definitions, so it makes sense to use named windows.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The window named <code>win2</code> reuses the specification of the existing window <code>win1</code>, and extends the specification with a window order clause.
Note that the definition of <code>win2</code> must come <em>after</em> the definition of <code>win1</code>.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "destinationairport": "AAE",
    "distance-ratio": 0.16690466642630636,
    "id": 10201,
    "row": 1
  },
  {
    "destinationairport": "AAE",
    "distance-ratio": 0.22082544177013463,
    "id": 10190,
    "row": 2
  },
  {
    "destinationairport": "AAE",
    "distance-ratio": 0.3033841055547952,
    "id": 10240,
    "row": 3
  },
  {
    "destinationairport": "AAE",
    "distance-ratio": 0.3088857862487639,
    "id": 10136,
    "row": 4
  },
  {
    "destinationairport": "AAL",
    "distance-ratio": 0.07236336293503035,
    "id": 14392,
    "row": 1
  },
  {
    "destinationairport": "AAL",
    "distance-ratio": 0.25521719160354467,
    "id": 14867,
    "row": 2
  },
  {
    "destinationairport": "AAL",
    "distance-ratio": 0.6724194454614251,
    "id": 22505,
    "row": 3
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="ex-3" class="exampleblock">
<div class="title">Example 3. Referencing an existing named window in an inline window definition</div>
<div class="content">
<div class="paragraph">
<p>For each airport, show each route starting at that airport, including the distance of the route, the distance of the shortest route from that airport, and the distance of the longest route from that airport.</p>
</div>
<div class="paragraph">
<p>Compare this example with the examples for <a href="windowfun.html#fn-window-first-value" class="xref page">FIRST_VALUE()</a> and <a href="windowfun.html#fn-window-last-value" class="xref page">LAST_VALUE()</a>.</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT r.sourceairport, r.destinationairport, r.distance,
FIRST_VALUE(r.distance) OVER win AS `shortest_distance`, <i class="conum" data-value="1"></i><b>(1)</b>
LAST_VALUE(r.distance) OVER (
  win ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING <i class="conum" data-value="2"></i><b>(2)</b>
) AS `longest_distance`
FROM route AS r
WINDOW win AS (
  PARTITION BY r.sourceairport
  ORDER BY r.distance
)
LIMIT 7;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The two window functions in this example share similar window definitions, so it makes sense to use a named window.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The inline window definition reuses the specification of the existing window <code>win</code>, and extends the specification with a window frame clause.
Note that the inline window definition comes before the definition of <code>win</code>.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "destinationairport": "MRS",
    "distance": 767.6526005881392,
    "longest_distance": 1420.6731433915318,
    "shortest_distance": 767.6526005881392,
    "sourceairport": "AAE"
  },
  {
    "destinationairport": "LYS",
    "distance": 1015.6529968903878,
    "longest_distance": 1420.6731433915318,
    "shortest_distance": 767.6526005881392,
    "sourceairport": "AAE"
  },
  {
    "destinationairport": "ORY",
    "distance": 1395.3690007167947,
    "longest_distance": 1420.6731433915318,
    "shortest_distance": 767.6526005881392,
    "sourceairport": "AAE"
  },
  {
    "destinationairport": "CDG",
    "distance": 1420.6731433915318,
    "longest_distance": 1420.6731433915318,
    "shortest_distance": 767.6526005881392,
    "sourceairport": "AAE"
  },
  {
    "destinationairport": "AAR",
    "distance": 99.89861063028253,
    "longest_distance": 928.284226131001,
    "shortest_distance": 99.89861063028253,
    "sourceairport": "AAL"
  },
  {
    "destinationairport": "OSL",
    "distance": 352.33081791745275,
    "longest_distance": 928.284226131001,
    "shortest_distance": 99.89861063028253,
    "sourceairport": "AAL"
  },
  {
    "destinationairport": "LGW",
    "distance": 928.284226131001,
    "longest_distance": 928.284226131001,
    "shortest_distance": 99.89861063028253,
    "sourceairport": "AAL"
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="related-links"><a class="anchor" href="#related-links"></a>Related Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="windowfun.html" class="xref page">Window Functions</a></p>
</li>
<li>
<p><a href="aggregatefun.html" class="xref page">Aggregate Functions</a></p>
</li>
</ul>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../../_/js/site.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
</body>
</html>
