<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>Object Functions | Couchbase Docs</title>
<link rel="stylesheet" href="../../../../_/css/site.css">
<script src="../../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="You can use object functions to evaluate objects, perform computations on attributes in an object, and to return a new object based on a transformation.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/n1ql/n1ql-language-reference/objectfun.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/pages/n1ql-language-reference/objectfun.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb"><a href="../query.html">Query</a></li>
<li class="crumb"><a href="index.html">SQL++ Language Reference</a></li>
<li class="crumb"><a href="functions.html">Functions</a></li>
<li class="crumb"><a href="objectfun.html">Object Functions</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Object Functions</h1>
<div class="labels">
<ul><li class="reference"><span><i class="fas fa-book"></i></i> reference</span></li>
</ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>You can use object functions to evaluate objects, perform computations on attributes in an object, and to return a new object based on a transformation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fn-obj-add"><a class="anchor" href="#fn-obj-add"></a>OBJECT_ADD(<code>object</code>, <code>new_attr_key</code>, <code>new_attr_value</code>)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="description"><a class="anchor" href="#description"></a>Description</h3>
<div class="paragraph">
<p>This function adds new attributes and values to a given object.</p>
</div>
</div>
<div class="sect2">
<h3 id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">object</dt>
<dd>
<p>An expression representing the object that you want to add to.</p>
</dd>
<dt class="hdlist1">new_attr_key</dt>
<dd>
<p>The name of the attribute to add.</p>
</dd>
<dt class="hdlist1">new_attr_value</dt>
<dd>
<p>The value of the attribute to add.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="return-value"><a class="anchor" href="#return-value"></a>Return Value</h3>
<div class="paragraph">
<p>The updated object.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>This function does not perform key substitution.</p>
</li>
<li>
<p>If you add a duplicate attribute (that is, if the key is found), it returns an error or NULL object.</p>
</li>
<li>
<p>If <code class="var">new_attr_key</code> or <code class="var">new_attr_value</code> is MISSING, or if <code class="var">new_attr_key</code> is NULL, it returns the <code class="var">object</code> unmodified.</p>
</li>
<li>
<p>If <code class="var">object</code> is not an object or NULL, it returns a NULL value object.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="examples"><a class="anchor" href="#examples"></a>Examples</h3>
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/objectfun.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div id="obj-add-ex" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT schedule[0] AS original,
       OBJECT_ADD(schedule[0], "day_new", 1) AS output
FROM route
LIMIT 1;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "original": {
      "day": 0,
      "flight": "AF198",
      "utc": "10:13:00"
    },
    "output": {
      "day": 0,
      "day_new": 1,
      "flight": "AF198",
      "utc": "10:13:00"
    }
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fn-obj-concat"><a class="anchor" href="#fn-obj-concat"></a>OBJECT_CONCAT(<code>expr</code>, <code>expr</code> &#8230;&#8203;)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="description-2"><a class="anchor" href="#description-2"></a>Description</h3>
<div class="paragraph">
<p>This function concatenates the input objects and returns a new object.
It requires a minimum of two input objects.</p>
</div>
</div>
<div class="sect2">
<h3 id="arguments-2"><a class="anchor" href="#arguments-2"></a>Arguments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">expr</dt>
<dd>
<p>An expression representing an object.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="return-value-2"><a class="anchor" href="#return-value-2"></a>Return Value</h3>
<div class="paragraph">
<p>An object constructed by concatenating all the input objects.
If any of the input objects contain the same attribute name, the attribute from the last relevant object in the input list is copied to the output; similarly-named attributes from earlier objects in the input list are ignored.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-2"><a class="anchor" href="#examples-2"></a>Examples</h3>
<div id="obj-concat-ex" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT OBJECT_CONCAT({"abc": 1}, {"def": 2}, {"ghi": 3}, {"ghi": 4}, {"ghi": [5, 6, 7]});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "$1": {
      "abc": 1,
      "def": 2,
      "ghi": [
        5,
        6,
        7
      ]
    }
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fn-obj-field"><a class="anchor" href="#fn-obj-field"></a>OBJECT_FIELD(<code>object</code>, <code>field</code>)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="description-3"><a class="anchor" href="#description-3"></a>Description</h3>
<div class="paragraph">
<p>This function returns the value of the specified field within the given object.
A field in this context may be any attribute or element, nested at any level within the object.</p>
</div>
</div>
<div class="sect2">
<h3 id="arguments-3"><a class="anchor" href="#arguments-3"></a>Arguments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">expr</dt>
<dd>
<p>An expression representing an object.</p>
</dd>
<dt class="hdlist1">field</dt>
<dd>
<p>A string, or any valid <a href="index.html" class="xref page">expression</a> which evaluates to a string, representing the path to a field within the object.</p>
<div class="paragraph">
<p>You can use <a href="nestedops.html" class="xref page">nested operators</a> to specify the path to a nested attribute or element.
If any attribute names within the field path contain special characters, they must be escaped using backticks (<code>``</code>).</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="return-value-3"><a class="anchor" href="#return-value-3"></a>Return Value</h3>
<div class="paragraph">
<p>The value of the specified field.
If the object does not exist, or the field cannot be found within the object at the specified location, the function returns NULL.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-3"><a class="anchor" href="#examples-3"></a>Examples</h3>
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/objectfun.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div id="obj-field-ex1" class="exampleblock">
<div class="title">Top-Level Fields</div>
<div class="content">
<div class="paragraph">
<p>This example returns the complete values of the specified attributes at the top level of the object.</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT OBJECT_FIELD(hotel, "public_likes") AS `array`,
       OBJECT_FIELD(hotel, "vacancy") AS `boolean`,
       OBJECT_FIELD(hotel, "id") AS `number`,
       OBJECT_FIELD(hotel, "geo") AS `object`,
       OBJECT_FIELD(hotel, "name") AS `string`
FROM hotel
LIMIT 1;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "array": [
      "Julius Tromp I",
      "Corrine Hilll",
      "Jaeden McKenzie",
      "Vallie Ryan",
      "Brian Kilback",
      "Lilian McLaughlin",
      "Ms. Moses Feeney",
      "Elnora Trantow"
    ],
    "boolean": true,
    "number": 10025,
    "object": {
      "accuracy": "RANGE_INTERPOLATED",
      "lat": 51.35785,
      "lon": 0.55818
    },
    "string": "Medway Youth Hostel"
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="obj-field-ex2" class="exampleblock">
<div class="title">Nested Fields</div>
<div class="content">
<div class="paragraph">
<p>This example specifies a nested array element and a nested object attribute at different depths in the hierarchy.
In the path to the nested object attribute, the final attribute name is escaped, as it contains special characters.</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT
  OBJECT_FIELD(hotel, "reviews[1]")
    AS array_element,
  OBJECT_FIELD(hotel, "reviews[1].ratings.`Business service (e.g., internet access)`")
    AS object_attribute
FROM hotel
LIMIT 1;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "array_element": {
      "author": "Barton Marks",
      "content": "We found the hotel de la Monnaie through Interval ...",
      "date": "2015-03-02 19:56:13 +0300",
      "ratings": {
        "Business service (e.g., internet access)": 4,
        "Check in / front desk": 4,
        "Cleanliness": 4,
        "Location": 4,
        "Overall": 4,
        "Rooms": 3,
        "Service": 3,
        "Value": 5
      }
    },
    "object_attribute": 4
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fn-obj-inner-pairs"><a class="anchor" href="#fn-obj-inner-pairs"></a>OBJECT_INNER_PAIRS(<code>expression</code>)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="description-4"><a class="anchor" href="#description-4"></a>Description</h3>
<div class="paragraph">
<p>This function returns an array of objects, containing the names and values of each attribute in the input object.
It is particularly useful when iterating over multiple objects in an array, as it collates the values from similarly-named attributes into a single nested array.</p>
</div>
<div class="paragraph">
<p>In this case, the function does not return a value from any object which does not contain the shared attribute name, rather like an INNER JOIN.
For an illustration, refer to the examples below.</p>
</div>
</div>
<div class="sect2">
<h3 id="arguments-4"><a class="anchor" href="#arguments-4"></a>Arguments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">expression</dt>
<dd>
<p>An expression representing an object.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="return-value-4"><a class="anchor" href="#return-value-4"></a>Return Value</h3>
<div class="paragraph">
<p>An array of objects, each containing two attributes:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">name</dt>
<dd>
<p>The name of an attribute in the source object.</p>
</dd>
<dt class="hdlist1">val</dt>
<dd>
<p>The value of an attribute in the source object; or an array, containing the collated values of similarly-named attributes in the source objects.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The objects in the array are sorted by attribute name, in SQL++ collation order.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-4"><a class="anchor" href="#examples-4"></a>Examples</h3>
<div id="obj-inner-pairs-ex1" class="exampleblock">
<div class="title">Single object</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT OBJECT_INNER_PAIRS({"flight": "AI444", "utc": "4:44:44", "codename": "green"})
    AS inner_pairs;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "inner_pairs": [
      {
        "name": "codename",
        "val": "green"
      },
      {
        "name": "flight",
        "val": "AI444"
      },
      {
        "name": "utc",
        "val": "4:44:44"
      }
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="obj-inner-pairs-ex2" class="exampleblock">
<div class="title">Iterating over objects in an array</div>
<div class="content">
<div class="paragraph">
<p>In this example, notice that where the source objects have similarly-named attributes, the values from each of those attributes are collated into a single array in the output.</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">WITH special_flights AS ([{"flight": "AI444", "utc": "4:44:44", "codename": "green"},
                          {"flight": "AI333", "utc": "3:33:33", "alert": "red"},
                          {"flight": "AI222", "utc": "2:22:22", "codename": "yellow"}])
SELECT OBJECT_INNER_PAIRS(special_flights[*]) AS inner_pairs;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "inner_pairs": [
      {
        "name": "alert",
        "val": "red"
      },
      {
        "name": "codename",
        "val": [
          "green",
          "yellow"
        ]
      },
      {
        "name": "flight",
        "val": [
          "AI444",
          "AI333",
          "AI222"
        ]
      },
      {
        "name": "utc",
        "val": [
          "4:44:44",
          "3:33:33",
          "2:22:22"
        ]
      }
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fn-obj-inner-values"><a class="anchor" href="#fn-obj-inner-values"></a>OBJECT_INNER_VALUES(<code>expression</code>)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="description-5"><a class="anchor" href="#description-5"></a>Description</h3>
<div class="paragraph">
<p>This function returns an array, containing the values of each attribute in the input object.
It is particularly useful when iterating over multiple objects in an array, as it collates the values from similarly-named attributes into a single nested array.</p>
</div>
<div class="paragraph">
<p>In this case, the function does not return a value from any object which does not contain the shared attribute name, rather like an INNER JOIN.
For an illustration, refer to the examples below.</p>
</div>
</div>
<div class="sect2">
<h3 id="arguments-5"><a class="anchor" href="#arguments-5"></a>Arguments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">expression</dt>
<dd>
<p>An expression representing an object.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="return-value-5"><a class="anchor" href="#return-value-5"></a>Return Value</h3>
<div class="paragraph">
<p>An array of the values contained within the source object.
The values in the array are sorted by the corresponding attribute names in the source object, in SQL++ collation order.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-5"><a class="anchor" href="#examples-5"></a>Examples</h3>
<div id="obj-inner-values-ex1" class="exampleblock">
<div class="title">Single object</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT OBJECT_INNER_VALUES({"flight": "AI444", "utc": "4:44:44", "codename": "green"})
    AS inner_values;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "inner_values": [
      "green",
      "AI444",
      "4:44:44"
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="obj-inner-values-ex2" class="exampleblock">
<div class="title">Iterating over objects in an array</div>
<div class="content">
<div class="paragraph">
<p>In this example, notice that where the source objects have similarly-named attributes, the values from each of those attributes are collated into a single array in the output.</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">WITH special_flights AS ([{"flight": "AI444", "utc": "4:44:44", "codename": "green"},
                          {"flight": "AI333", "utc": "3:33:33", "alert": "red"},
                          {"flight": "AI222", "utc": "2:22:22", "codename": "yellow"}])
SELECT OBJECT_INNER_VALUES(special_flights[*]) AS inner_values;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "inner_values": [
      "red",
      [
        "green",
        "yellow"
      ],
      [
        "AI444",
        "AI333",
        "AI222"
      ],
      [
        "4:44:44",
        "3:33:33",
        "2:22:22"
      ]
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fn-obj-length"><a class="anchor" href="#fn-obj-length"></a>OBJECT_LENGTH(<code>expression</code>)</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Equivalent</em>: <a href="metafun.html#len" class="xref page">LEN()</a></p>
</div>
<div class="sect2">
<h3 id="description-6"><a class="anchor" href="#description-6"></a>Description</h3>
<div class="paragraph">
<p>This function returns the number of name-value pairs in the object.
It only counts the top-level attributes and does not recurse into nested objects.</p>
</div>
</div>
<div class="sect2">
<h3 id="arguments-6"><a class="anchor" href="#arguments-6"></a>Arguments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">expression</dt>
<dd>
<p>An object or an expression that evaluates to an object.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="return-value-6"><a class="anchor" href="#return-value-6"></a>Return Value</h3>
<div class="paragraph">
<p>An integer.</p>
</div>
<div class="paragraph">
<p>If the input expression is not an object, the function returns <code>null</code>; if the input expression is <code>missing</code>, the function returns <code>missing</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-6"><a class="anchor" href="#examples-6"></a>Examples</h3>
<div id="obj-length-ex" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT OBJECT_LENGTH({"abc": 1, "def": 2, "ghi": {"uvw": 3, "xyz": 4}});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
    {
        "$1": 3
    }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fn-obj-names"><a class="anchor" href="#fn-obj-names"></a>OBJECT_NAMES(<code>expression</code>)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="description-7"><a class="anchor" href="#description-7"></a>Description</h3>
<div class="paragraph">
<p>This function returns an array, containing the names of each attribute in the input object.
It is particularly useful when iterating over multiple objects in an array, as it collates similar attribute names.</p>
</div>
</div>
<div class="sect2">
<h3 id="arguments-7"><a class="anchor" href="#arguments-7"></a>Arguments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">expression</dt>
<dd>
<p>An expression representing an object.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="return-value-7"><a class="anchor" href="#return-value-7"></a>Return Value</h3>
<div class="paragraph">
<p>An array of the attribute names contained within the source object.
The attribute names are sorted in SQL++ collation order.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-7"><a class="anchor" href="#examples-7"></a>Examples</h3>
<div id="obj-names-ex1" class="exampleblock">
<div class="title">Single object</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT OBJECT_NAMES({"flight": "AI444", "utc": "4:44:44", "codename": "green"})
    AS names;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "names": [
      "codename",
      "flight",
      "utc"
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="obj-names-ex2" class="exampleblock">
<div class="title">Iterating over objects in an array</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">WITH special_flights AS ([{"flight": "AI444", "utc": "4:44:44", "codename": "green"},
                          {"flight": "AI333", "utc": "3:33:33", "alert": "red"},
                          {"flight": "AI222", "utc": "2:22:22", "codename": "yellow"}])
SELECT OBJECT_NAMES(special_flights[*]) AS names;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "names": [
      "alert",
      "codename",
      "flight",
      "utc"
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fn-obj-pairs"><a class="anchor" href="#fn-obj-pairs"></a>OBJECT_PAIRS(<code>expression</code>)</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Alias</em>: <strong>OBJECT_OUTER_PAIRS(<code>expression</code>)</strong></p>
</div>
<div class="sect2">
<h3 id="description-8"><a class="anchor" href="#description-8"></a>Description</h3>
<div class="paragraph">
<p>This function returns an array of objects, containing the names and values of each attribute in the input object.
It is particularly useful when iterating over multiple objects in an array, as it collates the values from similarly-named attributes into a single nested array.</p>
</div>
<div class="paragraph">
<p>In this case, the function returns a null entry from any object which does not contain the shared attribute name, rather like an OUTER JOIN.
For an illustration, refer to the examples below.</p>
</div>
</div>
<div class="sect2">
<h3 id="arguments-8"><a class="anchor" href="#arguments-8"></a>Arguments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">expression</dt>
<dd>
<p>An expression representing an object.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="return-value-8"><a class="anchor" href="#return-value-8"></a>Return Value</h3>
<div class="paragraph">
<p>An array of objects, each containing two attributes:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">name</dt>
<dd>
<p>The name of an attribute in the source object.</p>
</dd>
<dt class="hdlist1">val</dt>
<dd>
<p>The value of an attribute in the source object; or an array, containing the collated values of similarly-named attributes in the source objects.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The objects in the array are sorted by attribute name, in SQL++ collation order.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-8"><a class="anchor" href="#examples-8"></a>Examples</h3>
<div id="obj-pairs-ex1" class="exampleblock">
<div class="title">Single object</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT OBJECT_PAIRS({"flight": "AI444", "utc": "4:44:44", "codename": "green"})
    AS outer_pairs;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "outer_pairs": [
      {
        "name": "codename",
        "val": "green"
      },
      {
        "name": "flight",
        "val": "AI444"
      },
      {
        "name": "utc",
        "val": "4:44:44"
      }
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="obj-pairs-ex2" class="exampleblock">
<div class="title">Iterating over objects in an array</div>
<div class="content">
<div class="paragraph">
<p>In this example, notice that where the source objects have similarly-named attributes, the values from each of those attributes are collated into a single array in the output.</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">WITH special_flights AS ([{"flight": "AI444", "utc": "4:44:44", "codename": "green"},
                          {"flight": "AI333", "utc": "3:33:33", "alert": "red"},
                          {"flight": "AI222", "utc": "2:22:22", "codename": "yellow"}])
SELECT OBJECT_PAIRS(special_flights[*]) AS outer_pairs;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "outer_pairs": [
      {
        "name": "alert",
        "val": [
          null,
          "red",
          null
        ]
      },
      {
        "name": "codename",
        "val": [
          "green",
          null,
          "yellow"
        ]
      },
      {
        "name": "flight",
        "val": [
          "AI444",
          "AI333",
          "AI222"
        ]
      },
      {
        "name": "utc",
        "val": [
          "4:44:44",
          "3:33:33",
          "2:22:22"
        ]
      }
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fn-obj-pairs-nested"><a class="anchor" href="#fn-obj-pairs-nested"></a>OBJECT_PAIRS_NESTED(<code>object</code> [, <code>options</code>])</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="description-9"><a class="anchor" href="#description-9"></a>Description</h3>
<div class="paragraph">
<p>Similar to <a href="#fn-obj-pairs">OBJECT_PAIRS()</a>, this function returns an array of objects, containing the names and values of each field in the input object.
A field in this context may be any attribute or element, nested at any level within the object.</p>
</div>
<div class="paragraph">
<p>This function may be useful when iterating over multiple objects in an array, as it collates and unnests the values from similarly-named fields across all objects in the input array.
In this case, the function returns a null entry from any object which does not contain the shared field name, rather like an OUTER JOIN.
For an illustration, refer to the examples below.</p>
</div>
</div>
<div class="sect2">
<h3 id="arguments-9"><a class="anchor" href="#arguments-9"></a>Arguments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">object</dt>
<dd>
<p>An expression representing an object.</p>
</dd>
<dt class="hdlist1">options</dt>
<dd>
<p>[Optional] An object containing the following possible parameters:</p>
<div class="dlist">
<dl>
<dt class="hdlist1">composites</dt>
<dd>
<p>A boolean.
If <code>true</code>, every level of every nested field is displayed; if <code>false</code>, only the deepest possible nested fields are returned.
Default <code>false</code>.</p>
</dd>
<dt class="hdlist1">pattern</dt>
<dd>
<p>A regular expression used to filter the returned paths.
The pattern is matched against the composite path names, not the individual field names.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="return-value-9"><a class="anchor" href="#return-value-9"></a>Return Value</h3>
<div class="paragraph">
<p>An array of objects, each containing two attributes:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">name</dt>
<dd>
<p>The full path to every possible field within the source object, subject to the specified options.</p>
<div class="paragraph">
<p>The result uses <a href="nestedops.html" class="xref page">nested operators</a> to specify the path to all nested attributes or elements.
If any attribute names within a field path contain special characters, they are escaped using backticks (<code>``</code>).</p>
</div>
</dd>
<dt class="hdlist1">val</dt>
<dd>
<p>The value of an attribute in the source object; or an array, containing the collated values of similarly-named attributes in the source objects.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The objects in the array are sorted by attribute name, in SQL++ collation order.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-9"><a class="anchor" href="#examples-9"></a>Examples</h3>
<div id="obj-pairs-nested-ex1" class="exampleblock">
<div class="title">Single object</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">WITH input AS ({
 "attribute": {"first-part": 1, "second-part": 2}
})
SELECT OBJECT_PAIRS_NESTED(input) AS nested_pairs,
       OBJECT_PAIRS_NESTED(input, {"composites": true}) AS nested_pairs_comp,
       OBJECT_PAIRS_NESTED(input, {"pattern": "first"}) AS nested_pairs_pattern;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "nested_pairs": [
      {
        "name": "attribute.first-part",
        "val": 1
      },
      {
        "name": "attribute.second-part",
        "val": 2
      }
    ],
    "nested_pairs_comp": [
      {
        "name": "attribute",
        "val": {
          "first-part": 1,
          "second-part": 2
        }
      },
      {
        "name": "attribute.first-part",
        "val": 1
      },
      {
        "name": "attribute.second-part",
        "val": 2
      }
    ],
    "nested_pairs_pattern": [
      {
        "name": "attribute.first-part",
        "val": 1
      }
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="obj-pairs-nested-ex2" class="exampleblock">
<div class="title">Iterating over objects in an array</div>
<div class="content">
<div class="paragraph">
<p>In this example, notice that where the source objects have similarly-named attributes, the values from each of those attributes are collated into a single array in the output.
Each collated array is then unnested to show the name and value of its elements.</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">WITH special_flights AS ([{"flight": "AI444", "utc": "4:44:44", "codename": "green"},
                          {"flight": "AI333", "utc": "3:33:33", "alert": "red"},
                          {"flight": "AI222", "utc": "2:22:22", "codename": "yellow"}])
SELECT OBJECT_PAIRS_NESTED(special_flights[*], {"composites": true}) AS nested_pairs;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "nested_pairs": [
      {
        "name": "alert",
        "val": [
          null,
          "red",
          null
        ]
      },
      {
        "name": "alert[0]",
        "val": null
      },
      {
        "name": "alert[1]",
        "val": "red"
      },
      {
        "name": "alert[2]",
        "val": null
      },
      {
        "name": "codename",
        "val": [
          "green",
          null,
          "yellow"
        ]
      },
      {
        "name": "codename[0]",
        "val": "green"
      },
      {
        "name": "codename[1]",
        "val": null
      },
      {
        "name": "codename[2]",
        "val": "yellow"
      },
      {
        "name": "flight",
        "val": [
          "AI444",
          "AI333",
          "AI222"
        ]
      },
      {
        "name": "flight[0]",
        "val": "AI444"
      },
      {
        "name": "flight[1]",
        "val": "AI333"
      },
      {
        "name": "flight[2]",
        "val": "AI222"
      },
      {
        "name": "utc",
        "val": [
          "4:44:44",
          "3:33:33",
          "2:22:22"
        ]
      },
      {
        "name": "utc[0]",
        "val": "4:44:44"
      },
      {
        "name": "utc[1]",
        "val": "3:33:33"
      },
      {
        "name": "utc[2]",
        "val": "2:22:22"
      }
    ]
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Compare this example with <a href="#obj-pairs-ex2">OBJECT_PAIRS() Example 2</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fn-obj-paths"><a class="anchor" href="#fn-obj-paths"></a>OBJECT_PATHS(<code>object</code> [, <code>options</code>] )</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="description-10"><a class="anchor" href="#description-10"></a>Description</h3>
<div class="paragraph">
<p>This function returns the paths to all the fields within an object.
A field in this context may be any attribute or element, nested at any level within the object.</p>
</div>
</div>
<div class="sect2">
<h3 id="arguments-10"><a class="anchor" href="#arguments-10"></a>Arguments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">object</dt>
<dd>
<p>An expression representing an object.</p>
</dd>
<dt class="hdlist1">options</dt>
<dd>
<p>[Optional] An object containing the following possible parameters:</p>
<div class="dlist">
<dl>
<dt class="hdlist1">composites</dt>
<dd>
<p>A boolean.
If <code>true</code>, every level of every nested field is displayed; if <code>false</code>, only the deepest possible nested fields are returned.
Default <code>true</code>.</p>
</dd>
<dt class="hdlist1">arraysubscript</dt>
<dd>
<p>A boolean.
If <code>true</code>, array subscripts are returned; if <code>false</code>, array subscripts are replaced by <code>*</code>.
Default <code>true</code>.</p>
</dd>
<dt class="hdlist1">unique</dt>
<dd>
<p>A boolean.
If <code>true</code>, duplicate field names are collapsed to single unique field name; if <code>false</code>, all duplicate field names are returned.
Typically used when arrays are expanded and array subscripts are not returned.
Default <code>true</code>.</p>
</dd>
<dt class="hdlist1">pattern</dt>
<dd>
<p>A regular expression used to filter the returned paths.
Used in conjunction with the following setting.</p>
</dd>
<dt class="hdlist1">patternspace</dt>
<dd>
<p>A string literal with two possible values.
Default <code>"path"</code>.</p>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>"field"</code>
</td>
<td class="hdlist2">
<p>The pattern is matched against individual field names.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>"path"</code>
</td>
<td class="hdlist2">
<p>The pattern is matched against composite path names.</p>
</td>
</tr>
</table>
</div>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="return-value-10"><a class="anchor" href="#return-value-10"></a>Return Value</h3>
<div class="paragraph">
<p>An array containing the full path to every possible field within the source object, subject to the specified options.</p>
</div>
<div class="paragraph">
<p>The result uses <a href="nestedops.html" class="xref page">nested operators</a> to specify the path to all nested attributes or elements.
If any attribute names within a field path contain special characters, they are escaped using backticks (<code>``</code>).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>object</code> is MISSING, the function returns a MISSING value.</p>
</li>
<li>
<p>If <code>object</code> is not an object, the function returns a NULL value.</p>
</li>
<li>
<p>If <code>options</code> is not an object, the function returns a NULL value.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="examples-10"><a class="anchor" href="#examples-10"></a>Examples</h3>
<div id="obj-paths-ex1" class="exampleblock">
<div class="title">Composite paths</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">WITH input AS ({
  "attribute": {"first-part": 1, "second-part": 2}
})
SELECT OBJECT_PATHS(input, {"composites": true}) AS composite,
       OBJECT_PATHS(input, {"composites": false}) AS non_composite;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "composite": [
      "attribute",
      "attribute.first-part",
      "attribute.second-part"
    ],
    "non_composite": [
      "attribute.first-part",
      "attribute.second-part"
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="obj-paths-ex2" class="exampleblock">
<div class="title">Array subscripts and unique field names</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">WITH input AS ({
  "attribute": [ { "name": "elem1"}, {"name": "elem2"}]
})
SELECT
  OBJECT_PATHS(input, {"arraysubscript": true})
    AS subscripts,
  OBJECT_PATHS(input, {"arraysubscript": false, "unique": false})
    AS no_subscripts_not_unique,
  OBJECT_PATHS(input, {"arraysubscript": false, "unique": true})
    AS no_subscripts_unique;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "no_subscripts_not_unique": [
      "attribute",
      "attribute[*].name",
      "attribute[*].name"
    ],
    "no_subscripts_unique": [
      "attribute",
      "attribute[*].name"
    ],
    "subscripts": [
      "attribute",
      "attribute[0].name",
      "attribute[1].name"
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="obj-paths-ex3" class="exampleblock">
<div class="title">Pattern matching and pattern space</div>
<div class="content">
<div class="paragraph">
<p>This example searches for strings beginning with "n" in the given object paths.</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">WITH input AS ({
  "attribute": {"name": "elem1"}
})
SELECT
  OBJECT_PATHS(input)
    AS all_paths,
  OBJECT_PATHS(input, {"pattern": "^n", "patternspace": "field"})
    AS field_starts_with_n,
  OBJECT_PATHS(input, {"pattern": "^n", "patternspace": "path"})
    AS path_starts_with_n;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "all_paths": [
      "attribute",
      "attribute.name"
    ],
    "field_starts_with_n": [
      "attribute.name"
    ],
    "path_starts_with_n": []
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="obj-paths-ex4" class="exampleblock">
<div class="title">Complex example</div>
<div class="content">
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/objectfun.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT OBJECT_PATHS(hotel, {"composites": false, "arraysubscript": false}) AS paths
FROM hotel
LIMIT 1;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "paths": [
      "address",
      "alias",
      "checkin",
      "checkout",
      "city",
      "country",
      "description",
      "directions",
      "email",
      "fax",
      "free_breakfast",
      "free_internet",
      "free_parking",
      "geo.accuracy",
      "geo.lat",
      "geo.lon",
      "id",
      "name",
      "pets_ok",
      "phone",
      "price",
      "public_likes",
      "reviews[*].author",
      "reviews[*].content",
      "reviews[*].date",
      "reviews[*].ratings[*].Cleanliness",
      "reviews[*].ratings[*].Location",
      "reviews[*].ratings[*].Overall",
      "reviews[*].ratings[*].Rooms",
      "reviews[*].ratings[*].Service",
      "reviews[*].ratings[*].Value",
      "reviews[*].ratings[*].`Business service (e.g., internet access)`",
      "reviews[*].ratings[*].`Check in / front desk`",
      "state",
      "title",
      "tollfree",
      "type",
      "url",
      "vacancy"
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fn-obj-put"><a class="anchor" href="#fn-obj-put"></a>OBJECT_PUT(<code>object</code>, <code>attr_key</code>, <code>attr_value</code>)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="description-11"><a class="anchor" href="#description-11"></a>Description</h3>
<div class="paragraph">
<p>This function adds new or updates existing attributes and values to a given object.</p>
</div>
</div>
<div class="sect2">
<h3 id="arguments-11"><a class="anchor" href="#arguments-11"></a>Arguments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">object</dt>
<dd>
<p>An expression representing an object.</p>
</dd>
<dt class="hdlist1">attr_key</dt>
<dd>
<p>The name of the attribute to insert or update.</p>
</dd>
<dt class="hdlist1">attr_value</dt>
<dd>
<p>The value of the attribute.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="return-value-11"><a class="anchor" href="#return-value-11"></a>Return Value</h3>
<div class="paragraph">
<p>The updated object.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code class="var">attr_key</code> is found in the object, it replaces the corresponding attribute value by <code class="var">attr_value</code>.</p>
</li>
<li>
<p>If <code class="var">attr_value</code> is MISSING, it deletes the corresponding existing key (if any), like <a href="#fn-obj-remove">OBJECT_REMOVE()</a>.</p>
</li>
<li>
<p>If <code class="var">attr_key</code> is MISSING, it returns a MISSING value.</p>
</li>
<li>
<p>If <code class="var">attr_key</code> is not an object, it returns a NULL value.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="examples-11"><a class="anchor" href="#examples-11"></a>Examples</h3>
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/objectfun.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div id="obj-put-ex" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT schedule[0] AS original,
       OBJECT_PUT(schedule[0], "day", 1) AS output
FROM route
LIMIT 1;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "original": {
      "day": 0,
      "flight": "AF198",
      "utc": "10:13:00"
    },
    "output": {
      "day": 1,
      "flight": "AF198",
      "utc": "10:13:00"
    }
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fn-obj-rename"><a class="anchor" href="#fn-obj-rename"></a>OBJECT_RENAME(<code>input_obj</code>, <code>old_field</code>, <code>new_field</code>)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="description-12"><a class="anchor" href="#description-12"></a>Description</h3>
<div class="paragraph">
<p>Renames the attribute <code>old_field</code> to <code>new_field</code> in the JSON input object <code>input_obj</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="arguments-12"><a class="anchor" href="#arguments-12"></a>Arguments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">input_obj</dt>
<dd>
<p>Any JSON object, or SQL++ expression that can evaluate to a JSON object, representing the search object.</p>
</dd>
<dt class="hdlist1">old_field</dt>
<dd>
<p>A string, or any valid <a href="index.html" class="xref page">expression</a> which evaluates to a string, representing the old (original) attribute name inside the JSON object <code>input_obj</code>.</p>
</dd>
<dt class="hdlist1">new_field</dt>
<dd>
<p>A string, or any valid <a href="index.html" class="xref page">expression</a> which evaluates to a string, representing the new attribute name to replace <code>old_field</code> inside the JSON object <code>input_obj</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="return-value-12"><a class="anchor" href="#return-value-12"></a>Return Value</h3>
<div class="paragraph">
<p>The input object with the new attribute name.
Note that if the new attribute name already exists in the input object, the original attribute with that name is replaced.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-12"><a class="anchor" href="#examples-12"></a>Examples</h3>
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/objectfun.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div id="obj-rename-ex" class="exampleblock">
<div class="title">Changing a field name</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT t AS original,
       OBJECT_RENAME(t, "name", "new_name") AS output
FROM airline AS t
LIMIT 1;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "original": {
      "callsign": "MILE-AIR",
      "country": "United States",
      "iata": "Q5",
      "icao": "MLA",
      "id": 10,
      "name": "40-Mile Air",
      "type": "airline"
    },
    "output": {
      "callsign": "MILE-AIR",
      "country": "United States",
      "iata": "Q5",
      "icao": "MLA",
      "id": 10,
      "new_name": "40-Mile Air",
      "type": "airline"
    }
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fn-obj-remove"><a class="anchor" href="#fn-obj-remove"></a>OBJECT_REMOVE(<code>object</code>, <code>attr_key</code>)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="description-13"><a class="anchor" href="#description-13"></a>Description</h3>
<div class="paragraph">
<p>This function removes the specified attribute and corresponding values from the given object.</p>
</div>
</div>
<div class="sect2">
<h3 id="attributes"><a class="anchor" href="#attributes"></a>Attributes</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">object</dt>
<dd>
<p>An expression representing an object.</p>
</dd>
<dt class="hdlist1">attr_key</dt>
<dd>
<p>The name of the attribute to remove.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="return-value-13"><a class="anchor" href="#return-value-13"></a>Return Value</h3>
<div class="paragraph">
<p>The input object without the removed attribute.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the <code class="var">attr_key</code> is MISSING, it returns a MISSING value.</p>
</li>
<li>
<p>If the <code class="var">attr_key</code> is not an object, it returns a NULL value.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="examples-13"><a class="anchor" href="#examples-13"></a>Examples</h3>
<div id="obj-remove-ex1" class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/objectfun.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT schedule[0] AS original,
       OBJECT_REMOVE(schedule[0], "day") AS output
FROM route
LIMIT 1;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "original": {
      "day": 0,
      "flight": "AF198",
      "utc": "10:13:00"
    },
    "output": {
      "flight": "AF198",
      "utc": "10:13:00"
    }
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="obj-remove-ex2" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT OBJECT_REMOVE({"abc": 1, "def": 2, "ghi": 3}, "def");</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "$1": {
      "abc": 1,
      "ghi": 3
    }
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fn-obj-replace"><a class="anchor" href="#fn-obj-replace"></a>OBJECT_REPLACE(<code>input_obj</code>, <code>old_value</code>, <code>new_value</code>)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="description-14"><a class="anchor" href="#description-14"></a>Description</h3>
<div class="paragraph">
<p>Replaces all occurrences of the value <code>value_old</code> to <code>value_new</code> in the JSON input object <code>input_obj</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="arguments-13"><a class="anchor" href="#arguments-13"></a>Arguments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">input_obj</dt>
<dd>
<p>Any JSON object, or SQL++ expression that can evaluate to a JSON object, representing the search object.</p>
</dd>
<dt class="hdlist1">old_value</dt>
<dd>
<p>A string, or any valid <a href="index.html" class="xref page">expression</a> which evaluates to a string, representing the old (original) value name inside the JSON object <code>input_obj</code>.</p>
</dd>
<dt class="hdlist1">new_value</dt>
<dd>
<p>A string, or any valid <a href="index.html" class="xref page">expression</a> which evaluates to a string, representing the new value name to replace <code>old_value</code> inside the JSON object <code>input_obj</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="return-value-14"><a class="anchor" href="#return-value-14"></a>Return Value</h3>
<div class="paragraph">
<p>The JSON object <code>input_obj</code> with replaced values.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-14"><a class="anchor" href="#examples-14"></a>Examples</h3>
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/objectfun.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div id="obj-replace-ex" class="exampleblock">
<div class="title">Replace any occurrences of "airline" with "airplane"</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT t AS original,
       OBJECT_REPLACE(t, "airline", "airplane") AS output
FROM airline AS t
LIMIT 1;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "original": {
      "callsign": "MILE-AIR",
      "country": "United States",
      "iata": "Q5",
      "icao": "MLA",
      "id": 10,
      "name": "40-Mile Air",
      "type": "airline"
    },
    "output": {
      "callsign": "MILE-AIR",
      "country": "United States",
      "iata": "Q5",
      "icao": "MLA",
      "id": 10,
      "name": "40-Mile Air",
      "type": "airplane"
    }
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fn-obj-unwrap"><a class="anchor" href="#fn-obj-unwrap"></a>OBJECT_UNWRAP(<code>expression</code>)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="description-15"><a class="anchor" href="#description-15"></a>Description</h3>
<div class="paragraph">
<p>This function enables you to unwrap an object without knowing the name of the attribute.</p>
</div>
</div>
<div class="sect2">
<h3 id="arguments-14"><a class="anchor" href="#arguments-14"></a>Arguments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">expression</dt>
<dd>
<p>An expression representing an object.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="return-value-15"><a class="anchor" href="#return-value-15"></a>Return Value</h3>
<div class="paragraph">
<p>If the argument is an object with exactly one attribute, this function returns the value in the attribute.
If the argument is MISSING, it returns MISSING.
For all other cases, it returns NULL.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-15"><a class="anchor" href="#examples-15"></a>Examples</h3>
<div id="obj-unwrap-ex" class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT OBJECT_UNWRAP({"name": "value"}) AS single,
       OBJECT_UNWRAP({"name": MISSING}) AS `missing`,
       OBJECT_UNWRAP({"name": "value", "name2": "value2"}) AS multiple,
       OBJECT_UNWRAP("some-string") AS `string`;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "missing": null,
    "multiple": null,
    "single": "value",
    "string": null
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fn-obj-values"><a class="anchor" href="#fn-obj-values"></a>OBJECT_VALUES(<code>expression</code>)</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Alias</em>: <strong>OBJECT_OUTER_VALUES(<code>expression</code>)</strong></p>
</div>
<div class="sect2">
<h3 id="description-16"><a class="anchor" href="#description-16"></a>Description</h3>
<div class="paragraph">
<p>This function returns an array, containing the values of each attribute in the input object.
It is particularly useful when iterating over multiple objects in an array, as it collates the values from similarly-named attributes into a single nested array.</p>
</div>
<div class="paragraph">
<p>In this case, the function returns a null entry from any object which does not contain the shared attribute name, rather like an OUTER JOIN.
For an illustration, refer to the examples below.</p>
</div>
</div>
<div class="sect2">
<h3 id="arguments-15"><a class="anchor" href="#arguments-15"></a>Arguments</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">expression</dt>
<dd>
<p>An expression representing an object.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="return-value-16"><a class="anchor" href="#return-value-16"></a>Return Value</h3>
<div class="paragraph">
<p>An array of the values contained within the source object.
The values in the array are sorted by the corresponding attribute names in the source object, in SQL++ collation order.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-16"><a class="anchor" href="#examples-16"></a>Examples</h3>
<div id="obj-values-ex1" class="exampleblock">
<div class="title">Single object</div>
<div class="content">
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">SELECT OBJECT_VALUES({"flight": "AI444", "utc": "4:44:44", "codename": "green"})
    AS outer_values;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "outer_values": [
      "green",
      "AI444",
      "4:44:44"
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div id="obj-values-ex2" class="exampleblock">
<div class="title">Iterating over objects in an array</div>
<div class="content">
<div class="paragraph">
<p>In this example, notice that where the source objects have similarly-named attributes, the values from each of those attributes are collated into a single array in the output.</p>
</div>
<div class="listingblock">
<div class="title">Query</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">WITH special_flights AS ([{"flight": "AI444", "utc": "4:44:44", "codename": "green"},
                          {"flight": "AI333", "utc": "3:33:33", "alert": "red"},
                          {"flight": "AI222", "utc": "2:22:22", "codename": "yellow"}])
SELECT OBJECT_VALUES(special_flights[*]) AS outer_values;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Results</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "outer_values": [
      [
        null,
        "red",
        null
      ],
      [
        "green",
        null,
        "yellow"
      ],
      [
        "AI444",
        "AI333",
        "AI222"
      ],
      [
        "4:44:44",
        "3:33:33",
        "2:22:22"
      ]
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../../_/js/site.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
</body>
</html>
