<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="436px" preserveAspectRatio="none" style="width:445px;height:436px;background:#FFFFFF;" version="1.1" viewBox="0 0 445 436" width="445px" zoomAndPan="magnify"><defs><filter height="300%" id="f15r692be5zqps" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#008080" filter="url(#f15r692be5zqps)" height="261.4001" style="stroke:#A80036;stroke-width:1.0;" width="10" x="167" y="92"/><rect fill="#00BFFF" filter="url(#f15r692be5zqps)" height="54.6" style="stroke:#A80036;stroke-width:1.0;" width="10" x="345" y="179.8"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="48" x2="48" y1="44.7999" y2="389.0001"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="171.5" x2="171.5" y1="44.7999" y2="389.0001"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="350" x2="350" y1="44.7999" y2="389.0001"/><rect fill="#FEFECE" filter="url(#f15r692be5zqps)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="82" x="5" y="9"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="12" y="29.9999">Application</text><rect fill="#FEFECE" filter="url(#f15r692be5zqps)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="82" x="5" y="388.0001"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="12" y="409">Application</text><rect fill="#FEFECE" filter="url(#f15r692be5zqps)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="99" x="122.5" y="5"/><rect fill="#FEFECE" filter="url(#f15r692be5zqps)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="99" x="118.5" y="9"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="125.5" y="29.9999">Query Engine</text><rect fill="#FEFECE" filter="url(#f15r692be5zqps)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="99" x="122.5" y="388.0001"/><rect fill="#FEFECE" filter="url(#f15r692be5zqps)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="99" x="118.5" y="392.0001"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="125.5" y="413">Query Engine</text><rect fill="#FEFECE" filter="url(#f15r692be5zqps)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="60" x="320" y="5"/><rect fill="#FEFECE" filter="url(#f15r692be5zqps)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="60" x="316" y="9"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="323" y="29.9999">Indexer</text><rect fill="#FEFECE" filter="url(#f15r692be5zqps)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="60" x="320" y="388.0001"/><rect fill="#FEFECE" filter="url(#f15r692be5zqps)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="60" x="316" y="392.0001"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="323" y="413">Indexer</text><rect fill="#008080" filter="url(#f15r692be5zqps)" height="261.4001" style="stroke:#A80036;stroke-width:1.0;" width="10" x="167" y="92"/><rect fill="#00BFFF" filter="url(#f15r692be5zqps)" height="54.6" style="stroke:#A80036;stroke-width:1.0;" width="10" x="345" y="179.8"/><polygon fill="#A80036" points="155,88,165,92,155,96,159,92" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="48" x2="161" y1="92" y2="92"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="55" y="71.7999">SELECT</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="55" y="87.4">statement</text><line style="stroke:#00000000;stroke-width:1.0;" x1="177" x2="219" y1="137.2" y2="137.2"/><line style="stroke:#00000000;stroke-width:1.0;" x1="219" x2="219" y1="137.2" y2="150.2"/><line style="stroke:#00000000;stroke-width:1.0;" x1="178" x2="219" y1="150.2" y2="150.2"/><polygon points="188,146.2,178,150.2,188,154.2,184,150.2" style="stroke:#00000000;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="184" y="117">Analyze query; send scan</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="184" y="132.6">request</text><polygon fill="#A80036" points="333,175.8,343,179.8,333,183.8,337,179.8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="177" x2="339" y1="179.8" y2="179.8"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="184" y="175.2">Scan request</text><line style="stroke:#00000000;stroke-width:1.0;" x1="355" x2="397" y1="209.4" y2="209.4"/><line style="stroke:#00000000;stroke-width:1.0;" x1="397" x2="397" y1="209.4" y2="222.4"/><line style="stroke:#00000000;stroke-width:1.0;" x1="356" x2="397" y1="222.4" y2="222.4"/><polygon points="366,218.4,356,222.4,366,226.4,362,222.4" style="stroke:#00000000;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="362" y="204.8">Execute scan</text><polygon fill="#A80036" points="188,230.4,178,234.4,188,238.4,184,234.4" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="182" x2="349" y1="234.4" y2="234.4"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="199" y="248.4">Projection of results from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="316" y="264">scan</text><line style="stroke:#00000000;stroke-width:1.0;" x1="177" x2="219" y1="328.4001" y2="328.4001"/><line style="stroke:#00000000;stroke-width:1.0;" x1="219" x2="219" y1="328.4001" y2="341.4001"/><line style="stroke:#00000000;stroke-width:1.0;" x1="178" x2="219" y1="341.4001" y2="341.4001"/><polygon points="188,337.4001,178,341.4001,188,345.4001,184,341.4001" style="stroke:#00000000;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="184" y="292.6">Perform sub-group,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="184" y="308.2001">grouping and aggregation;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="184" y="323.8001">project the results</text><polygon fill="#A80036" points="59,349.4001,49,353.4001,59,357.4001,55,353.4001" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="53" x2="171" y1="353.4001" y2="353.4001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="70" y="367.4001">Result projection</text><!--MD5=[947a9c4d0cf7f824d1c977106f0ecf8a]
@startuml
skinparam maxMessageSize 150
skinparam responseMessageBelowArrow true
skinparam sequenceMessageAlign direction

' title Query Execution without Grouping and Aggregation Pushdown

participant Application

collections "Query Engine" as Query
collections "Indexer" as Index

Application -> Query: SELECT\nstatement
activate Query #teal

Query -[#transparent]> Query: Analyze query; send scan request
Query -> Index: Scan request
activate Index #deepskyblue

Index -[#transparent]> Index: Execute scan
Index -> Query: Projection of results from scan
deactivate Index

Query -[#transparent]> Query: Perform sub-group, grouping and aggregation; project the results
Query -> Application: Result projection
deactivate Query
@enduml

@startuml
skinparam maxMessageSize 150
skinparam responseMessageBelowArrow true
skinparam sequenceMessageAlign direction


participant Application

collections "Query Engine" as Query
collections "Indexer" as Index

Application -> Query: SELECT\nstatement
activate Query #teal

Query -[#transparent]> Query: Analyze query; send scan request
Query -> Index: Scan request
activate Index #deepskyblue

Index -[#transparent]> Index: Execute scan
Index -> Query: Projection of results from scan
deactivate Index

Query -[#transparent]> Query: Perform sub-group, grouping and aggregation; project the results
Query -> Application: Result projection
deactivate Query
@enduml

PlantUML version 1.2021.16(Wed Dec 08 17:25:22 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>