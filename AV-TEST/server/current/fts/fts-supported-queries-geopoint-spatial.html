<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>Geospatial Geopoint Queries | Couchbase Docs</title>
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/fts/fts-supported-queries-geopoint-spatial.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/fts/pages/fts-supported-queries-geopoint-spatial.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb"><a href="fts-introduction.html">Search</a></li>
<li class="crumb"><a href="fts-supported-queries.html">Supported Queries</a></li>
<li class="crumb"><a href="fts-supported-queries-geospatial.html">Geo Spatial Queries</a></li>
<li class="crumb"><a href="fts-supported-queries-geopoint-spatial.html">Geopoint Queries</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Geospatial Geopoint Queries</h1>
<div class="labels">
<ul></ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
<em>Geospatial</em> geopoint queries return documents that contain location. Each document specifies a geographical location.
</blockquote>
</div>
<div class="paragraph">
<p>A <em>geospatial geopoint query</em> specifies an area and returns each document that contains a reference to a location within the area.
Areas and locations are represented by  <em>latitude</em>-<em>longitude</em> coordinate pairs.</p>
</div>
<div class="paragraph">
<p>The location data provided by a geospatial geopoint query can be any of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A location, is specified as a longitude-latitude coordinate pair; and a distance.
The location determines the center of a circle whose radius-length is the specified distance.
Documents are returned if they reference a location within the circle. For details of the units and formats in which distances can be specified, see <a href="#specifying-distances">Specifying Distances</a>.</p>
</li>
<li>
<p>Two latitude-longitude coordinate pairs.
These are respectively taken to indicate the top left and bottom right corners of a <em>rectangle</em>.
Documents are returned if they reference a location within the area of the rectangle.</p>
</li>
<li>
<p>An array of three or more latitude-longitude coordinate pairs.
Each of the pairs is taken to indicate one corner of a <em>polygon</em>.
Documents are returned if they reference a location within the area of the polygon.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A geospatial geopoint query must be applied to an index that uses the <em>geopoint</em> type mapping to the document-field that contains the target longitude-latitude coordinate pair.</p>
</div>
<div class="paragraph">
<p>To be successful, a geospatial geopoint query must reference an index within which the <em>geopoint</em> type mapping has been applied to the field containing the target latitude-longitude coordinate pair.</p>
</div>
<div class="paragraph">
<p>Geospatial queries return <em>all</em> documents whose locations are within the query-specified area.
To specify <em>holes</em> within the area so that one or more subsets of returned documents can be omitted from the final results, boolean queries should be applied to the set of documents returned by the geospatial geopoint query.
See <a href="fts-supported-queries.html" class="xref page">Supported Queries</a>.</p>
</div>
<div class="paragraph">
<p>Latitude-longitude coordinate pairs can be specified in multiple ways, including as <em>geohashes</em>; as demonstrated in <a href="#specifying-coordinates">Specifying Coordinates</a>, below.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="recognizing_target_data"><a class="anchor" href="#recognizing_target_data"></a>Recognizing Target Data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>travel-sample</code> bucket, provided for test and development, contains multiple documents that specify locations.
For example, those that represent airports, such as <code>airport_1254</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "airportname": "Calais Dunkerque",
  "city": "Calais",
  "country": "France",
  "faa": "CQF",
  "geo": {
    "alt": 12,
    "lat": 50.962097,
    "lon": 1.954764
  },
  "icao": "LFAC",
  "id": 1254,
  "type": "airport",
  "tz": "Europe/Paris"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>geo</code> field contains the <code>lon</code> and <code>lat</code> key-value pairs.
Note that the <code>geo</code> field needs to contain the longitude-latitude information in the form of a string (comma separated numeric content or a hash), array, or object.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>String syntax: <code>"lat,lon"</code>, <code>"geohash"</code></p>
</li>
<li>
<p>Array syntax: <code>[lon, lat]</code> (where lon and lat are both floating point integers)</p>
</li>
<li>
<p>Object syntax: <code>{"lon" : 0.0, "lat": 0.0}</code>, <code>{"lng": 0.0, "lat": 0.0}</code> (note that these are the only accepted field names for longitude and latitude)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Moreover, any other child-fields, such as <code>alt</code> (in the above example) - are ignored.</p>
</div>
<div class="paragraph">
<p>For information on installing the <code>travel-sample</code> bucket, see <a href="../manage/manage-settings/install-sample-buckets.html" class="xref page">Sample Buckets</a>.</p>
</div>
<div class="sect2">
<h3 id="specifying-coordinates"><a class="anchor" href="#specifying-coordinates"></a>Specifying Coordinates</h3>
<div class="paragraph">
<p>Each latitude-longitude coordinate can be expressed by means of any of the following.</p>
</div>
<div class="sect3">
<h4 id="two-key-value-pairs"><a class="anchor" href="#two-key-value-pairs"></a>Two Key-Value Pairs</h4>
<div class="paragraph">
<p>An individual latitude-longitude coordinate can be expressed by means of an object containing two key-value pairs.
For example, the central location for a radius-based area can be expressed as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"location": {
       "lon": -2.235143,
       "lat": 53.482358
     }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where multiple coordinates are required, for the specifying of a polygon, an array of such objects can be specified, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"polygon_points": [
  { “lat”: 37.79393211306212, “lon”: -122.44234633404847 },
  { “lat”: 37.77995881733997, “lon”: -122.43977141339417 },
  { “lat”: 37.788031092020155, “lon”: -122.4292571540557 },
  { “lat”: 37.79026946582319, “lon”: -122.41149020154114 },
  { “lat”: 37.79571192027403, “lon”: -122.40735054016113 },
  { “lat”: 37.79393211306212, “lon”: -122.44234633404847 }
]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a-string-containing-two-floating-point-numbers"><a class="anchor" href="#a-string-containing-two-floating-point-numbers"></a>A String, Containing Two Floating-Point Numbers</h4>
<div class="paragraph">
<p>An individual latitude-longitude coordinate can be expressed as a string containing two floating-point numbers &#8212; the first signifying latitude, the second longitude.
For example, the center of a circle can be specified as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"location": "53.482358,-2.235143"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where multiple coordinates are required, for the specifying of a polygon, an array of such strings can be specified, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"polygon_points": [
  "37.79393211306212,-122.44234633404847",
  "37.77995881733997,-122.43977141339417",
  "37.788031092020155,-122.42925715405579",
  "37.79026946582319,-122.41149020154114",
  "37.79571192027403,-122.40735054016113",
  "37.79393211306212,-122.44234633404847"
]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="an-array-of-floating-point-numbers"><a class="anchor" href="#an-array-of-floating-point-numbers"></a>An Array of Two Floating-Point Numbers</h4>
<div class="paragraph">
<p>An individual latitude-longitude coordinate can be expressed as an array of two floating-point numbers &#8212; the first signifying longitude, the second latitude.
For example, the top left corner of a rectangle can be specified as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">"top_left": [ -2.235143, 53.482358 ]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where multiple coordinates are required, for the specifying of a polygon, an array of such arrays can be specified, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"polygon_points": [
  [ -122.44234633404847, 37.79393211306212 ],
  [ -122.43977141339417, 37.77995881733997 ],
  [ -122.42925715405579, 37.78803109202015 ],
  [ -122.41149020154114, 37.79026946582319 ],
  [ -122.40735054016113, 37.79571192027403 ],
  [ -122.44234633404847, 37.79393211306212 ]
]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="a-geohash"><a class="anchor" href="#a-geohash"></a>A Geohash</h4>
<div class="paragraph">
<p>A latitude-longitude coordinate can be expressed by means of a single <a href="https://en.wikipedia.org/wiki/Geohash">Geohash</a> encoding.
For example, the bottom right corner of a rectangle can be specified as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"bottom_right": "gcw2m0hmm6hs"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where multiple coordinates are required, for the specifying of a polygon, an array of geohashes can be specified, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"polygon_points": [
  “9q8zjbkp”,
  “9q8yvvdh”,
  “9q8yyp1e”,
  “9q8yyrw8”,
  “9q8zn83x”,
  “9q8zjb0j”
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Means of latitude-longitude conversion to and from this format are provided at <a href="http://geohash.co/">Geohash Converter</a>.
Additional information, including on the <em>precision</em> of values specified in this format, is provided at <a href="https://www.movable-type.co.uk/scripts/geohash.html">Movable Type Scripts &#8212; Geohashes</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="specifying-distances"><a class="anchor" href="#specifying-distances"></a>Specifying Distances</h3>
<div class="paragraph">
<p>Multiple unit-types can be used to express distance.
These are listed in the table below, with the strings that specify them in REST queries.</p>
</div>
<table id="geospatial-distance-units" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Units</th>
<th class="tableblock halign-left valign-top">Specify with</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">inches</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>in</code> or <code>inch</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">feet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ft</code> or <code>feet</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">yards</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>yd</code> or <code>yards</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">miles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mi</code> or <code>miles</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nautical miles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nm</code> or <code>nauticalmiles</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">millimeters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mm</code> or <code>millimeters</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">centimeters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cm</code> or <code>centimeters</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">meters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>m</code> or <code>meters</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">kilometers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>km</code> or <code>kilometers</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The integer used to specify the number of units must precede the unit-name, with no space left in-between.
For example, <em>five inches</em> can be specified either by the string <code>"5in"</code>, or by the string <code>"5inches"</code>; while <em>thirteen nautical miles</em> can be specified as either <code>"13nm"</code> or <code>"13nauticalmiles"</code>.</p>
</div>
<div class="paragraph">
<p>If the unit cannot be determined, the entire string is parsed, and the distance is assumed to be in <em>meters</em>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating_a_geospatial_geopoint_index"><a class="anchor" href="#creating_a_geospatial_geopoint_index"></a>Creating a Geospatial Index (type geopoint)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To be successful, a geospatial geopoint query must reference an index that applies the <em>geopoint</em> type mapping to the field containing the latitude-longitude coordinate pair.
This can be achieved with Couchbase Web Console, or with the REST endpoints provided for managing <a href="../rest-api/rest-fts-indexing.html" class="xref page">Indexes</a>.
Detailed instructions for setting up indexes, and specifying type mappings, are provided in <a href="fts-creating-indexes.html" class="xref page">Creating Indexes</a>.</p>
</div>
<div class="paragraph">
<p>For initial experimentation with geospatial geopoint querying (based on the type geopoint), the <code>geo</code> field of documents within the <code>travel-sample</code> bucket can be specified as a child field of the <code>default</code> type mapping (keyspace <code>travel-sample._default._default</code> as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Click the <strong>Add Index</strong> link in the upper right of the <strong>Couchbase Web Console</strong> &gt; <strong>Search</strong> page.</p>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-add-initial.png" alt="fts add initial" width="600">
</div>
</div>
</li>
<li>
<p>To define any index on which Full Text Search a unique name for the index in the <strong>Index Name</strong> field, on the upper-left. Note that only alphanumeric characters, hyphens, and underscores are allowed for index names and the first character of the name must be alphabetic.</p>
<div class="paragraph">
<p>Enter <strong>test_geopoint</strong> as the name of the Search index you are creating in the <strong>Index Name</strong> text-box.</p>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-index-name-geopoint.png" alt="fts index name geopoint" width="450">
</div>
</div>
</li>
<li>
<p>Select the bucket <strong>travel-sample</strong> from the <strong>Bucket</strong> pull-down menu.</p>
<div class="paragraph">
<p>Use the pull-down menu provided for the Bucket field, on the upper-right, and select a bucket that you are allowed to access to via the cluster&#8217;s RBAC settings.</p>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-index-name-and-bucket-geopoint.png" alt="fts index name and bucket geopoint" width="450">
</div>
</div>
</li>
<li>
<p>Select the checkbox <strong>[X] Use non-default scope/collections</strong></p>
<div class="paragraph">
<p>This allows your index to stream mutations from one or more non-default collections under the selected bucket and scope.</p>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-select-geopoint-scope-collections.png" alt="fts select geopoint scope collections" width="450">
</div>
</div>
</li>
<li>
<p>You will see a newly visible pull-down menu provided for the <strong>Scope</strong> field, under the <strong>[X] Use non-default scope/collections</strong> checkbox, and select a bucket that you are allowed to access to via the cluster&#8217;s RBAC settings.</p>
<div class="paragraph">
<p>For this example leave the setting as <strong>_default</strong> which is used to migrate bucket based data into the collections paradigm.</p>
</div>
</li>
<li>
<p>Under <strong>Type Mapings</strong>, unselect the checkbox <strong>[ ]  default | dynamic</strong>.</p>
<div class="paragraph">
<p>This is required as this type mapping (the default mapping) is only valid for the &lt;bucket&gt;._default._default which is typically used to upgrade a 6.X server from a bucket into a more powerful collections paradigm.  In this example we will do the equivalent but on a per collections basis.</p>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-uncheck-default-mapping.png" alt="fts uncheck default mapping" width="600">
</div>
</div>
</li>
<li>
<p>Click on the button <strong>+ Add Type Mapping</strong></p>
<div class="ulist">
<ul>
<li>
<p>A new section with a <strong>Collection</strong> pull-down, <strong>Analyzer</strong> pull-down and a <strong>[ ] only index specified fields</strong> checkbox will appear.</p>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-index-menu1-nondefault-empty.png" alt="fts index menu1 nondefault empty" width="600">
</div>
</div>
</li>
<li>
<p>Select <strong>_default</strong> from the <strong>Collection</strong> pull-down, note the pull down will change to a text field prefilled with <strong>_default._default</strong></p>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-index-menu1-geopoint-filled.png" alt="fts index menu1 geopoint filled" width="600">
</div>
</div>
</li>
<li>
<p>Leave the <strong>[&#160;&#160;] only index specified fields</strong> checkbox blank or unset.</p>
<div class="paragraph">
<p>This will index all fields in the scope <strong>_default</strong> collection <strong>_default</strong>, however not this is not recommended for large production datasets.</p>
</div>
</li>
<li>
<p>Click on the blue <strong>ok</strong> at the right of the section to save this mapping.</p>
</li>
<li>
<p>Hover over your newly created/saved row</p>
</li>
<li>
<p>Click on the blue <strong>+</strong> button the right side of the row.</p>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-index-menu1-geopoint-hover.png" alt="fts index menu1 geopoint hover" width="600">
</div>
</div>
</li>
<li>
<p>A context menu of "insert child mapping" (for sub-objects) and "insert child field" (for properties) will appear.</p>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-index-menu2-geopoint-empty.png" alt="fts index menu2 geopoint empty" width="600">
</div>
</div>
</li>
<li>
<p>Select <strong>insert child field</strong></p>
</li>
<li>
<p>another row menu will appear with the following controls: "field", "type", "text", "searchable as", "analyzer" "inherit", "index", "store", "include in _all field", "include term vectors", and "docvalues".</p>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-index-menu2-geopoint-filled.png" alt="fts index menu2 geopoint filled" width="600">
</div>
</div>
</li>
<li>
<p>Set the text box <strong>field</strong> to <strong>geo</strong>, this will also update "searchable as" to <strong>geo</strong>.</p>
</li>
<li>
<p>Change the pull-down <strong>type</strong> to <strong>geopoint</strong>.</p>
<div class="paragraph">
<p>By configuring the child field information form, specifically identify the object <strong>geo</strong> as type <strong>geopoint</strong> this will tell the Search indexer to recognize top level sub-objects like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">  "geo": {
    "lat": 53.48253,
    "lon": -2.23527,
    "accuracy": "ROOFTOP"
  },</code></pre>
</div>
</div>
</li>
<li>
<p>Check <strong>[X]</strong> the boxes "store" and "include in _all field"</p>
</li>
<li>
<p>Click on the blue <strong>ok</strong> at the right of the section to save this sub-form.</p>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-index-menu2-geopoint-filled.png" alt="fts index menu2 geopoint filled" width="600">
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Save your index, left-click on the <strong>Create Index</strong> button near the bottom of the screen.</p>
<div class="paragraph">
<p>This is all you need to specify in order to create a more advanced index for test and development. No further configuration is required.</p>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-index-create-button.png" alt="fts index create button" width="450">
</div>
</div>
</li>
<li>
<p>If you subsequently Edit your Index it should look like the following:</p>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-edit-index-geopoint.png" alt="fts edit index geopoint" width="600">
</div>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Indexing all fields as above indexes across all fields is not recommended for production environments since it creates indexes that may be unnecessarily large, and therefore insufficiently performant.
However this index can be edited and optimized if you check <strong>[X] only index specified fields</strong> under the Type Mappings section.
This will result in a much smaller index and a faster index build since only the field <strong>geo</strong> will be indexed in the set of documents.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The index once created can also be accessed by means of the Search REST API
see <a href="fts-searching-with-curl-http-requests.html" class="xref page">Searching with the REST API</a>.  Furthermore the index could have been created in the first place via the Search REST API see <a href="fts-creating-index-with-rest-api.html" class="xref page">Index Creation with REST API</a> for more information on using the Search REST API syntax.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating_geopoint_rest_query_radius_based"><a class="anchor" href="#creating_geopoint_rest_query_radius_based"></a>Creating a Query: Radius-Based</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section and those following, provide examples of the query-bodies required to make geospatial queries with the Couchbase REST API.
Note that more detailed information on performing queries with the Couchbase REST API can be found in <a href="#fts-searching-with-the-rest-api.adoc" class="xref unresolved">Searching with the REST API</a>; which shows how to use the full <code>curl</code> command and how to incorporate query-bodies into it.</p>
</div>
<div class="paragraph">
<p>The following query-body specifies a longitude of <code>-2.235143</code> and a latitude of <code>53.482358</code>.
The target-field <code>geo</code> is specified, as is a <code>distance</code> of <code>100</code> miles: this is the radius within which target-locations must reside for their documents to be returned.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "from": 0,
  "size": 10,
  "query": {
    "location": {
      "lon": -2.235143,
      "lat": 53.482358
     },
      "distance": "100mi",
      "field": "geo"
    },
  "sort": [
    {
      "by": "geo_distance",
      "field": "geo",
      "unit": "mi",
      "location": {
      "lon": -2.235143,
      "lat": 53.482358
      }
    }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above query contains a <code>sort</code> object, which specifies that the returned documents should be ordered in terms of their <em>geo_distance</em> from specified <code>lon</code> and <code>lat</code> coordinates: these values need not be identical to those specified in the <code>query</code> object.</p>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-geopoint-search_01.png" alt="fts geopoint search 01" width="550">
</div>
</div>
<div class="paragraph">
<p>You can cut-n-paste the above Search body definition into the text area that says "search this index&#8230;&#8203;"</p>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-geopoint-search_02.png" alt="fts geopoint search 02" width="550">
</div>
</div>
<div class="paragraph">
<p>Once pasted hit the <strong>Search</strong> button and the UI will show the first 10 hits</p>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-geopoint-search_03.png" alt="fts geopoint search 03">
</div>
</div>
<div class="paragraph">
<p>The console allows searches performed via the UI to be translated dynamically into cURL examples.
To create a cURL command to do this first check <strong>[X] show advanced query settings</strong> and then check <strong>[X] show command-line query example</strong>.</p>
</div>
<div class="paragraph">
<p>You should have a cURL command similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">curl -XPOST -H "Content-Type: application/json" \
-u &lt;username&gt;:&lt;password&gt; http://localhost:8094/api/index/test_geopoint/query \
-d '{
  "from": 0,
  "size": 10,
  "query": {
    "location": {
      "lon": -2.235143,
      "lat": 53.482358
    },
    "distance": "100mi",
    "field": "geo"
  },
  "sort": [
    {
      "by": "geo_distance",
      "field": "geo",
      "unit": "mi",
      "location": {
        "lon": -2.235143,
        "lat": 53.482358
      }
    }
  ]
}'</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you copy and then run the above cURL command via the console the response from the Search service will report that there are 847 total_hits but only return the first 10 hits.  A subset of formatted console output might appear as follows:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To pretty print the response just pipe the output through the utility <strong><a href="http://stedolan.github.io/jq">jq</a></strong> to enhance readability.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"hits": [
  {
    "index": "test_geopoint_7d088ca77bbecbe2_4c1c5584",
    "id": "landmark_17411",
    "score": 0.025840756648257503,
    "sort": [
      " \u0001?E#9&gt;N\f\"e"
    ]
  },
  {
    "index": "test_geopoint_7d088ca77bbecbe2_4c1c5584",
    "id": "landmark_17409",
    "score": 0.025840756648257503,
    "sort": [
      " \u0001?O~i*(kD,"
    ]
  },
  {
    "index": "test_geopoint_7d088ca77bbecbe2_4c1c5584",
    "id": "landmark_17403",
    "score": 0.025840756648257503,
    "sort": [
      " \u0001?Sg*|/t\u001f\u0002"
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating_geoppoint_rest_query_bounding_box_based"><a class="anchor" href="#creating_geoppoint_rest_query_bounding_box_based"></a>Creating a Query: Rectangle-Based</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the following query-body, the <code>top_left</code> of a rectangle is expressed by means of an array of two floating-point numbers, specifying a longitude of <code>-2.235143</code> and a latitude of <code>53.482358</code>.
The <code>bottom_right</code> is expressed by means of key-value pairs, specifying a longitude of <code>28.955043</code> and a latitude of <code>40.991862</code>.
The results are specified to be sorted on <code>name</code> alone.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "from": 0,
  "size": 10,
  "query": {
    "top_left": [-2.235143, 53.482358],
    "bottom_right": {
      "lon": 28.955043,
      "lat": 40.991862
     },
    "field": "geo"
  },
  "sort": [
    "name"
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A subset of formatted output might appear as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"hits": [
  {
    "index": "test_geopoint_7d088ca77bbecbe2_4c1c5584",
    "id": "landmark_16144",
    "score": 0.004836809397039384,
    "sort": [
      "02"
    ]
  },
  {
    "index": "test_geopoint_7d088ca77bbecbe2_4c1c5584",
    "id": "hotel_9905",
    "score": 0.01625607942050202,
    "sort": [
      "1"
    ]
  },
  {
    "index": "test_geopoint_7d088ca77bbecbe2_4c1c5584",
    "id": "hotel_16460",
    "score": 0.004836809397039384,
    "sort": [
      "11"
    ]
  },
  {
    "index": "test_geopoint_7d088ca77bbecbe2_4c1c5584",
    "id": "hotel_21674",
    "score": 0.010011952055063241,
    "sort": [
      "17"
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating_geopoint_rest_query_polygon_based"><a class="anchor" href="#creating_geopoint_rest_query_polygon_based"></a>Creating a Query: Polygon-Based</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following query-body uses an array, each of whose elements is a string, containing two floating-point numbers; to specify the latitude and longitude of each of the corners of a polygon &#8212; known as <em>polygon points</em>.
In each string, the <code>lat</code> floating-point value precedes the <code>lon.</code></p>
</div>
<div class="paragraph">
<p>Here, the last-specified string in the array is identical to the initial string, thus explicitly closing the box.
However, specifying an explicit closure in this way is optional: closure will be inferred by Couchbase Server if not explicitly specified.</p>
</div>
<div class="paragraph">
<p>If a target data-location falls within the box, its document is returned.
The results are specified to be sorted on <code>name</code> alone.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "query": {
    "field": "geo",
    "polygon_points": [
      "37.79393211306212,-122.44234633404847",
      "37.77995881733997,-122.43977141339417",
      "37.788031092020155,-122.42925715405579",
      "37.79026946582319,-122.41149020154114",
      "37.79571192027403,-122.40735054016113",
      "37.79393211306212,-122.44234633404847"
    ]
  },
  "sort": [
    "name"
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A subset of formatted output might appear as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"hits": [
  {
    "index": "test_geopoint_7d088ca77bbecbe2_4c1c5584",
    "id": "landmark_25944",
    "score": 0.23634379439298683,
    "sort": [
      "4"
    ]
  },
  {
    "index": "test_geopoint_7d088ca77bbecbe2_4c1c5584",
    "id": "landmark_25681",
    "score": 0.31367419004657393,
    "sort": [
      "alta"
    ]
  },
  {
    "index": "test_geopoint_7d088ca77bbecbe2_4c1c5584",
    "id": "landmark_25686",
    "score": 0.31367419004657393,
    "sort": [
      "atherton"
    ]
  }
]</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When we sort on a string that uses the default analyzer that string is tokenized and you may get unexpected results as you are sorting on the tokenized field.  If you want to sort on the actual text in the field should use the <strong>analyzer: "keyword"</strong> to sort by the original text in the field.  In addition if you want to include the keyword in the index itself you will need to check <strong>[X] store</strong> or check <strong>[X] docvalues</strong>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sorting-by-keywords"><a class="anchor" href="#sorting-by-keywords"></a>Sorting by Keywords</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To sort by the actual names we need to take into account that for type="airport" has a field called "airportname" and for type="landmark" has a field called "name".</p>
</div>
<div class="paragraph">
<p>By inserting editing the index and inserting two more child fields as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>for type="airport"</p>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-geopoint-update1.png" alt="fts geopoint update1" width="600">
</div>
</div>
</li>
<li>
<p>for type="landmark"</p>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-geopoint-update2.png" alt="fts geopoint update2" width="600">
</div>
</div>
</li>
<li>
<p>Click the <strong>Update Index</strong> button</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you look carefully above both the actual fields "airportname" and "name" will be searchable as name.</p>
</div>
<div class="paragraph">
<p>At this point if you Edit the index again the complete definition should look like:</p>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-geopoint-updated-index.png" alt="fts geopoint updated index" width="600">
</div>
</div>
<div class="paragraph">
<p>Now repeating the above "Polygon-Based" Query we see that the data is sorted based on the original field names.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"hits": [
  {
    "index": "test_geopoint_6e91b22c20945813_4c1c5584",
    "id": "landmark_25681",
    "score": 0.31367419004657393,
    "sort": [
      "Alta Plaza Park"
    ]
  },
  {
    "index": "test_geopoint_6e91b22c20945813_4c1c5584",
    "id": "landmark_25686",
    "score": 0.31367419004657393,
    "sort": [
      "Atherton House"
    ]
  },
  {
    "index": "test_geopoint_6e91b22c20945813_4c1c5584",
    "id": "landmark_25944",
    "score": 0.23634379439298683,
    "sort": [
      "Big 4 Restaurant"
    ]
  },
  {
    "index": "test_geopoint_6e91b22c20945813_4c1c5584",
    "id": "landmark_25739",
    "score": 0.31367419004657393,
    "sort": [
      "Blu"
    ]
  },
  {
    "index": "test_geopoint_6e91b22c20945813_4c1c5584",
    "id": "landmark_36047",
    "score": 0.25593551041769463,
    "sort": [
      "Cable Car Museum"
    ]
  },</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally since we checked <strong>[X] store</strong> for the child mappings for both "airportname" and "name" we modify the above “Polygon-Based” by adding <strong>"fields": ["name"],</strong> and then run it in the UI.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "fields": ["name"],
  "query": {
    "field": "geo",
    "polygon_points": [
      "37.79393211306212,-122.44234633404847",
      "37.77995881733997,-122.43977141339417",
      "37.788031092020155,-122.42925715405579",
      "37.79026946582319,-122.41149020154114",
      "37.79571192027403,-122.40735054016113",
      "37.79393211306212,-122.44234633404847"
    ]
  },
  "sort": [
    "name"
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Copy and paste the above into the UI&#8217;s index search text box the result will be as follows:</p>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="_images/fts-geopoint-updated-index-seach-stored.png" alt="fts geopoint updated index seach stored">
</div>
</div>
<div class="paragraph">
<p>Because we added <strong>"fields": ["name"],</strong> and the fields "airportname" and "name" were specified to be stored the index returns the actual value (the mapped name of name) both in the UI.  If we passed the new query body to cURL the value will also be returned via the REST call.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
