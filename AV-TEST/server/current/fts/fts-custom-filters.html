<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>Custom Filters | Couchbase Docs</title>
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/fts/fts-custom-filters.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/fts/pages/fts-custom-filters.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb"><a href="fts-introduction.html">Search</a></li>
<li class="crumb"><a href="fts-creating-indexes.html">Create Search Indexes</a></li>
<li class="crumb"><a href="fts-configure-index-options.html">Configure Index Options</a></li>
<li class="crumb"><a href="fts-custom-filters.html">Custom Filters</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Custom Filters</h1>
<div class="labels">
<ul></ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Custom filters can be viewed and modified from the index’s configuration page under the Index Settings section. Any custom filters that are configured for the current index can be viewed by expanding the Custom Filters panel. If no custom filters have been configured for the index, the Custom Filters panel will be empty.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="add-custom-filter"><a class="anchor" href="#add-custom-filter"></a>Add Custom Filter</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To add a custom filter to a Full Text Index via the Couchbase Capella UI, the following permissions are required:</p>
</div>
<div class="paragraph">
<p>You must have the <code>Project View</code> privileges for the project that contains the cluster.</p>
</div>
<div class="paragraph">
<p>You must have a database user associated with your organization&#8217;s user account. The database user must have Read/Write permissions for the bucket on which the index was created.</p>
</div>
<div class="paragraph">
<p>The 'Custom Filters' panel shows no existing custom filters.</p>
</div>
<div class="paragraph">
<p>The following four options are provided:</p>
</div>
<div class="sect2">
<h3 id="character-filter"><a class="anchor" href="#character-filter"></a>Character Filter</h3>
<div class="paragraph">
<p>Adds a new character filter to the list of those available.
The new filter becomes available for inclusion in custom-created analyzers.</p>
</div>
<div class="paragraph">
<p>Left-click the <strong>+ Add Character Filter</strong>. It displays the <strong>Custom Character Filter</strong> dialog:</p>
</div>
<div id="fts_custom_character_filter_dialog_initial" class="imageblock text-left">
<div class="content">
<img src="_images/fts-custom-character-filter-dialog-initial.png" alt="fts custom character filter dialog initial" width="380">
</div>
</div>
<div class="paragraph">
<p>The following interactive fields are provided:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: A suitable, user-defined name for the new character filter.</p>
</li>
<li>
<p><strong>Type</strong>: The type of filtering to be performed. Available options can be accessed from the pull-down menu to the right of the field.
(Currently, only <code>regexp</code> is available.)</p>
</li>
<li>
<p><strong>Regular Expression</strong>: The specific <em>regular expression</em> that the new character filter is to apply. Character-strings that match the expression will be affected; others will not.</p>
</li>
<li>
<p><strong>Replacement</strong>: The replacement text that will be substituted for each character-string match returned by the regular expression.
If no replacement text is specified, the matched character-string will be omitted.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following completed fields define a character filter for deleting leading whitespace:</p>
</div>
<div id="fts_custom_character_filter_dialog_filled" class="imageblock text-left">
<div class="content">
<img src="_images/fts-custom-character-filter-dialog-filled.png" alt="fts custom character filter dialog filled" width="380">
</div>
</div>
<div class="paragraph">
<p>When saved, the new character filter is displayed on its own row, with options for further editing and deleting:</p>
</div>
<div id="fts_custom_filters_panel_new_character_filter" class="imageblock text-left">
<div class="content">
<img src="_images/fts-custom-filters-panel-new-character-filter.png" alt="fts custom filters panel new character filter" width="700">
</div>
</div>
</div>
<div class="sect2">
<h3 id="tokenizer"><a class="anchor" href="#tokenizer"></a>Tokenizer</h3>
<div class="paragraph">
<p>Adds a new tokenizer to the list of those available.</p>
</div>
<div class="paragraph">
<p>The new tokenizer becomes available for inclusion in custom-created analyzers.</p>
</div>
<div class="paragraph">
<p>Left-click the <strong>+ Add Tokenizer</strong>. It displays the <strong>Custom Tokenizer</strong> dialog:</p>
</div>
<div id="fts_custom_filters_tokenizer_dialog_initial" class="imageblock text-left">
<div class="content">
<img src="_images/fts-custom-filters-tokenizer-dialog-initial.png" alt="fts custom filters tokenizer dialog initial" width="380">
</div>
</div>
<div class="paragraph">
<p>The following interactive fields are provided:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: A suitable, user-defined name for the new tokenizer.</p>
</li>
<li>
<p><strong>Type</strong>: The process used in tokenizing. Available options can be accessed from the pull-down menu to the right of the field.
(Currently, <code>regexp</code> and <code>exception</code> are available.)</p>
</li>
<li>
<p><strong>Regular Expression</strong>: The specific <em>regular expression</em> used by the tokenizing process.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following completed fields define a tokenizer that removes uppercase characters:</p>
</div>
<div id="fts_custom_filters_tokenizer_dialog_completed" class="imageblock text-left">
<div class="content">
<img src="_images/fts-custom-filters-tokenizer-dialog-completed.png" alt="fts custom filters tokenizer dialog completed" width="380">
</div>
</div>
<div class="paragraph">
<p>When saved, the new tokenizer is displayed on its own row, with options for further editing and deleting:</p>
</div>
<div id="fts_custom_filters_panel_new_tokenizer" class="imageblock text-left">
<div class="content">
<img src="_images/fts-custom-filters-panel-new-tokenizer.png" alt="fts custom filters panel new tokenizer" width="700">
</div>
</div>
</div>
<div class="sect2">
<h3 id="token-filter"><a class="anchor" href="#token-filter"></a>Token filter</h3>
<div class="paragraph">
<p>Adds a new token filter to the list of those available. The new token filter becomes available for inclusion in custom-created analyzers.</p>
</div>
<div class="paragraph">
<p>Left-click the <strong>+ Add Token Filter</strong>. It displays the <strong>Custom Token Filter</strong> dialog:</p>
</div>
<div id="fts_custom_filters_token_filter_dialog_initial" class="imageblock text-left">
<div class="content">
<img src="_images/fts-custom-filters-token-filter-dialog-initial.png" alt="fts custom filters token filter dialog initial" width="380">
</div>
</div>
<div class="paragraph">
<p>The following interactive fields are provided:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: A suitable, user-defined name for the new token filter.</p>
</li>
<li>
<p><strong>Type</strong>: The type of post-processing to be provided by the new token filter. The default is <code>length</code>, which creates tokens whose minimum number of characters is specified by the integer provided in the <strong>Min</strong> field and whose maximum by the integer provided in the <strong>Max</strong>.
Additional post-processing types can be selected from the pull-down menu at the right of the field:</p>
<div id="fts_custom_filters_token_filter_types" class="imageblock text-left">
<div class="content">
<img src="_images/fts-custom-filters-token-filter-types.png" alt="fts custom filters token filter types" width="420">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The type-selection determines which interactive fields appear in the <strong>Custom Token Filter</strong> dialog, following <strong>Name</strong> and <strong>Type</strong>.
The pull-down menu displays a list of available types.
For descriptions, see the section <a href="fts-index-analyzers.html#Token-Filters" class="xref page">Token Filters</a>, on the page <a href="fts-index-analyzers.html#Understanding-Analyzers" class="xref page">Understanding Analyzers</a>.
</td>
</tr>
</table>
</div>
</li>
<li>
<p><strong>Min</strong>: The minimum length of the token, in characters.
Note that this interactive field is displayed for the <code>length</code> type, and may not appear, or be replaced, when other types are specified.
The default value is 3.</p>
</li>
<li>
<p><strong>Max</strong>: The maximum length of the token, in characters.
Note that this interactive field is displayed for the <code>length</code> type and may not appear, or be replaced when other types are specified.
The default value is 255.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following completed fields define a token filter that restricts token-length to a minimum of 3, and a maximum of 255 characters:</p>
</div>
<div id="fts_custom_filters_token_filter_dialog_complete" class="imageblock text-left">
<div class="content">
<img src="_images/fts-custom-filters-token-filter-dialog-complete.png" alt="fts custom filters token filter dialog complete" width="380">
</div>
</div>
<div class="paragraph">
<p>When saved, the new token filter is displayed on its own row, with options for further editing and deleting:</p>
</div>
<div id="fts_custom_filters_panel_new_token_filter" class="imageblock text-left">
<div class="content">
<img src="_images/fts-custom-filters-panel-new-token-filter.png" alt="fts custom filters panel new token filter" width="700">
</div>
</div>
</div>
<div class="sect2">
<h3 id="wordlist"><a class="anchor" href="#wordlist"></a>Wordlist</h3>
<div class="paragraph">
<p>Adds a list of words to be removed from the current search.</p>
</div>
<div class="paragraph">
<p>Left-click the <strong>+ Add Word List</strong>. It displays the <strong>Custom Word List</strong> dialog</p>
</div>
<div id="fts_custom_wordlist_dialog_initial" class="imageblock text-left">
<div class="content">
<img src="_images/fts-custom-wordlist-dialog-initial.png" alt="fts custom wordlist dialog initial" width="380">
</div>
</div>
<div class="paragraph">
<p>To create a custom word list, first, type a suitable name into the <strong>Name</strong> field. Then, add words by typing each individually into the field that bears the placeholder text, <code>word to be added</code>.</p>
</div>
<div class="paragraph">
<p>After each word has been added, left-click on the <strong class="ui">+ Add</strong> button, on the lower-right. The word is added to the central <strong>Words</strong> panel.</p>
</div>
<div class="paragraph">
<p>Continue adding as many words as are required.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div id="fts_custom_wordlist_dialog_complete" class="imageblock text-left">
<div class="content">
<img src="_images/fts-custom-wordlist-dialog-complete.png" alt="fts custom wordlist dialog complete" width="380">
</div>
</div>
<div class="paragraph">
<p>To remove a word, select the word within the <strong>Words</strong> panel and left-click on the <strong>Remove</strong> button.</p>
</div>
<div class="paragraph">
<p>To save, left-click on <strong class="ui">Save</strong>. The new word list is displayed on its own row, with options for further editing and deleting:</p>
</div>
<div id="fts_custom_filters_panel_new_word_list" class="imageblock text-left">
<div class="content">
<img src="_images/fts-custom-filters-panel-new-word-list.png" alt="fts custom filters panel new word list" width="700">
</div>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
