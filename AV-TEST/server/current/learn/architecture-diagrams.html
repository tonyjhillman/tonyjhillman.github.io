<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>List of Architecture Diagrams | Couchbase Docs</title>
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="A quick reference to some of the architecture diagrams in Couchbase documentation.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/learn/architecture-diagrams.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/learn/pages/architecture-diagrams.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb">Learn</li>
<li class="crumb"><a href="architecture-overview.html">Overview</a></li>
<li class="crumb"><a href="architecture-diagrams.html">List of Architecture Diagrams</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">List of Architecture Diagrams</h1>
<div class="labels">
<ul></ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
A quick reference to some of the architecture diagrams in Couchbase documentation.
</blockquote>
</div>
<div class="paragraph">
<p>Throughout the Couchbase documentation-set, explanations of the architecture of Couchbase Server are supported diagrammatically.
Each diagram is co-located with its textual description. This page provides a quick-reference, whereby some of the most important diagrams can be directly accessed.</p>
</div>
<div class="paragraph">
<p>Diagrams are provided for the following topics. Click on the thumbnails or other links to access the full-size diagrams and accompanying, detailed descriptions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="multidimensional-scaling"><a class="anchor" href="#multidimensional-scaling"></a>Multidimensional Scaling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Server supports <em>multidimensional scaling</em>, whereby services can be distributed and resourced with the greatest flexibility, across the designated nodes of a cluster.</p>
</div>
<div id="cb_cluster_with_services_production_thumbnail" class="paragraph">
<p><a href="services-and-indexes/services/services.html#setting-up-services" class="xref page"><span class="image"><img src="_images/services-and-indexes/services/cbClusterWithServicesProduction.png" alt="cbClusterWithServicesProduction" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>This is explained in <a href="services-and-indexes/services/services.html#setting-up-services" class="xref page">Setting Up Services</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="data-service"><a class="anchor" href="#data-service"></a>Data Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Couchbase <em>Data Service</em> is the most fundamental of all Couchbase services, providing access to data in memory and on disk.</p>
</div>
<div id="data_service_architecture_thumbnail" class="paragraph">
<p><a href="services-and-indexes/services/data-service.html" class="xref page"><span class="image"><img src="_images/services-and-indexes/services/dataServiceArchitecture.png" alt="dataServiceArchitecture" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>See <a href="services-and-indexes/services/data-service.html" class="xref page">Data Service</a> for a description of the Data Service' architecture, and the interactions of its inner components.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="data-service-rebalance-stages"><a class="anchor" href="#data-service-rebalance-stages"></a>Data-Service Rebalance Stages</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Rebalance</em> redistributes data, indexes, event processing and query processing among available nodes.
Data is moved in stages, the progress through which is observable, allowing rates of progress to be determined.</p>
</div>
<div class="paragraph">
<p><a href="clusters-and-availability/rebalance.html#data-service-rebalance-stages" class="xref page"><span class="image"><img src="_images/clusters-and-availability/replicaVbucketMove.png" alt="replicaVbucketMove" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>See <a href="clusters-and-availability/rebalance.html" class="xref page">Rebalance</a>, for an overview of rebalance and its significance to different services.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="durability"><a class="anchor" href="#durability"></a>Durability</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Server provides <em>durability</em>, which ensures the greatest likelihood of data-writes surviving unexpected anomalies, such as node-outages.</p>
</div>
<div id="durability_thumbnail" class="paragraph">
<p><a href="data/durability.html" class="xref page"><span class="image"><img src="_images/data/durabilityDiagram.png" alt="durabilityDiagram" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>See <a href="data/durability.html" class="xref page">Durability</a> for a full description, including the <em>protection guarantees</em> provided.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="alternate-addresses"><a class="anchor" href="#alternate-addresses"></a>Alternate Addresses</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Server allows an <em>alternate address</em> to be assigned to any individual cluster-node, and an <em>alternate port number</em> to be assigned to any service running on that node.</p>
</div>
<div class="paragraph">
<p><a href="clusters-and-availability/connectivity.html#alternate-addresses" class="xref page"><span class="image"><img src="_images/clusters-and-availability/externalAddressDiagram01.png" alt="externalAddressDiagram01" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>For information on use cases and pointers to procedures for applying alternate addresses, see <a href="clusters-and-availability/connectivity.html#alternate-addresses" class="xref page">Alternate Addresses</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="query-service"><a class="anchor" href="#query-service"></a>Query Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Couchbase <em>Query Service</em> supports the querying of data by means of the N1QL query language.</p>
</div>
<div id="query_service_architecture_thumbnail" class="paragraph">
<p><a href="services-and-indexes/services/query-service.html" class="xref page"><span class="image"><img src="_images/services-and-indexes/services/queryServiceArchitecture.png" alt="queryServiceArchitecture" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>Its architecture and the query processing-sequence it supports are explained in <a href="services-and-indexes/services/query-service.html" class="xref page">Query Service</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="index-service"><a class="anchor" href="#index-service"></a>Index Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Couchbase <em>Index Service</em> supports the creation of primary and secondary indexes on items stored within Couchbase Server.</p>
</div>
<div id="index_service_architecture_thumbnail" class="paragraph">
<p><a href="services-and-indexes/services/index-service.html" class="xref page"><span class="image"><img src="_images/services-and-indexes/services/indexServiceArchitecture.png" alt="indexServiceArchitecture" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>Components essential for the Index Service reside not only on each node to which the Index Service is assigned, but also on each node to which the Data Service is assigned, as shown by the illustration in <a href="services-and-indexes/services/index-service.html" class="xref page">Index Service</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="search-service"><a class="anchor" href="#search-service"></a>Search Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Couchbase <em>Search Service</em> supports the creation of specially purposed indexes for <em>Full Text Search</em>.</p>
</div>
<div id="search_service_architecture_thumbnail" class="paragraph">
<p><a href="services-and-indexes/services/search-service.html" class="xref page"><span class="image"><img src="_images/services-and-indexes/services/searchServiceArchitecture2.png" alt="searchServiceArchitecture2" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>When a <em>Search Index</em> is created by means of the Search Service, its handling of data for the vBuckets is divided equally among the established search-index partitions, as shown by the illustration in <a href="services-and-indexes/services/search-service.html" class="xref page">Search Service</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="backup-service"><a class="anchor" href="#backup-service"></a>Backup Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Couchbase <em>Backup Service</em> supports the scheduling of full and incremental data backups, either for specific individual buckets, or for all buckets on the cluster.
This includes specifying <em>time windows</em>, for the automated merging of backups that have been previously accomplished.</p>
</div>
<div class="paragraph">
<p><a href="services-and-indexes/services/backup-service.html#specifying-merge-offsets" class="xref page"><span class="image"><img src="_images/services-and-indexes/services/mergeDiagram.png" alt="mergeDiagram" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>For more information, see <a href="services-and-indexes/services/backup-service.html" class="xref page">Backup Service</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cluster-manager"><a class="anchor" href="#cluster-manager"></a>Cluster Manager</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Couchbase <em>Cluster Manager</em> runs on all the nodes of a cluster, maintaining essential per-node processes, and coordinating cluster-wide operations.</p>
</div>
<div id="cluster_manager_architecture_thumbnail" class="paragraph">
<p><a href="clusters-and-availability/cluster-manager.html" class="xref page"><span class="image"><img src="_images/clusters-and-availability/clusterManagerArchitecture2.png" alt="clusterManagerArchitecture2" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>Its architecture is explained in <a href="clusters-and-availability/cluster-manager.html" class="xref page">Cluster Manager</a>.</p>
</div>
<div class="paragraph">
<p>This page also provides a detailed diagram for the most important component of the Cluster Manager, <a href="clusters-and-availability/cluster-manager.html#ns-server" class="xref page">ns-server</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="intra-cluster-replication"><a class="anchor" href="#intra-cluster-replication"></a>Intra-Cluster Replication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Couchbase <em>replication architecture</em> keeps cluster-data highly available, by replicating data across the nodes of a cluster, using the <em>Database Change Protocol</em>.</p>
</div>
<div id="vbucket_replication_thumbnail" class="paragraph">
<p><a href="clusters-and-availability/intra-cluster-replication.html" class="xref page"><span class="image"><img src="_images/clusters-and-availability/vBucketReplication.png" alt="vBucketReplication" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>This is explained in <a href="clusters-and-availability/intra-cluster-replication.html" class="xref page">Intra-Cluster Replication</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cross-data-center-replication-xdcr"><a class="anchor" href="#cross-data-center-replication-xdcr"></a>Cross Data Center Replication (XDCR)</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Cross Data Center Replication</em> (XDCR) is the process whereby data can be replicated to a remote cluster.</p>
</div>
<div id="bidirectional_replication_thumbnail" class="paragraph">
<p><a href="clusters-and-availability/xdcr-overview.html#xdcr-direction-and-topology" class="xref page"><span class="image"><img src="_images/xdcr/unidirectional-xdcr.png" alt="unidirectional xdcr" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>The topographical options for XDCR set-up are shown by the diagrams in <a href="clusters-and-availability/xdcr-overview.html#xdcr-direction-and-topology" class="xref page">XDCR Direction and Topology</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xdcr-advanced-filtering"><a class="anchor" href="#xdcr-advanced-filtering"></a>XDCR Advanced Filtering</h2>
<div class="sectionbody">
<div class="paragraph">
<p>XDCR Advanced Filtering allows specified subsets of documents to be replicated from the source bucket.</p>
</div>
<div class="paragraph">
<p><a href="clusters-and-availability/xdcr-filtering.html" class="xref page"><span class="image"><img src="_images/xdcr/filter-replication-diagram-2-v2.png" alt="filter replication diagram 2 v2" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>Information on the available options for document-selection is provided in <a href="clusters-and-availability/xdcr-filtering.html" class="xref page">XDCR Advanced Filtering</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="xdcr-with-scopes-and-collections"><a class="anchor" href="#xdcr-with-scopes-and-collections"></a>XDCR with Scopes and Collections</h2>
<div class="sectionbody">
<div class="paragraph">
<p>XDCR allows documents to be mapped between different source and target collections.</p>
</div>
<div class="paragraph">
<p><a href="clusters-and-availability/xdcr-with-scopes-and-collections.html" class="xref page"><span class="image"><img src="_images/clusters-and-availability/xdcr-implicit-mapping-diagram.png" alt="xdcr implicit mapping diagram" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>Detailed information is provided in <a href="clusters-and-availability/xdcr-with-scopes-and-collections.html" class="xref page">XDCR with Scopes and Collections</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="server-group-awareness"><a class="anchor" href="#server-group-awareness"></a>Server Group Awareness</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Server Group Awareness</em> allows individual server-nodes to be assigned to specific <em>groups</em>, within a Couchbase Cluster.
This allows active vBuckets and indexes to be maintained on groups other than those of their corresponding replica vBuckets and index replicas; so that if a group goes offline, vBuckets and indexes remain available on other groups.</p>
</div>
<div id="groups_two_equal_thumbnail" class="paragraph">
<p><a href="clusters-and-availability/groups.html" class="xref page"><span class="image"><img src="_images/clusters-and-availability/groups-two-equal.png" alt="groups two equal" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>Possible group layouts, and the effects of failover, are illustrated diagrammatically in <a href="clusters-and-availability/groups.html" class="xref page">Server Group Awareness</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="data-size-limits"><a class="anchor" href="#data-size-limits"></a>Data Size Limits</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A data-item stored by Couchbase Server has multiple inner components, each of which has a fixed size limit.</p>
</div>
<div id="item-maximum-sizes_thumbnail" class="paragraph">
<p><a href="data/data.html#size-limits" class="xref page"><span class="image"><img src="_images/data/item-maximum-sizes.png" alt="item maximum sizes" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>Components and their sizes are described in <a href="data/data.html#size-limits" class="xref page">Data Size Limits</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="data-model"><a class="anchor" href="#data-model"></a>Data Model</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Couchbase <em>Data Model</em> is based on using JSON documents to store data items.</p>
</div>
<div id="json_data_model_thumbnail" class="paragraph">
<p><a href="data/document-data-model.html#documents-versus-tables" class="xref page"><span class="image"><img src="_images/data/jsonDataModel.png" alt="jsonDataModel" width="120"></span></a></p>
</div>
<div class="paragraph">
<p>The <a href="data/document-data-model.html#documents-versus-tables" class="xref page">Relational and JSON</a> data models have fundamental differences, explained here graphically.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="vbuckets"><a class="anchor" href="#vbuckets"></a>vBuckets</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase <em>buckets</em>, which are used to group data-items logically, are mapped to underlying shards on disk, known as vBuckets.</p>
</div>
<div id="vbucket_to_node_mapping_thumbnail" class="paragraph">
<p><a href="buckets-memory-and-storage/vbuckets.html#understanding-vbuckets" class="xref page"><span class="image"><img src="_images/buckets-memory-and-storage/vbucketToNodeMapping.png" alt="vbucketToNodeMapping" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>This is explained in <a href="buckets-memory-and-storage/vbuckets.html#understanding-vbuckets" class="xref page">Understanding vBuckets</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="compression"><a class="anchor" href="#compression"></a>Compression</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Compression</em> is used by Couchbase Server to maximize resources and heighten performance.</p>
</div>
<div id="compression-diagram_thumbnail" class="paragraph">
<p><a href="buckets-memory-and-storage/compression.html#where-data-compression-can-be-used" class="xref page"><span class="image"><img src="_images/buckets-memory-and-storage/compressionDiagram.png" alt="compressionDiagram" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>The communication-paths that benefit are listed and explained in <a href="buckets-memory-and-storage/compression.html#where-data-compression-can-be-used" class="xref page">Where Compression is Used</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="saving-new-items"><a class="anchor" href="#saving-new-items"></a>Saving New Items</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When Couchbase Server receives new data from a client, it saves to disk, and also replicates across nodes.</p>
</div>
<div id="create-doc-sequence-3_thumbnail" class="paragraph">
<p><a href="buckets-memory-and-storage/memory-and-storage.html#saving-new-items" class="xref page"><span class="image"><img src="_images/buckets-memory-and-storage/createDocSequence3.png" alt="createDocSequence3" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>A sequence of diagrams is provided to show the memory and storage architecture whereby Couchbase Server handles <a href="buckets-memory-and-storage/memory-and-storage.html#saving-new-items" class="xref page">Saving New Items</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="memory-quotas"><a class="anchor" href="#memory-quotas"></a>Memory Quotas</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Server monitors the memory used by buckets with respect to fixed <em>memory quotas</em>.
If watermarks are exceeded, automated management action is taken, to ensure that the data items most needed are retained in memory, and those less needed removed.</p>
</div>
<div id="tunable_memory_thumbnail" class="paragraph">
<p><a href="buckets-memory-and-storage/memory.html#ejection" class="xref page"><span class="image"><img src="_images/buckets-memory-and-storage/tunableMemory.png" alt="tunableMemory" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>This is explained in detail, and the relations of memory quotas represented graphically, in <a href="buckets-memory-and-storage/memory.html#ejection" class="xref page">Ejection</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="multiple-root-certificates"><a class="anchor" href="#multiple-root-certificates"></a>Multiple Root Certificates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Server supports use of multiple CA (or <em>root</em>) certificates, for a single cluster.
This allows an individual node either to use a CA that is also used by one or more other nodes; or to use a CA that is used by no other node.
This may be used during CA certificate rotation: a new CA is uploaded, node certificates are changed one by one, and finally, the old CA is removed.</p>
</div>
<div id="multiple_root_certs_thumbnail" class="paragraph">
<p><a href="security/using-multiple-cas.html#illustration" class="xref page"><span class="image"><img src="_images/security/clusterWithCerts.png" alt="clusterWithCerts" width="220"></span></a></p>
</div>
<div class="paragraph">
<p>For detailed information, see <a href="security/using-multiple-cas.html" class="xref page">Using Multiple Root Certificates</a>.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>Â© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
