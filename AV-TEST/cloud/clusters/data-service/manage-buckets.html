<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>Manage Buckets | Couchbase Docs</title>
<link rel="canonical" href="https://docs.couchbase.com/cloud/clusters/data-service/manage-buckets.html">
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="Buckets, in which you store your data, can be created, edited, and deleted.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="cloud">
<meta name="dcterms.identifier" content="master">
<meta name="page-url" content="/cloud/clusters/data-service/manage-buckets.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/CapellaGA/docs/public/modules/clusters/pages/data-service/manage-buckets.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../index.html">Couchbase Capella</a></li>
<li class="crumb">Your Data</li>
<li class="crumb"><a href="data-service.html">Data Service</a></li>
<li class="crumb"><a href="manage-buckets.html">Manage Buckets</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Manage Buckets</h1>
<div class="labels">
<ul></ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
Buckets, in which you store your data, can be created, edited, and deleted.
</blockquote>
</div>
<div class="paragraph">
<p>This page describes how you can create and manage buckets, using the Capella UI.</p>
</div>
<div class="paragraph">
<p>A <em>bucket</em> is the named container in which you save your data.
You may have up to 30 buckets in your database.
You may organize the data within a bucket into different <em>collections</em>, according to content-type.
A bucket&#8217;s data may be <em>replicated</em> across the database, to ensure that the data exists in multiple copies, and is thus highly available.
A bucket&#8217;s data may also be replicated across different databases, potentially in different geographical locations.</p>
</div>
<div class="paragraph">
<p>The Capella UI allows buckets to be easily defined, with default settings that support rapid prototyping and pre-production experimentation.
For the subsequent design of sophisticated production systems, multiple configuration options are provided, to ensure heightened performance, integrity, and availability.</p>
</div>
<div class="paragraph">
<p>For a detailed overview of buckets and their configuration, see <a href="../../../server/current/learn/buckets-memory-and-storage/buckets.html" class="xref page">Buckets</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="access-bucket"><a class="anchor" href="#access-bucket"></a>Accessing Bucket Information</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Working with buckets in the Capella UI requires the <a href="../../projects/project-roles.html#project-owner-role" class="xref page"><code>Project Owner</code></a> or <a href="../../projects/project-roles.html#project-cluster-manager-role" class="xref page"><code>Project Manager</code></a> role for the project with the database.
If you have the  <a href="../../organizations/organization-user-roles.html#organization-role-organization-owner" class="xref page"><code>Organization Owner</code></a> role, you have <code>Project Owner</code> access.</p>
</div>
<div class="paragraph">
<p>To access bucket information, proceed as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the database&#8217;s <strong>Settings</strong> tab to the <strong>Buckets</strong> page:</p>
</li>
<li>
<p>With the <strong>Databases</strong> tab open, select your database.</p>
</li>
<li>
<p>Click on the <strong>Settings</strong> tab.</p>
</li>
<li>
<p>In the navigation menu, click <b class="button">Buckets</b>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The <strong>Buckets</strong> page is now displayed.
If you have not yet created a bucket, the <b class="button">Create Bucket</b> button is displayed in the middle of the page, allowing you to create your first bucket.
See <a href="#add-bucket">Create a Bucket</a>, below.</p>
</div>
<div class="paragraph">
<p>If you have already created one or more buckets, the <strong>Buckets Summary</strong> is displayed.</p>
</div>
<div class="sect2">
<h3 id="buckets-summary"><a class="anchor" href="#buckets-summary"></a>Buckets Summary</h3>
<div class="paragraph">
<p>The <strong>Buckets Summary</strong> is a table that lists all buckets in the database.
It includes the following information about each bucket:</p>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Bucket Name</dt>
<dt class="hdlist1">Documents</dt>
<dt class="hdlist1">Bucket Type</dt>
<dt class="hdlist1">Storage Backend</dt>
<dt class="hdlist1">Ops/Sec</dt>
<dt class="hdlist1">Disk</dt>
<dt class="hdlist1">Memory/Quota</dt>
</dl>
</div>
</div>
</div>
<div class="paragraph">
<p>Clicking on the name of a bucket opens the <strong>Edit Bucket</strong> page for that bucket.
The page shows information about the bucket&#8217;s current configuration.
These details include conflict resolution, minimum durability level, replication, flush, and time to live settings.
For more information, see <a href="#edit-bucket">Modify a Bucket</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="add-bucket"><a class="anchor" href="#add-bucket"></a>Create a Bucket</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Creating a bucket in the Capella UI requires the <a href="../../projects/project-roles.html#project-owner-role" class="xref page"><code>Project Owner</code></a> or <a href="../../projects/project-roles.html#project-cluster-manager-role" class="xref page"><code>Project Manager</code></a> role for the project with the database.
If you have the  <a href="../../organizations/organization-user-roles.html#organization-role-organization-owner" class="xref page"><code>Organization Owner</code></a> role, you have <code>Project Owner</code> access.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>As described above, in <a href="#access-bucket">Accessing Bucket-Information</a>, bring up the <strong>Settings</strong> navigation menu for your database, and click on <strong>Buckets</strong>.</p>
</li>
<li>
<p>Click <b class="button">Create Bucket</b>.
(Note that if you have not previously created a bucket, this button is located in the middle of the page.
If you have already created one or more buckets, the button is located at the upper right, above the <strong>Buckets Summary</strong>.)</p>
<div class="paragraph">
<p>The <strong>Create Bucket</strong> page is now displayed.
This provides all the options you require for a bucket&#8217;s creation, modification, or deletion.</p>
</div>
</li>
<li>
<p>In the <strong>Bucket Name</strong> field, enter a name for the new bucket.
A bucket name can only contain upper or lower case letters, numbers, underscores (<code>_</code>), periods (<code>.</code>), dashes (<code>-</code>), and percentages (<code>%</code>).
Bucket names cannot exceed 100 characters in length, and cannot be changed after the bucket&#8217;s creation.</p>
</li>
<li>
<p>Choose a <strong>Bucket Type</strong>, by selecting either the <strong>Memory and Disk</strong> or the <strong>Memory Only</strong> radio button.
Select <strong>Memory and Disk</strong> if you need to persist your data to disk.
Select <strong>Memory Only</strong> if your data does not require disk-persistence, and can be maintained in memory only.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Do not select <strong>Memory Only</strong> if you are using <a href="../../app-services/deployment/creating-an-app-endpoint.html" class="xref page">App Endpoints</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Note that the bucket type cannot be changed after the bucket has been created.
For detailed information, see <a href="../../../server/current/learn/buckets-memory-and-storage/buckets.html#bucket-types" class="xref page">Bucket Types</a>.</p>
</div>
</li>
<li>
<p>If you have chosen to use a <strong>Memory and Disk</strong> bucket, choose a <strong>Storage Backend</strong> for the bucket; by selecting either the <strong>Couchstore</strong> or the <strong>Magma</strong> radio button.
(Note that if you have chosen to use a <strong>Memory Only</strong> bucket, the <strong>Storage Backend</strong> option does not appear.)</p>
<div class="paragraph">
<p>Select <strong>Couchstore</strong> if your data set is relatively small, and fits easily into memory.
Select <strong>Magma</strong> if your data set is very large in relation to available memory, and therefore consistently requires high-speed disk-access.
Note that Couchstore requires 100 MiB of memory as the minimum allocation; and that Magma requires 1 GiB.
For more detailed information on Couchstore and Magma, see <a href="../../../server/current/learn/buckets-memory-and-storage/storage-engines.html" class="xref page">Storage Engines</a>.</p>
</div>
<div class="paragraph">
<p>Note that the storage backend cannot be changed after the bucket has been created.</p>
</div>
</li>
<li>
<p>Specify a <strong>Memory Quota</strong> for the bucket, by entering the appropriate figure into the <strong>Memory Quota (MiB)</strong> field.
A minimum of 100 MiB is required for a Couchstore bucket, and 1 GiB for a Magma bucket.</p>
<div class="paragraph">
<p>On the UI, a <em>memory allocation graph</em> shows the memory allocated to other buckets in the database, and also shows the total amount of memory you can allocate to new buckets.</p>
</div>
<div class="paragraph">
<p>For information on memory management in Capella, see <a href="#buckets-storage">Buckets and Storage</a>, below.</p>
</div>
</li>
<li>
<p>Choose the <strong>Conflict Resolution</strong> method for the bucket, by selecting either the <strong>Sequence Number</strong> or the <strong>Timestamp</strong> radio button.</p>
<div class="paragraph">
<p>Note that a <em>conflict</em> occurs during <a href="../xdcr/xdcr.html#conflict-resolution" class="xref page">XDCR</a> whenever a document has been modified differently in different locations, requiring one version of the document to be kept and the other discarded.
The two methods for making this choice depend respectively on each document&#8217;s <em>sequence number</em> and <em>timestamp</em>.
The method you choose is permanently established, and cannot be changed after bucket creation.
For more information about conflict resolution, see <a href="../xdcr/xdcr.html#conflict-resolution" class="xref page">XDCR Conflict Resolution</a>.</p>
</div>
</li>
<li>
<p>If you have chosen to use a <strong>Memory Only</strong> bucket, choose an <strong>Ejection Policy</strong> for the bucket.
(Note that if you have chosen to use a <strong>Memory and Disk</strong> bucket, the <strong>Ejection Policy</strong> option is not required, and so does not appear.)</p>
<div class="paragraph">
<p>Select <strong>NRU</strong> (meaning <em>Not Recently Used</em>) to ensure that if the bucket&#8217;s memory is fully occupied, documents that have not recently been used will be ejected, when space needs to be reclaimed for the saving of new documents.
Alternatively, select <strong>No Ejection</strong> to ensure that if the bucket&#8217;s memory is fully occupied, all documents are retained, and attempts to save new documents therefore fail.
For more information on ejection, see <a href="../../../server/current/learn/buckets-memory-and-storage/storage-settings.html#storage-settings-ejection-policy" class="xref page">Ejection Policy</a>.</p>
</div>
<div class="paragraph">
<p>Note that ejection policy cannot be changed after bucket creation.</p>
</div>
</li>
<li>
<p><a id="durability"></a>Choose the minimum durability level for each write to the bucket, so as to improve data integrity during failures.
For detailed information, see <a href="../../../server/current/learn/data/durability.html" class="xref page">Durability</a>.</p>
<div class="paragraph">
<p>All four of the following durability levels can be chosen for a <strong>Memory and Disk</strong> bucket; but only two can be chosen for a <strong>Memory Only</strong> bucket.
(The options displayed in the UI correspond to the ones that are appropriate for the bucket-type selection that you have made.)</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>None</strong>:
Apply no durability level.
This option is available for <strong>Memory and Disk</strong> <em>and</em> <strong>Memory Only</strong> buckets.</p>
</li>
<li>
<p><strong>Replicate to Majority</strong>:
Mutations replicate to a majority of the Data Service nodes, without persistence.
This option is available for <strong>Memory and Disk</strong> <em>and</em> <strong>Memory Only</strong> buckets.</p>
</li>
<li>
<p><strong>Majority and Persist to Active</strong>:
Mutations replicate to a majority of the Data Service nodes.
They are also persisted&#8212;&#8203;written and synchronized to disk&#8212;&#8203;on the node hosting the active vBucket for the data.
This option is available for <strong>Memory and Disk</strong> buckets only.</p>
</li>
<li>
<p><strong>Persist to Majority</strong>:
Mutations replicate to a majority of the Data Service nodes.
They are also persisted&#8212;&#8203;written and synchronized to disk&#8212;&#8203;on <em>all</em> of those nodes.
This option is available for <strong>Memory and Disk</strong> buckets only.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Set the <strong>Number of Replicas</strong>.
Depending on the number nodes in your database, you can choose from one to three replica copies of the data for this bucket.
(If you do not have enough nodes for the setting you attempt to make, the corresponding radio button is inactive.)</p>
</li>
<li>
<p><a id="flush"></a>Enable or disable <strong>Flush</strong>.
You can choose to enable or disable (default) flush on this bucket.
Flushing a bucket deletes all of its data permanently.</p>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
To protect against inadvertent data loss, Flush should be <em>disabled</em> on production databases.
</td>
</tr>
</table>
</div>
</li>
<li>
<p><a id="time-to-live"></a>Enable or disable <strong>Time to Live</strong> (TTL).
Enabling TTL allows you to set a maximum amount of time for which a document can exist before it is automatically deleted.
When enabled, this setting allows you to specify the time-period in seconds, minutes, hours, days, or weeks.</p>
</li>
<li>
<p><a id="backup-schedule"></a>Choose a backup schedule for the bucket according to the relative importance of the workload and data.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select <strong>Do Not Backup</strong> to not schedule any backups.</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<strong>Do Not Backup</strong> is not recommended for production databases.
It&#8217;s intended for development databases or similar.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To set a weekly incremental schedule, see the steps which follow.</p>
</div>
</li>
<li>
<p>Choose <strong>Set Weekly Schedule</strong>.</p>
</li>
<li>
<p>Choose the <strong>Day of the week</strong> when you want Capella to take the full backup.
The default value is <code>Sunday</code>.</p>
</li>
<li>
<p>Set the <strong>Start at</strong> time of day for the full backup.</p>
<div class="paragraph">
<p>Select a <strong>Start at</strong> time when your application isn&#8217;t using Capella heavily unless you&#8217;ve chosen a database configuration with more capacity than you need.</p>
</div>
</li>
<li>
<p>Use the <strong>Incremental Every</strong> list to set the frequency of incremental backups.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you change the <strong>Start at</strong> time, the next incremental backup might happen at a different time than you expect.
Capella calculates the <strong>Incremental Value</strong> backward from the configured <strong>Start at</strong> time.</p>
</div>
<div class="paragraph">
<p>For example, <strong>Incremental Every</strong> is <code>8 hours</code>, and the <strong>Start at</strong> time is 4 AM.
If the current time is 9 PM, Capella takes an incremental backup at 8 PM, an eight-hour interval backward from 4 AM.
If you change the <strong>Start at</strong> to 6 AM, you would see another incremental backup at 10 PM, two hours after the last backup.
The backup occurs at this time because Capella recalculates the eight-hour backup interval back from the new 6 AM <strong>Start at</strong> time.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Select <strong>Cost Optimized Retention</strong>.
When selected, the cost optimized retention policy applies to your bucket backup.
For more information, see <a href="../backup-restore.html#cost-optimized-retention-policy" class="xref page">Cost Optimized Retention Policy</a>.</p>
</li>
<li>
<p>Set a <strong>Retention Time</strong> in line with your data retention policy.</p>
<div class="paragraph">
<p>If you selected Cost Optimized Retention, the <strong>Retention Time</strong> applies only to the monthly restore point.</p>
</div>
<div class="paragraph">
<p>Capella preserves each backup from <code>30 Days</code> to <code>5 Years</code>.
After the retention time lapses, Capella schedules the backup for deletion.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <strong>Retention Time</strong> setting applies to all future backups for a bucket.
Changes to this setting do not affect previous backups.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Once you are satisfied with the bucket&#8217;s configuration, click <b class="button">Create Bucket</b>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="edit-bucket"><a class="anchor" href="#edit-bucket"></a>Modify a Bucket</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can modify some of a bucket&#8217;s settings after its creation.</p>
</div>
<div class="paragraph">
<p>To modify a bucket, you need the <a href="../../projects/project-roles.html#project-owner-role" class="xref page"><code>Project Owner</code></a> or <a href="../../projects/project-roles.html#project-cluster-manager-role" class="xref page"><code>Project Manager</code></a> role for the project with the database.
If you have the  <a href="../../organizations/organization-user-roles.html#organization-role-organization-owner" class="xref page"><code>Organization Owner</code></a> role, you have <code>Project Owner</code> access.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>As described above, in <a href="#access-bucket">Accessing Bucket-Information</a>, bring up the <strong>Settings</strong> navigation menu for your database, and click on <strong>Buckets</strong>.</p>
</li>
<li>
<p>In the <strong>Buckets Summary</strong> table, click on the name of the bucket you want to modify.
This brings up the <strong>Edit Buckets</strong> page.</p>
</li>
<li>
<p>Edit the bucket&#8217;s settings.</p>
<div class="paragraph">
<p>You can edit the following bucket settings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Memory (MiB)</strong>:
Edit the amount of memory allocated to the bucket.
A minimum of 100 MiB is required for a Couchstore, and 1 GiB for a Magma bucket.
For more information, see <a href="#memory">Memory</a>.</p>
</li>
<li>
<p><strong>Minimum Durability Level</strong>:
Choose a new minimum durability level.
For more information, see the <a href="#durability">durability</a> configuration instructions</p>
</li>
<li>
<p><strong>Number of Replicas</strong>:
Choose the number of copies of this bucket&#8217;s data that Capella creates and maintains.</p>
</li>
<li>
<p><strong>Flush</strong>:
Choose to enable or disable flush.
For more information, see the <a href="#flush">flush</a> configuration instructions</p>
</li>
<li>
<p><strong>Time to Live</strong>:
Choose to enable or disable time to live.
For more information, see the <a href="#time-to-live">time to live</a> configuration instructions</p>
</li>
<li>
<p><strong>Backup Schedule</strong>:
Change the backup schedule for the bucket.
For more information on changing the bucket&#8217;s backup schedule, see the <a href="#backup-schedule">backup schedule</a> instructions.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Once you&#8217;ve made the desired changes to the bucket&#8217;s settings, click <b class="button">Update</b>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="delete-bucket"><a class="anchor" href="#delete-bucket"></a>Delete a Bucket</h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Deleting a bucket deletes all of its contents.
Backups for a deleted bucket <em>may</em> be available to be restored, depending on the bucket&#8217;s previous <strong>Backup</strong> configuration.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Bucket deletion may be appropriate when a bucket is no longer needed, or when all items within a bucket need to be replaced.
In such cases, bucket deletion followed by bucket recreation is faster than deleting each item.</p>
</div>
<div class="paragraph">
<p>To delete a bucket, you need the <a href="../../projects/project-roles.html#project-owner-role" class="xref page"><code>Project Owner</code></a> or <a href="../../projects/project-roles.html#project-cluster-manager-role" class="xref page"><code>Project Manager</code></a> role for the project with the database.
If you have the  <a href="../../organizations/organization-user-roles.html#organization-role-organization-owner" class="xref page"><code>Organization Owner</code></a> role, you have <code>Project Owner</code> access.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If the bucket is the <em>source</em> of a <a href="../xdcr/xdcr.html" class="xref page">replication</a>, then the bucket deletion fails.
All replications <em>for which the bucket is the source</em> must be deleted before the bucket itself can be deleted.</p>
</div>
<div class="paragraph">
<p>If the bucket is the <em>destination</em> of a replication, the bucket is allowed to be deleted.
Any replications for which the bucket is the destination are automatically deleted after the bucket itself is deleted.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>As described above, in <a href="#access-bucket">Accessing Bucket-Information</a>, bring up the <strong>Settings</strong> navigation menu for your database, and click on <strong>Buckets</strong>.</p>
</li>
<li>
<p>In the <strong>Buckets Summary</strong> table, click on the name of the bucket you want to delete.</p>
</li>
<li>
<p>Click <b class="button">Delete Bucket</b>.</p>
<div class="paragraph">
<p>This opens the <strong>Delete Bucket</strong> dialog.</p>
</div>
</li>
<li>
<p>Verify you&#8217;ve chosen the correct bucket and then type <code>delete</code> into the provided field.</p>
</li>
<li>
<p>Click <b class="button">Delete Bucket</b>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Upon successful deletion, the bucket and all its data are deleted from the database.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="buckets-storage"><a class="anchor" href="#buckets-storage"></a>Buckets and Storage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Both Capella and Couchbase Enterprise Server use an append-only file-write format; which helps to ensure files' internal consistency, and reduces the risk of corruption.
Necessarily, this means that every change made to a file —- whether an addition, a modification, or a deletion —- results in a new entry being created at the end of the file: therefore, a file whose user-data is diminished by deletion actually grows in size.</p>
</div>
<div class="paragraph">
<p>File-sizes are periodically reduced by means of automated compaction.
This process is known as <em>purging</em>.
In Capella, purging occurs every <em>1 hour</em> (note that this differs from Couchbase Enterprise Server, where the default purging interval is <em>3 days</em>).</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Capella","components":["cloud"],"url":"/cloud/index.html","latestVersions":{"cloud":"master"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
