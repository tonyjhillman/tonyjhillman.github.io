<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>ALTER INDEX | Couchbase Docs</title>
<link rel="stylesheet" href="../../../../_/css/site.css">
<script src="../../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="The ALTER INDEX statement moves the placement of an existing index or replica among different GSI nodes.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/n1ql/n1ql-language-reference/alterindex.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/pages/n1ql-language-reference/alterindex.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb"><a href="../query.html">Query</a></li>
<li class="crumb"><a href="index.html">SQL++ Language Reference</a></li>
<li class="crumb">Statements</li>
<li class="crumb"><a href="alterindex.html">ALTER INDEX</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">ALTER INDEX</h1>
<div class="labels">
<ul></ul>
</div>
<div class="labels">
<ul>
<li class="edition"><a href="https://www.couchbase.com/products/editions">Enterprise Edition</a></li>
</ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
The ALTER INDEX statement moves the placement of an existing index or replica among different GSI nodes.
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="purpose"><a class="anchor" href="#purpose"></a>Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use the <code>ALTER INDEX</code> statement to change the placement of an existing index or replica among different GSI nodes, to increase or decrease the number of replicas, or to drop a specified index replica temporarily.
You can also use it to perform the same alterations to a partitioned index and any replica partitions.
You may use this statement when you encounter any of the following situations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An imbalance occurs due to a particular index growing faster than expected and is needed on a different node.</p>
</li>
<li>
<p>An imbalance occurs due to a cluster of indexes being dropped on a single node.</p>
</li>
<li>
<p>A machine is scheduled for removal, so its indexes need to move off its current node.</p>
</li>
<li>
<p>The automated process of rebalancing does not give the expected results.</p>
</li>
<li>
<p>Other types of scaling up or scaling down are needed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, if a node fails, you can use the <code>ALTER INDEX</code> statement to move an index to another node.
See <a href="#examples">Examples</a> below.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The ALTER INDEX move operation is asynchronous.
As soon as the move alter index command is executed, the command returns.
If there is no error in the input, the move operation can be tracked through the console UI and any error can be found in the Console logs and Indexer logs.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If a node goes down while an ALTER INDEX operation is in progress, then the index would rollback to its original node (not affecting queries) and a notification would appear.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
It is not possible to move an index or index replica and change the number of index replicas at the same time.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Only users with the RBAC role of <code>Administrator</code> are allowed to run the <code>ALTER INDEX</code> directive.</p>
</div>
<div class="paragraph">
<p>This directive is applicable only for Standard GSI (Plasma) and MOI Indexes; and hence supported only for Enterprise Edition nodes.
(Not applicable for Forest DB.)</p>
</div>
<div class="paragraph">
<p>This statement is only supported only in Couchbase Server 5.5 and later; if the cluster is a mix of Couchbase Server 5.5 and previous versions, then this statement will not work.</p>
</div>
<div class="paragraph">
<p>In addition, altering the number of replicas or deleting an index replica is only supported in Couchbase Server 6.5 and later; if the cluster is a mix of Couchbase Server 6.5 and previous versions, then these operations will not work.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="syntax"><a class="anchor" href="#syntax"></a>Syntax</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L122-L123">alter-index ::= 'ALTER' 'INDEX' ( index-path '.' index-name | index-name 'ON' keyspace-ref )
                index-using? index-with</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/alter-index.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>The ALTER INDEX statement provides two possible syntaxes for specifying the index and the keyspace where the index is located.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">index-name</dt>
<dd>
<p>(Required) A unique name that identifies the index.</p>
</dd>
</dl>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">index-path</dt>
<dd>
<p>(Optional) One possible syntax for specifying the keyspace.
Refer to <a href="#index-path">Index Path</a> below.</p>
</dd>
<dt class="hdlist1">keyspace-ref</dt>
<dd>
<p>(Optional) The other possible syntax for specifying the keyspace.
Refer to <a href="#keyspace-ref">Index Name ON Keyspace Reference</a> below.</p>
</dd>
<dt class="hdlist1">index-using</dt>
<dd>
<p>(Optional) Specifies the index type.
Refer to <a href="#index-using">USING Clause</a> below.</p>
</dd>
<dt class="hdlist1">index-with</dt>
<dd>
<p>(Required) Specifies options for the index.
Refer to <a href="#index-with">WITH Clause</a> below.</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="index-path"><a class="anchor" href="#index-path"></a>Index Path</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L150">index-path ::= keyspace-full | keyspace-prefix | keyspace-partial</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/index-path.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>You can use a dotted notation to specify the index and the keyspace on which the index is built.
This syntax provides compatibility with legacy versions of Couchbase Server.
The index path may be a <a href="#keyspace-full-index">full keyspace path</a>, a <a href="#keyspace-prefix-index">keyspace prefix</a>, or a <a href="#keyspace-partial-index">keyspace partial</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If there is a hyphen (-) inside the index name or any part of the index path, you must wrap the index name or that part of the index path in backticks (`&#160;`).
Refer to the examples below.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="keyspace-full-index"><a class="anchor" href="#keyspace-full-index"></a>Index Path: Full Keyspace</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L154">keyspace-full ::= namespace ':' bucket '.' scope '.' collection</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/keyspace-full.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>If the index is built on a named collection, the index path may be a full keyspace path, including namespace, bucket, scope, and collection, followed by the index name.
In this case, the <a href="../n1ql-intro/queriesandresults.html#query-context" class="xref page">query context</a> is ignored.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">namespace</dt>
<dd>
<p>(Required) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">namespace</a> of the keyspace.
Currently, only the <code>default</code> namespace is available.</p>
</dd>
<dt class="hdlist1">bucket</dt>
<dd>
<p>(Required) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">bucket name</a> of the keyspace.</p>
</dd>
<dt class="hdlist1">scope</dt>
<dd>
<p>(Required) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">scope name</a> of the keyspace.</p>
</dd>
<dt class="hdlist1">collection</dt>
<dd>
<p>(Required) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">collection name</a> of the keyspace.</p>
</dd>
</dl>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>For example, <code>default:`travel-sample`.inventory.airline.`idx-name`</code> indicates the <code>idx-name</code> index on the <code>airline</code> collection in the <code>inventory</code> scope in the <code>default:`travel-sample`</code> bucket.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="keyspace-prefix-index"><a class="anchor" href="#keyspace-prefix-index"></a>Index Path: Keyspace Prefix</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L158">keyspace-prefix ::= ( namespace ':' )? bucket</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/keyspace-prefix.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>If the index is built on the default collection in the default scope within a bucket, the index path may be just an optional namespace and the bucket name, followed by the index name.
In this case, the <a href="../n1ql-intro/queriesandresults.html#query-context" class="xref page">query context</a> should not be set.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">namespace</dt>
<dd>
<p>(Optional) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">namespace</a> of the keyspace.
Currently, only the <code>default</code> namespace is available.
If the namespace name is omitted, the default namespace in the current session is used.</p>
</dd>
<dt class="hdlist1">bucket</dt>
<dd>
<p>(Required) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">bucket name</a> of the keyspace.</p>
</dd>
</dl>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>For example, <code>default:`travel-sample`.def_type</code> indicates the <code>def_type</code> index on the default collection in the default scope in the <code>default:`travel-sample`</code> bucket.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="keyspace-partial-index"><a class="anchor" href="#keyspace-partial-index"></a>Index Path: Keyspace Partial</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L94">keyspace-partial ::= collection</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/keyspace-partial.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>Alternatively, if the keyspace is a named collection, the index path may be just the collection name, followed by the index name.
In this case, you must set the <a href="../n1ql-intro/queriesandresults.html#query-context" class="xref page">query context</a> to indicate the required namespace, bucket, and scope.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">collection</dt>
<dd>
<p>(Required) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">collection name</a> of the keyspace.</p>
</dd>
</dl>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>For example, <code>airline.`idx-name`</code> indicates the <code>idx-name</code> index on the <code>airline</code> collection, assuming that the query context is set.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="keyspace-ref"><a class="anchor" href="#keyspace-ref"></a>Index Name ON Keyspace Reference</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L86">keyspace-ref ::= keyspace-path | keyspace-partial</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/keyspace-ref.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>In Couchbase Server 7.0 and later, you can use the index name with the <code>ON</code> keyword and a keyspace reference to specify the keyspace on which the index is built.
The keyspace reference may be a <a href="#keyspace-path">keyspace path</a> or a <a href="#keyspace-partial">keyspace partial</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If there is a hyphen (-) inside the index name or any part of the keyspace reference, you must wrap the index name or that part of the keyspace reference in backticks (`&#160;`).
Refer to the examples below.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="keyspace-path"><a class="anchor" href="#keyspace-path"></a>Keyspace Reference: Keyspace Path</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L90">keyspace-path ::= ( namespace ':' )? bucket ( '.' scope '.' collection )?</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/keyspace-path.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>If the keyspace is a named collection, or the default collection in the default scope within a bucket, the keyspace reference may be a keyspace path.
In this case, the <a href="../n1ql-intro/queriesandresults.html#query-context" class="xref page">query context</a> should not be set.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">namespace</dt>
<dd>
<p>(Optional) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">namespace</a> of the keyspace.
Currently, only the <code>default</code> namespace is available.
If the namespace name is omitted, the default namespace in the current session is used.</p>
</dd>
<dt class="hdlist1">bucket</dt>
<dd>
<p>(Required) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">bucket name</a> of the keyspace.</p>
</dd>
<dt class="hdlist1">scope</dt>
<dd>
<p>(Optional) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">scope name</a> of the keyspace.
If omitted, the bucket&#8217;s default scope is used.</p>
</dd>
<dt class="hdlist1">collection</dt>
<dd>
<p>(Optional) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">collection name</a> of the keyspace.
If omitted, the default collection in the bucket&#8217;s default scope is used.</p>
</dd>
</dl>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>For example, <code>def_type ON default:`travel-sample`</code> indicates the <code>def_type</code> index on the default collection in the default scope in the <code>default:`travel-sample`</code> bucket.</p>
</div>
<div class="paragraph">
<p>Similarly, <code>`idx-name` ON default:`travel-sample`.inventory.airline</code> indicates the <code>idx-name</code> index on the <code>airline</code> collection in the <code>inventory</code> scope in the <code>default:`travel-sample`</code> bucket.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="keyspace-partial"><a class="anchor" href="#keyspace-partial"></a>Keyspace Reference: Keyspace Partial</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/dql.ebnf#L94">keyspace-partial ::= collection</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/keyspace-partial.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>Alternatively, if the keyspace is a named collection, the keyspace reference may be just the collection name.
In this case, you must set the <a href="../n1ql-intro/queriesandresults.html#query-context" class="xref page">query context</a> to indicate the required namespace, bucket, and scope.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">collection</dt>
<dd>
<p>(Required) An <a href="identifiers.html" class="xref page">identifier</a> that refers to the <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">collection name</a> of the keyspace.</p>
</dd>
</dl>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>For example, <code>`idx-name` ON airline</code> indicates the <code>idx-name</code> index on the <code>airline</code> collection, assuming the query context is set.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="index-using"><a class="anchor" href="#index-using"></a>USING Clause</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L57">index-using ::= 'USING' 'GSI'</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/index-using.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>In Couchbase Server 6.5 and later, the index type for a secondary index must be Global Secondary Index (GSI).
The <code>USING GSI</code> keywords are optional and may be omitted.</p>
</div>
</div>
<div class="sect2">
<h3 id="index-with"><a class="anchor" href="#index-with"></a>WITH Clause</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L61">index-with ::= 'WITH' expr</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/index-with.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>Use the <code>WITH</code> clause to specify additional options.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">expr</dt>
<dd>
<p>An object with the following properties:</p>
<div class="dlist">
<dl>
<dt class="hdlist1">action</dt>
<dd>
<p>[Required] A string denoting the operation to be performed.
The possible values are:</p>
<div class="dlist">
<dl>
<dt class="hdlist1">move</dt>
<dd>
<p>Moves an index (or its replicas) to a different node while not making any changes to the index topology&#8201;&#8212;&#8201;for example, the number of replicas remains the same.
You must use the <code>nodes</code> property to specify the target node or nodes.</p>
</dd>
<dt class="hdlist1">replica_count</dt>
<dd>
<p>Alters the number of replicas.
You must use the <code>num_replica</code> property to specify the required number of replicas.
You can use the <code>nodes</code> property to restrict the placement of index replicas to the specified nodes.
The planner decides where to place any new index replicas on the available index nodes, based on the server load.</p>
</dd>
<dt class="hdlist1">drop_replica</dt>
<dd>
<p>Drops a specified replica temporarily; for example, to repair a replica.
You must use the <code>replicaId</code> property to specify the replica to drop.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">num_replica</dt>
<dd>
<p>[Required if <code>action</code> is set to <code>replica_count</code>] An integer specifying the number of replicas of the index.
The index service will automatically distribute these indexes amongst the index nodes in the cluster for load balancing and high availability purposes.
The index service attempts to distribute the replicas based on the server groups in use in the cluster where possible.
(You can restrict the number of index nodes available for index and index replica placement using the <code>nodes</code> property, described below.)</p>
</dd>
<dt class="hdlist1">nodes</dt>
<dd>
<p>[Required if <code>action</code> is set to <code>move</code>; optional if <code>action</code> is set to <code>replica_count</code>] An array of strings, specifying a list of nodes.
If <code>action</code> is set to <code>move</code>, the node list determines the new destination nodes for the index and its replicas.
If <code>action</code> is set to <code>replica_count</code> and you are <em>increasing</em> the number of replicas, the node list restricts the set of nodes available for placement of the index and its replicas.
However, if <code>action</code> is set to <code>replica_count</code> and you are <em>decreasing</em> the number of replicas, the <code>nodes</code> property is ignored.</p>
</dd>
<dt class="hdlist1">replicaId</dt>
<dd>
<p>[Required if <code>action</code> is set to <code>drop_replica</code>] An integer, specifying a replica ID.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="usage"><a class="anchor" href="#usage"></a>Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you attempt to alter an index which is still scheduled for background creation, the request fails.</p>
</div>
<div class="paragraph">
<p><code>ALTER INDEX</code> will not work while the cluster is undergoing a rebalance.</p>
</div>
<div class="sect2">
<h3 id="moving-an-index-or-index-replicas"><a class="anchor" href="#moving-an-index-or-index-replicas"></a>Moving an Index or Index Replicas</h3>
<div class="paragraph">
<p>When moving an index or index replicas, the number of destination nodes must be the same as the number of nodes on which the index and any replicas are currently placed.
You must specify the full node list, even if only one replica needs to be moved.</p>
</div>
<div class="paragraph">
<p>Likewise, when moving a partitioned index, the number of destination nodes must be the same as the number of nodes on which the index partitions and any replicas are currently placed.
You cannot use this statement to repartition an index across a different number of nodes.</p>
</div>
<div class="paragraph">
<p>The source and destination node ranges may overlap, for example you may move a partitioned index from <code>["192.168.0.15:9000", "27.0.0.1:9001"]</code> to <code>["192.168.0.15:9000", "127.0.0.1:9002"]</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="changing-the-replica-count"><a class="anchor" href="#changing-the-replica-count"></a>Changing the Replica Count</h3>
<div class="paragraph">
<p>When changing the number of replicas, the specified number of replicas must be less than the number of index nodes available for placement.
If the specified number of replicas is greater than or equal to the number of index nodes available for placement, then the operation will fail.</p>
</div>
<div class="paragraph">
<p>If you specify a node list when changing the number of replicas, the specified nodes must include all of the nodes on which the index or index partitions and any index replicas are currently placed.</p>
</div>
<div class="paragraph">
<p>When increasing the number of replicas, whether you specify a node list or not, no single index node will host more than one replica of the same index, or the same partition of the same index.
Replicas are distributed across the available server groups.</p>
</div>
<div class="paragraph">
<p>When reducing the number of replicas, the index service will first drop unhealthy replicas, where an unhealthy replica is a replica with missing partitions.
After all unhealthy replicas are dropped, the index service will if necessary drop replicas with the highest replica ID.
An unhealthy replica may not have the highest replica ID, so after an index reduction there may be "gaps" in the sequence of replica IDs&#8201;&#8212;&#8201;for example, 1, 2, 4, where replica ID 3 was dropped.</p>
</div>
</div>
<div class="sect2">
<h3 id="dropping-a-specific-replica"><a class="anchor" href="#dropping-a-specific-replica"></a>Dropping a Specific Replica</h3>
<div class="paragraph">
<p>When dropping a replica, the index topology does not change.
The indexing service remembers the number of partitions and replicas specified for this index.
Given sufficient capacity, the dropped replica is rebuilt after the next rebalance&#8201;&#8212;&#8201;although it may be placed on a different index node, depending on the resource usage statistics of the available nodes.</p>
</div>
<div class="paragraph">
<p>To find the ID of an index replica and see which node it is placed on, you can use the <a href="../../manage/manage-ui/manage-ui.html#console-indexes" class="xref page">Indexes screen in the Couchbase Web Console</a> or query the <a href="../n1ql-intro/sysinfo.html#querying-indexes" class="xref page">system:indexes</a> catalog.</p>
</div>
<div class="paragraph">
<p>When dropping a replica, it is possible to leave a server group with no replica.
For a partitioned index, run a rebalance to move a replica into the vacant server group.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="return-value"><a class="anchor" href="#return-value"></a>Return Value</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If the <code>ALTER INDEX</code> succeeds, then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The query returns an empty array.</p>
</li>
<li>
<p>The index progress is visible in the Query Workbench.</p>
</li>
<li>
<p>After the movement is complete, the new indexes begin to service query scans.</p>
</li>
<li>
<p>The command line displays the new index nodes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>ALTER INDEX</code> fails, then:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The original indexes continue to service query scans.</p>
</li>
<li>
<p>The UI Log and Query Workbench has the appropriate error message.</p>
</li>
<li>
<p>Some common errors include:</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Error Message</th>
<th class="tableblock halign-left valign-top">Possible Cause</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GSI index xxxxxxxx not found</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mistyped an index name</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Missing Node Information For Move Index</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mistyped <code>"node"</code> instead of <code>"nodes"</code></p>
</li>
<li>
<p>Mistyped punctuation or other item</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>No Index Movement Required for Specified Destination List</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entered the current node instead of the target node</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>syntax error - at \",\"</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Missed a double-quote mark (<code>"</code>)</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Unable to find Index service for destination xxx.xxx.xxx.xxx:8091 or destination is not part of the cluster</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Address doesn&#8217;t exist or was mistyped</p>
</li>
<li>
<p>Node isn&#8217;t running</p>
</li>
<li>
<p>Node not properly added to the cluster</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Unsupported action value</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mistyped the <code>"action"</code></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When using the below examples, make sure that an up-to-date version of Couchbase Server Enterprise Edition is already running on the named nodes.</p>
</div>
<div class="paragraph">
<p>Unresolved include directive in modules/n1ql/pages/n1ql-language-reference/alterindex.adoc - include::ROOT:partial$query-context.adoc[]</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Move the <code>def_inventory_airport_faa</code> index from one node to another</div>
<div class="content">
<div class="paragraph">
<p>Create a cluster of 3 nodes and then go to <span class="menuseq"><b class="menu">Settings</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Sample buckets</b></span> to install the <code>travel-sample</code> bucket.
The indexes are then installed in a round-robin fashion and distributed over the 3 nodes.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/alter-index_servers_step1.png" alt="The Indexes tab showing def_inventory_airport_faa on 192.168.10.10">
</div>
</div>
<div class="paragraph">
<p>Then move the <code>def_inventory_airport_faa</code> index from its original node (192.168.10.<strong>10</strong> in this example) to a new node (192.168.10.<strong>11</strong> in this example).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/examples/n1ql-language-reference/alter-idx-move.n1ql">ALTER INDEX def_inventory_airport_faa ON airport
WITH {"action": "move", "nodes": ["192.168.10.11:8091"]};</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/examples/n1ql-language-reference/alter-idx-move.jsonc">{
  "results": []
}</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/alter-index_servers_step2.png" alt="The Indexes tab showing def_inventory_airport_faa on 192.168.10.11">
</div>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 2. Create and move an index replica from one node to another</div>
<div class="content">
<div class="paragraph">
<p>Create an index on node 192.168.10.10 with a replica on node 192.168.10.11, then move its replica from node 192.168.10.<strong>11</strong> to 192.168.10.<strong>12</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE INDEX country_idx ON airport(country, city)
       USING GSI
       WITH {"nodes": ["192.168.10.10:8091", "192.168.10.11:8091"]};

ALTER INDEX country_idx ON airport
WITH {"action": "move", "nodes": ["192.168.10.10:8091", "192.168.10.12:8091"]};</code></pre>
</div>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 3. Moving multiple replicas</div>
<div class="content">
<div class="paragraph">
<p>Create an index on node 192.168.10.10 with replicas on nodes 192.168.10.<strong>11</strong> and 192.168.10.<strong>12</strong>, then move the replicas to nodes 192.168.10.<strong>13</strong> and 192.168.10.<strong>14</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE INDEX country_idx ON airport(country, city)
WITH {"nodes": ["192.168.10.10:8091", "192.168.10.11:8091", "192.168.10.12:8091"]};

ALTER INDEX country_idx ON airport
WITH {"action": "move",
      "nodes": ["192.168.10.10:8091", "192.168.10.13:8091", "192.168.10.14:8091"]};</code></pre>
</div>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 4. Increasing the number of replicas</div>
<div class="content">
<div class="paragraph">
<p>Create an index on node 192.168.10.10 with replicas on nodes 192.168.10.<strong>11</strong> and 192.168.10.<strong>12</strong>, then increase the number of replicas to 4 and specify that new replicas may be placed on any available index nodes in the cluster.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE INDEX country_idx ON airport(country, city)
WITH {"nodes": ["192.168.10.10:8091", "192.168.10.11:8091", "192.168.10.12:8091"]};

ALTER INDEX country_idx ON airport
WITH {"action": "replica_count", "num_replica": 4};</code></pre>
</div>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 5. Increasing the number of replicas and restricting the nodes</div>
<div class="content">
<div class="paragraph">
<p>Create an index on node 192.168.10.10 with replicas on nodes 192.168.10.<strong>11</strong> and 192.168.10.<strong>12</strong>, then increase the number of replicas to 4, and specify that replicas may now also be placed on nodes 192.168.10.<strong>13</strong> and 192.168.10.<strong>14</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE INDEX country_idx ON airport(country, city)
WITH {"nodes": ["192.168.10.10:8091", "192.168.10.11:8091", "192.168.10.12:8091"]};

ALTER INDEX country_idx ON airport
WITH {"action": "replica_count",
      "num_replica": 4,
      "nodes": ["192.168.10.10:8091",
                "192.168.10.11:8091",
                "192.168.10.12:8091",
                "192.168.10.13:8091",
                "192.168.10.14:8091"]};</code></pre>
</div>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 6. Decreasing the number of replicas</div>
<div class="content">
<div class="paragraph">
<p>Create an index on node 192.168.10.10 with replicas on nodes 192.168.10.<strong>11</strong> and 192.168.10.<strong>12</strong>, then decrease the number of replicas to 1.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE INDEX country_idx ON airport(country, city)
WITH {"nodes": ["192.168.10.10:8091", "192.168.10.11:8091", "192.168.10.12:8091"]};

ALTER INDEX country_idx ON airport
WITH {"action": "replica_count", "num_replica": 1};</code></pre>
</div>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 7. Dropping a specific replica</div>
<div class="content">
<div class="paragraph">
<p>Create an index with two replicas, and specify that nodes 192.168.10.10, 192.168.10.11, 192.168.10.12, and 192.168.10.13 should be available for index and replica placement.
Then delete replica 2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE INDEX country_idx ON airport(country, city)
USING GSI
WITH {"num_replica": 2,
      "nodes": ["192.168.10.10:8091",
                "192.168.10.11:8091",
                "192.168.10.12:8091",
                "192.168.10.13:8091"]};

ALTER INDEX country_idx ON airport
WITH {"action": "drop_replica", "replicaId": 2};</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="related-links"><a class="anchor" href="#related-links"></a>Related Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using the ALTER INDEX command to move one index at a time may be cumbersome if there are a lot of indexes to be moved.
In Couchbase Server 7.0 and later, the <em>index redistribution</em> setting enables you to specify how Couchbase Server redistributes indexes automatically on rebalance.
Refer to <a href="../../learn/clusters-and-availability/rebalance.html#rebalancing-the-index-service" class="xref page">Rebalance</a> for more information.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../../_/js/site.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
</body>
</html>
