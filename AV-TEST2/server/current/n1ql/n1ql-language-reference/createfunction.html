<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>CREATE FUNCTION | Couchbase Docs</title>
<link rel="stylesheet" href="../../../../_/css/site.css">
<script src="../../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="The &lt;code&gt;CREATE FUNCTION&lt;/code&gt; statement enables you to create a user-defined function.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/n1ql/n1ql-language-reference/createfunction.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="2">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/pages/n1ql-language-reference/createfunction.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb"><a href="../query.html">Query</a></li>
<li class="crumb"><a href="index.html">SQL++ Language Reference</a></li>
<li class="crumb">Statements</li>
<li class="crumb"><a href="createfunction.html">CREATE FUNCTION</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">CREATE FUNCTION</h1>
<div class="labels">
<ul><li class="reference"><span><i class="fas fa-book"></i></i> reference</span></li>
</ul>
</div>
<div class="labels">
<ul>
<li class="edition"><a href="https://www.couchbase.com/products/editions">Enterprise Edition</a></li>
</ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
The <code>CREATE FUNCTION</code> statement enables you to create a user-defined function.
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="purpose"><a class="anchor" href="#purpose"></a>Purpose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two types of user-defined function:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em class="def">Inline functions</em> are defined using SQL++ expressions, including subqueries.
They enable you to name and reuse complex or repetitive expressions, including subqueries, in order to simplify your queries.</p>
</li>
<li>
<p><em class="def">External functions</em> are defined using an external language.
They enable you to create functions that may be difficult or impossible to define using built-in SQL++ expressions.
The only supported language is JavaScript.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="context"><a class="anchor" href="#context"></a>Global Functions and Scoped Functions</h3>
<div class="paragraph">
<p>You can create user-defined functions at two different levels of the SQL++ <a href="../n1ql-intro/sysinfo.html#logical-hierarchy" class="xref page">logical hierarchy</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <em class="def">global function</em> is created within a namespace, at the same level as the buckets within the namespace.
When you call a global function, any partial keyspace references within the function definition are resolved against the function&#8217;s namespace, regardless of the current <a href="../n1ql-intro/queriesandresults.html#query-context" class="xref page">query context</a>.</p>
<div class="paragraph">
<p>For example, when you call a global function <code>default:global()</code> which contains the keyspace reference <code>`travel-sample`</code>, the keyspace reference is always resolved within the context of the function to the <code>default:`travel-sample`</code> bucket.</p>
</div>
</li>
<li>
<p>A <em class="def">scoped function</em> is created within a scope, at the same level as the collections within the scope.
When you call a scoped function, any partial keyspace references within the function definition are resolved against the function&#8217;s scope, regardless of the current <a href="../n1ql-intro/queriesandresults.html#query-context" class="xref page">query context</a>.</p>
<div class="paragraph">
<p>For example, when you call a scoped function <code>default:`travel-sample`.inventory.scope()</code> which contains the keyspace reference <code>route</code>, the keyspace reference is always resolved within the context of the function to <code>default:`travel-sample`.inventory.route</code>.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>When you create a user-defined function, the current query context determines whether it is created as a global function or a scoped function.
If you want to create a user-defined function outside of the current query context, you must include the full path to the function when you specify the function name.</p>
</div>
<div class="paragraph">
<p>Similarly, when you call a user-defined function, the current query context determines the path to the function.
If you want to call a user-defined function outside of the current query context, you must include the full path to the function when you specify the function name.</p>
</div>
<div class="paragraph">
<p>Finally, it is important to note that a global function is <em>not</em> the same as a scoped function stored in the default scope in a bucket.</p>
</div>
</div>
<div class="sect2">
<h3 id="external-libraries"><a class="anchor" href="#external-libraries"></a>External Libraries</h3>
<div class="paragraph">
<p>
External functions are stored in <em>libraries</em>.
Like user-defined functions, these libraries may also be scoped or global.
This enables you to keep the code for external functions separate where required.</p>
</div>
<div class="paragraph">
<p>Code which is stored in a <em>scoped library</em> is private to users of that scope, and is not visible or available to users of another scope.
Code which is stored in a <em>global library</em> is available to users of all scopes.</p>
</div>
<div class="paragraph">
<p>A global library may have the same name as a scoped library, and scoped libraries may have the same name as each other.
For example, you may have a global <code>math</code> library, and a <code>math</code> library in each scope.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rbac-privileges"><a class="anchor" href="#rbac-privileges"></a>RBAC Privileges</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To manage global internal functions, you must have the <strong>Manage Global Functions</strong> role.
To manage scoped internal functions, you must have the <strong>Manage Scope Functions</strong> role, with permissions on the specified bucket and scope.</p>
</div>
<div class="paragraph">
<p>To manage global external functions, you must have the <strong>Manage Global External Functions</strong> role.
To manage scoped external functions, you must have the <strong>Manage Scope External Functions</strong> role, with permissions on the specified bucket and scope.</p>
</div>
<div class="paragraph">
<p>Users with the <strong>Manage Scope External Functions</strong> role also have read-only access to any global external library.</p>
</div>
<div class="paragraph">
<p>To execute global internal functions, you must have the <strong>Execute Global Functions</strong> role.
To execute scoped internal functions, you must have the <strong>Execute Scope Functions</strong> role, with permissions on the specified bucket and scope.</p>
</div>
<div class="paragraph">
<p>To execute global external functions, you must have the <strong>Execute Global External Functions</strong> role.
To execute scoped external functions, you must have the <strong>Execute Scope External Functions</strong> role, with permissions on the specified bucket and scope.</p>
</div>
<div class="paragraph">
<p>For more details about user roles, see
<a href="../../learn/security/authorization-overview.html" class="xref page">Authorization</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="syntax"><a class="anchor" href="#syntax"></a>Syntax</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>CREATE FUNCTION</code> statement takes a different syntax depending on the type of function you are creating.
Refer to <a href="#create-function-inline">Inline Functions</a> or <a href="#create-function-external">External Functions</a> below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L167">create-function ::= create-function-inline | create-function-external</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/create-function.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="sect2">
<h3 id="create-function-inline"><a class="anchor" href="#create-function-inline"></a>Inline Functions</h3>
<div class="paragraph">
<p>There are two alternative syntaxes for defining an inline function: a syntax with braces <code>{}</code> and a syntax using the <code>LANGUAGE</code> keyword.
The two syntaxes are synonymous.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L171-L173">create-function-inline ::= 'CREATE' ( 'OR' 'REPLACE' )? 'FUNCTION' function '(' params? ')'
                           ( 'IF' 'NOT' 'EXISTS' )?
                           ( '{' body '}' | 'LANGUAGE' 'INLINE' 'AS' body )</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/create-function-inline.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">function</dt>
<dd>
<p>(Required) Refer to <a href="#inline-name">Function Name</a> below.</p>
</dd>
<dt class="hdlist1">params</dt>
<dd>
<p>(Optional) Refer to <a href="#inline-parameter">Function Parameters</a> below.</p>
</dd>
<dt class="hdlist1">body</dt>
<dd>
<p>(Required) Refer to <a href="#inline-expression">Function Body</a> below.</p>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="inline-name"><a class="anchor" href="#inline-name"></a>Function Name</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L183">function ::= ( namespace ':' ( bucket '.' scope '.' )? )? identifier</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/function.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>The function name specifies the name of the function to create.
It is recommended to use an unqualified identifier for the function name, such as <code>func1</code> or <code>`func-1`</code>.
In this case, the function is created as a global function or a scoped function, depending on the current query context.</p>
</div>
<div class="paragraph">
<p>To create a global function in a particular namespace, the function name must be a qualified identifier with a namespace, such as <code>default:func1</code>.
Similarly, to create a scoped function in a particular scope, the function name must be a qualified identifier with the full path to a scope, such as <code>default:`travel-sample`.inventory.func1</code>.</p>
</div>
<div class="paragraph">
<p>If the function name is an unqualified identifier, it may not be the same as a reserved keyword.
A function name with a specified namespace or scope may have the same name as a reserved keyword.</p>
</div>
</div>
<div class="sect3">
<h4 id="inline-parameter"><a class="anchor" href="#inline-parameter"></a>Function Parameters</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L187">params ::= identifier ( "," identifier )* | "..."</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/params.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>[Optional] The function parameter list specifies parameters for the function.
If you specify named parameters for the function, then you must call the function with exactly the same number of arguments at execution time.
If you specify no parameters, then you must call the function with no arguments.
To create a variadic function, that is, a function which you can call with any number of arguments or none, specify <code>...</code> as the only parameter.</p>
</div>
</div>
<div class="sect3">
<h4 id="inline-expression"><a class="anchor" href="#inline-expression"></a>Function Body</h4>
<div class="paragraph">
<p>The function body defines the function.
You can use any valid SQL++ expression.
If you specified named parameters for the function, you can use these in the expression to represent arguments passed to the function at execution time.
If you specified that the function is variadic, any arguments passed to the function at execution time are held in an array named <code>args</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>If the expression contains a parameter that has the same name as a field in the document, it will always refer to the parameter.
To distinguish between the field and the parameter, prefix the field with the keyspace name, for example <code>landmark.activity</code>.
To avoid this ambiguity, you should use unique parameter names that do not clash with document field names, such as <code>vActivity</code>.</p>
</li>
<li>
<p>Functions may return only one value, of any valid SQL++ type.
For inline functions, the result and type of the function are the result and type of the expression.
If you need to return multiple values, construct an array.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="inline-replace"><a class="anchor" href="#inline-replace"></a>OR REPLACE / IF NOT EXISTS</h4>
<div class="paragraph">
<p>The optional <code>OR REPLACE</code> clause enables you to redefine a user-defined function if it already exists, whereas the optional <code>IF NOT EXISTS</code> clause enables the statement to complete successfully without replacing the function.</p>
</div>
<div class="paragraph">
<p>When a function with the same name already exists within the same context:
<sup class="footnote" id="_footnote_context">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the <code>OR REPLACE</code> clause is present, the existing function is replaced.</p>
</li>
<li>
<p>If the <code>IF NOT EXISTS</code> clause is present, the statement does nothing and completes without error.</p>
</li>
<li>
<p>If neither of these two clauses is present, an error is generated.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These clauses are exclusive.
If the statement contains both the <code>OR REPLACE</code> clause and the <code>IF NOT EXISTS</code> clause, an error is generated.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-function-external"><a class="anchor" href="#create-function-external"></a>External Functions</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L177-L179">create-function-external ::= 'CREATE' ( 'OR' 'REPLACE' )? 'FUNCTION' function '(' params? ')'
                             ( 'IF' 'NOT' 'EXISTS' )?
                             'LANGUAGE' 'JAVASCRIPT' 'AS' obj 'AT' library</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/create-function-external.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">function</dt>
<dd>
<p>(Required) Refer to <a href="#external-name">Function Name</a> below.</p>
</dd>
<dt class="hdlist1">params</dt>
<dd>
<p>(Optional) Refer to <a href="#external-parameter">Function Parameters</a> below.</p>
</dd>
<dt class="hdlist1">obj</dt>
<dd>
<p>(Required) Refer to <a href="#external-object">External Object</a> below.</p>
</dd>
<dt class="hdlist1">library</dt>
<dd>
<p>(Required) Refer to <a href="#external-library">External Library</a> below.</p>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="external-name"><a class="anchor" href="#external-name"></a>Function Name</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L183">function ::= ( namespace ':' ( bucket '.' scope '.' )? )? identifier</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/function.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>The function name specifies the name of the function to create.
It is recommended to use an unqualified identifier for the function name, such as <code>func1</code> or <code>`func-1`</code>.
In this case, the function is created as a global function or a scoped function, depending on the current query context.</p>
</div>
<div class="paragraph">
<p>To create a global function in a particular namespace, the function name must be a qualified identifier with a namespace, such as <code>default:func1</code>.
Similarly, to create a scoped function in a particular scope, the function name must be a qualified identifier with the full path to a scope, such as <code>default:`travel-sample`.inventory.func1</code>.</p>
</div>
<div class="paragraph">
<p>If the function name is an unqualified identifier, it may not be the same as a reserved keyword.
A function name with a specified namespace or scope may have the same name as a reserved keyword.</p>
</div>
</div>
<div class="sect3">
<h4 id="external-parameter"><a class="anchor" href="#external-parameter"></a>Function Parameters</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ebnf hljs" data-lang="ebnf" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/partials/grammar/ddl.ebnf#L187">params ::= identifier ( "," identifier )* | "..."</code></pre>
</div>
</div>
<div class="imageblock text-left">
<div class="content">
<img src="../_images/n1ql-language-reference/params.png" alt="Syntax diagram: refer to source code listing">
</div>
</div>
<div class="paragraph">
<p>[Optional] The function parameter list specifies parameters for the function.
If you specify named parameters for the function, then you must call the function with exactly the same number of arguments at execution time.
If you specify no parameters, then you must call the function with no arguments.
To create a variadic function, that is, a function which you can call with any number of arguments or none, specify <code>...</code> as the only parameter.</p>
</div>
</div>
<div class="sect3">
<h4 id="external-object"><a class="anchor" href="#external-object"></a>External Object</h4>
<div class="paragraph">
<p>The name of the JavaScript function that you want to use for the user-defined function.
This parameter is a string and must be wrapped in quotes.
External functions in SQL++ <em>only</em> support plain JavaScript, without any of the <a href="../../eventing/eventing-language-constructs.html#added-lang-features" class="xref page">added language features</a> supported by functions in the Eventing Service.</p>
</div>
</div>
<div class="sect3">
<h4 id="external-library"><a class="anchor" href="#external-library"></a>External Library</h4>
<div class="paragraph">
<p>The name of the JavaScript library that contains the function you want to use.
This parameter is a string and must be wrapped in quotes.
You must create the JavaScript library and the JavaScript function using the SQL++ Functions REST API.
For details, refer to <a href="../n1ql-rest-api/functions.html" class="xref page">Functions REST API</a>.</p>
</div>
<div class="paragraph">
<p>The name of a scoped external library must include the bucket name, the scope name, and the library name, separated by slashes.
For example, to refer to a scoped library called <code>my-library</code> located in the <code>inventory</code> scope within the <code>travel-sample</code> bucket, you would specify the library name as <code>travel-sample/inventory/my-library</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="external-replace"><a class="anchor" href="#external-replace"></a>OR REPLACE / IF NOT EXISTS</h4>
<div class="paragraph">
<p>The optional <code>OR REPLACE</code> clause enables you to redefine a user-defined function if it already exists, whereas the optional <code>IF NOT EXISTS</code> clause enables the statement to complete successfully without replacing the function.</p>
</div>
<div class="paragraph">
<p>When a function with the same name already exists within the same context:
<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the <code>OR REPLACE</code> clause is present, the existing function is replaced.</p>
</li>
<li>
<p>If the <code>IF NOT EXISTS</code> clause is present, the statement does nothing and completes without error.</p>
</li>
<li>
<p>If neither of these two clauses is present, an error is generated.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These clauses are exclusive.
If the statement contains both the <code>OR REPLACE</code> clause and the <code>IF NOT EXISTS</code> clause, an error is generated.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For simplicity, none of these examples implement any data validation or error checking.
If necessary, you can use <a href="conditionalops.html" class="xref page">conditional operators</a> to check the parameters of a user-defined function, and the <a href="metafun.html#abort" class="xref page">ABORT()</a> function to generate an error if something is wrong.</p>
</div>
<div id="ex-inline-language" class="exampleblock">
<div class="title">Example 1. Inline function with the LANGUAGE syntax</div>
<div class="content">
<div class="paragraph">
<p>This statement creates a function called <code>celsius</code>, which converts Fahrenheit to Celsius.
The function is variadic.</p>
</div>
<div class="paragraph">
<p>For purposes of illustration, this expression converts just the first argument supplied at execution time, which is stored in the first member in the <code>args</code> array.
A more realistic variadic function would make use of all the supplied arguments.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE FUNCTION celsius(...) LANGUAGE INLINE AS (args[0] - 32) * 5/9;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Test</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">EXECUTE FUNCTION celsius(100);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Result</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  37.77777777777778
]</code></pre>
</div>
</div>
</div>
</div>
<div id="ex-inline-braces" class="exampleblock">
<div class="title">Example 2. Inline function with the braces syntax</div>
<div class="content">
<div class="paragraph">
<p>This statement creates a function called <code>fahrenheit</code>, which converts Celsius to Fahrenheit.
The function is variadic.</p>
</div>
<div class="paragraph">
<p>For purposes of illustration, this expression converts just the first argument supplied at execution time, which is stored in the first member in the <code>args</code> array.
A more realistic variadic function would make use of all the supplied arguments.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE FUNCTION fahrenheit(...) { (args[0] * 9/5) + 32 };</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Test</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">EXECUTE FUNCTION fahrenheit(100, "ignore this");</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Result</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  212
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>As the function is variadic, you can use any number of arguments when you call the function.
Arguments which are not used by the function expression are ignored.</p>
</div>
</div>
</div>
<div id="ex-params-incorrect" class="exampleblock">
<div class="title">Example 3. Inline function with named parameters</div>
<div class="content">
<div class="paragraph">
<p>The following statement creates a function called <code>lstr</code>, which returns the specified number of characters from the left of a string.
The expression expects two named arguments: <code>vString</code>, which is the string to work with, and <code>vLen</code>, which is the number of characters to return.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE FUNCTION lstr(vString, vLen) LANGUAGE INLINE AS SUBSTR(vString, 0, vLen);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Test</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">EXECUTE FUNCTION lstr("Couchbase", 5, "ignore this");</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Result</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  {
    "code": 10104,
    "msg": "Incorrect number of arguments supplied to function lstr - cause: lstr"
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>As the arguments were specified by the function definition, you must use the same number of arguments when you call the function.
If you supply the wrong number of arguments, an error is generated.</p>
</div>
</div>
</div>
<div id="ex-params-correct" class="exampleblock">
<div class="title">Example 4. Inline function with named parameters</div>
<div class="content">
<div class="paragraph">
<p>The following statement creates a function called <code>rstr</code>, which returns the specified number of characters from the right of a string.
The expression expects two named arguments: <code>vString</code>, which is the string to work with, and <code>vLen</code>, which is the number of characters to return.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE FUNCTION rstr(vString, vLen) { SUBSTR(vString, LENGTH(vString) - vLen, vLen) };</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Test</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">EXECUTE FUNCTION rstr("Couchbase", 4);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Result</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  "base"
]</code></pre>
</div>
</div>
</div>
</div>
<div id="ex-inline-subquery" class="exampleblock">
<div class="title">Example 5. Inline function with subquery</div>
<div class="content">
<div class="paragraph">
<p>The following statement creates a function called <code>locations</code>, which selects name and address information from all documents with the specified activity in the <code>landmark</code> keyspace.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/examples/n1ql-language-reference/udf-locations-define.n1ql">CREATE FUNCTION locations(vActivity) { (
  SELECT id, name, address, city
  FROM landmark
  WHERE activity = vActivity) };</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Test</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/examples/n1ql-language-reference/udf-locations-test.n1ql">EXECUTE FUNCTION locations("see");</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Result</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json" data-source-url="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/n1ql/examples/n1ql-language-reference/udf-locations-test.jsonc#L2-L15">[
  [
    {
      "address": "Prince Arthur Road, ME4 4UG",
      "city": "Gillingham",
      "id": 10019,
      "name": "Royal Engineers Museum"
    },
    {
      "address": "84 rue Claude Monet",
      "city": "Giverny",
      "id": 10061,
      "name": "Monet's House"
    },
...</code></pre>
</div>
</div>
</div>
</div>
<div id="ex-replace" class="exampleblock">
<div class="title">Example 6. Replace a function</div>
<div class="content">
<div class="paragraph">
<p>This statement creates a function which returns the mathematical constant &phi;.
The function takes no arguments.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE FUNCTION phi() { 2 * SIN(RADIANS(54)) };</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Test</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">EXECUTE FUNCTION phi();</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Result</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  1.618033988749895
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following statement redefines the function so that it calculates &phi; using a different method.</p>
</div>
<div class="listingblock">
<div class="title">Replace</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE OR REPLACE FUNCTION phi() { (1 + SQRT(5)) / 2 };</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Test</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">EXECUTE FUNCTION phi();</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Result</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  1.618033988749895
]</code></pre>
</div>
</div>
</div>
</div>
<div id="ex-external" class="exampleblock">
<div class="title">Example 7. External functions</div>
<div class="content">
<div class="paragraph">
<p>The following command registers two JavaScript functions called <code>encodeGeoHash</code> and <code>calculateAdjacent</code> in a library called <code>geohash-js</code>.
<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The function <code>encodeGeoHash</code> takes two arguments, a latitude and a longitude, and returns the 12-character <a href="https://en.wikipedia.org/wiki/Geohash" target="_blank" rel="noopener">geohash</a> for the specified location.</p>
</li>
<li>
<p>The function <code>calculateAdjacent</code> takes two arguments, a geohash and a direction&#8201;&#8212;&#8201;<code>"top"</code>, <code>"bottom"</code>, <code>"left"</code>, or <code>"right"</code>&#8201;&#8212;&#8201;and returns the geohash of the location next to the original geohash in the specified direction.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sh hljs" data-lang="sh">curl -v -X POST \
http://localhost:8093/evaluator/v1/libraries/geohash-js \
-u Administrator:password \
-H 'content-type: application/json' \
-d 'function encodeGeoHash(latitude, longitude) {

  var BITS = [16, 8, 4, 2, 1];
  var BASE32 = "0123456789bcdefghjkmnpqrstuvwxyz";

  var is_even = 1;
  var i = 0, mid;
  var lat = []; var lon = [];
  var bit = 0;
  var ch = 0;
  var precision = 12;
  var geohash = "";

  lat[0] = -90.0; lat[1] = 90.0;
  lon[0] = -180.0; lon[1] = 180.0;

  while (geohash.length &lt; precision) {
    if (is_even) {
      mid = (lon[0] + lon[1]) / 2;
      if (longitude &gt; mid) {
        ch |= BITS[bit];
        lon[0] = mid;
      } else
        lon[1] = mid;
    } else {
      mid = (lat[0] + lat[1]) / 2;
      if (latitude &gt; mid) {
        ch |= BITS[bit];
        lat[0] = mid;
      } else
        lat[1] = mid;
    }

    is_even = !is_even;
    if (bit &lt; 4)
      bit++;
    else {
      geohash += BASE32[ch];
      bit = 0;
      ch = 0;
    }
  }

  return geohash;
}

function calculateAdjacent(srcHash, dir) {

  var BITS = [16, 8, 4, 2, 1];
  var BASE32 = "0123456789bcdefghjkmnpqrstuvwxyz";

  var NEIGHBORS = { right  : { even : "bc01fg45238967deuvhjyznpkmstqrwx" },
                    left   : { even : "238967debc01fg45kmstqrwxuvhjyznp" },
                    top    : { even : "p0r21436x8zb9dcf5h7kjnmqesgutwvy" },
                    bottom : { even : "14365h7k9dcfesgujnmqp0r2twvyx8zb" } };

  var BORDERS   = { right  : { even : "bcfguvyz" },
                    left   : { even : "0145hjnp" },
                    top    : { even : "prxz" },
                    bottom : { even : "028b" } };

  NEIGHBORS.bottom.odd = NEIGHBORS.left.even;
  NEIGHBORS.top.odd = NEIGHBORS.right.even;
  NEIGHBORS.left.odd = NEIGHBORS.bottom.even;
  NEIGHBORS.right.odd = NEIGHBORS.top.even;

  BORDERS.bottom.odd = BORDERS.left.even;
  BORDERS.top.odd = BORDERS.right.even;
  BORDERS.left.odd = BORDERS.bottom.even;
  BORDERS.right.odd = BORDERS.top.even;

  srcHash = srcHash.toLowerCase();
  var lastChr = srcHash.charAt(srcHash.length - 1);
  var type = (srcHash.length % 2) ? "odd" : "even";
  var base = srcHash.substring(0, srcHash.length - 1);
  if (BORDERS[dir][type].indexOf(lastChr) != -1)
    base = calculateAdjacent(base, dir);
  return base + BASE32[NEIGHBORS[dir][type].indexOf(lastChr)];
}'</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following statements create two functions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A function called <code>geohash</code>, which calls the JavaScript <code>encodeGeoHash</code> function from the <code>geohash-js</code> library;</p>
</li>
<li>
<p>A function called <code>adjacent</code>, which calls the JavaScript <code>calculateAdjacent</code> function from the <code>geohash-js</code> library.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">CREATE FUNCTION geohash(lat, lon)
  LANGUAGE JAVASCRIPT AS "encodeGeoHash" AT "geohash-js";

CREATE FUNCTION adjacent(src, dir)
  LANGUAGE JAVASCRIPT AS "calculateAdjacent" AT "geohash-js";</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Test <code>geohash</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">EXECUTE FUNCTION geohash(53.353744, -2.27495);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Result</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  "gcqrs0z2jfdr"
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>To view the geohash on a map, go to <a href="http://geohash.org/gcqrs0z2jfdr" class="bare">http://geohash.org/gcqrs0z2jfdr</a> and follow one of the links provided.
At the specified latitude, the geohash represents an area of approximately 11 êÑÇ 19 millimeters.</p>
</div>
<div class="listingblock">
<div class="title">Test <code>adjacent</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sqlpp hljs" data-lang="sqlpp">EXECUTE FUNCTION adjacent(geohash(53.353744, -2.27495), "top");</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Result</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  "gcqrs0z2jff2"
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>To view the geohash on a map, go to <a href="http://geohash.org/gcqrs0z2jff2" class="bare">http://geohash.org/gcqrs0z2jff2</a> and follow one of the links provided.
At this level of precision, the geohash should appear to be in almost exactly the same location as the previous one.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="related-links"><a class="anchor" href="#related-links"></a>Related Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>To manage external libraries of user-defined functions, refer to <a href="../n1ql-rest-api/functions.html" class="xref page">Functions REST API</a>.</p>
</li>
<li>
<p>To execute user-defined functions, refer to <a href="execfunction.html" class="xref page">EXECUTE FUNCTION</a>.</p>
</li>
<li>
<p>To include user-defined functions in an expression, refer to <a href="userfun.html" class="xref page">User-Defined Functions</a>.</p>
</li>
<li>
<p>To view user-defined functions, refer to <a href="../../manage/monitor/monitoring-n1ql-query.html#sys-functions" class="xref page">Monitor Queries</a>.</p>
</li>
<li>
<p>To drop user-defined functions, refer to <a href="dropfunction.html" class="xref page">DROP FUNCTION</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. That is, you are creating a global function, and a function with the same name already exists within the same namespace; or, you are creating a scoped function, and a function with the same name already exists within the same scope.
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. Credit: <a href="https://github.com/davetroy/geohash-js" class="bare">https://github.com/davetroy/geohash-js</a>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>¬© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../../_/js/site.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
</body>
</html>
