<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>Rebalance Reference | Couchbase Docs</title>
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="Couchbase Server creates a &lt;em&gt;report&lt;/em&gt; for every rebalance that is performed. This section explains how to obtain the report, and how to read it.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="server">
<meta name="dcterms.identifier" content="7.2">
<meta name="page-url" content="/server/current/rebalance-reference/rebalance-reference.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../cloud/index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/71docs/docs-server/modules/rebalance-reference/pages/rebalance-reference.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../introduction/intro.html">Couchbase Server</a></li>
<li class="crumb">Reference</li>
<li class="crumb"><a href="rebalance-reference.html">Rebalance Reference</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Rebalance Reference</h1>
<div class="labels">
<ul></ul>
</div>


</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
Couchbase Server creates a <em>report</em> for every rebalance that is performed. This section explains how to obtain the report, and how to read it.
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Obtaining-a-rebalance-report"><a class="anchor" href="#Obtaining-a-rebalance-report"></a>Obtaining a Rebalance Report</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Server automatically creates a <em>rebalance report</em> for every rebalance that occurs on the cluster.
The report&#8217;s content consists of a JSON document, which provides statistics for every service that has been involved in the rebalance.
On conclusion of the rebalance, the report can be accessed in any of the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>By means of Couchbase Web Console, as described in <a href="../manage/manage-nodes/add-node-and-rebalance.html" class="xref page">Add a Node and Rebalance</a>.</p>
</li>
<li>
<p>By means of the REST API, as described in <a href="../rest-api/rest-get-cluster-tasks.html" class="xref page">Getting Cluster Tasks</a>.</p>
</li>
<li>
<p>By accessing the directory <code>/opt/couchbase/var/lib/couchbase/logs/reblance</code> on <em>any</em> of the cluster nodes.
A rebalance report is maintained here for (up to) the last <em>five</em> rebalances performed.
Each report is provided as a <code>*.json</code> file, whose name indicates the time at which the report was run &#8212; for example, <code>rebalance_report_2020-03-17T11:10:17Z.json</code>.</p>
<div class="paragraph">
<p>For more information on logging, see <a href="../manage/manage-logging/manage-logging.html" class="xref page">Manage Logging</a>.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="reading-a-rebalance-report"><a class="anchor" href="#reading-a-rebalance-report"></a>Reading a Rebalance Report</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each rebalance report consists of a JSON document whose principal object is <code>stage_info</code>.
This itself contains an object corresponding to each rebalance <em>stage</em>: one stage has occurred for each of the services deployed on the cluster.
Therefore, if all six services have been deployed, six stages occur in a successful rebalance; and objects for <code>analytics</code>, <code>eventing</code>, <code>search</code>, <code>index</code> <code>query</code>, and <code>data</code> are provided.</p>
</div>
<div class="paragraph">
<p>Among the details provided for each service are the times at which rebalance-processes started and ended, the durations of rebalance-processes, and the numbers of documents already handled and still to be handled.
When rebalance concludes successfully, a report is duly generated, with all fields corresponding to the successful completion of the rebalance-processes they represent.
In cases where rebalance is interrupted (for example, by the user&#8217;s left-clicking the <strong>Stop Rebalance</strong> button, in Couchbase Web Console, or due to auto-failover), a generated report will describe a partially unsuccessful rebalance; indicating, in certain fields, an incomplete or unstarted rebalance-process, by means of the value <code>false</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="standard-fields"><a class="anchor" href="#standard-fields"></a>Standard Fields</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Standard fields are provided for each stage.
These are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>startTime</code>.
The point in time at which the stage was started (or possibly, has been determined <em>not</em> to have started).
Specified as a UTC date/time string.</p>
</li>
<li>
<p><code>completedTime</code>.
The point in time at which the stage was completed (or possibly, has been determined <em>not</em> to have completed).
Specified as a UTC date/time string.</p>
</li>
<li>
<p><code>timeTaken</code>.
The amount of elapsed time since <code>startTime</code>.
Specified as an integer, in milliseconds.
The value is <code>undefined</code>, if the stage has been determined <em>not</em> to have started.</p>
</li>
<li>
<p><code>totalProgress</code>.
The current, total progress that has been achieved for the stage.
Specified as a percentage.
In a completed report, the value is expected to be <code>100</code>.
This is an <em>optional</em> field, which may not appear if not implemented for the stage.</p>
</li>
<li>
<p><code>perNodeProgress</code>.
The current progress that has been achieved for the stage for each node.
The value is an object, which itself provides a progress figure for each node.
Each progress figure is specified as a floating-point number between <code>0.0</code> and <code>1.0</code>.
In a completed report, the value is expected to be <code>1</code>.
This is an <em>optional</em> field, which may not appear if not implemented for the stage.</p>
</li>
<li>
<p><code>subStage</code>.
Details on any <em>substages</em> that the stage may contain.
For each <em>substage</em>, the standard fields are identical to those for each <em>stage</em>.
This is an <em>optional</em> field, which does not appear, if the stage contains no substages.
(An example is <em>delta_recovery</em>, which is a substage reflected in the <code>data</code> output, when <em>Delta Recovery Warmup</em> has been performed on one or more nodes running the Data Service, during rebalance of that service.)</p>
</li>
<li>
<p><code>events</code>.
An array of strings, each of which provides information on a significant event.
The information may be a warning, an error message, or otherwise informational.
This is an <em>optional</em> field, which does not appear if not implemented for the stage, or if no significant events have occurred.</p>
</li>
<li>
<p><code>details</code>.
Further details of the stage.
This is an <em>optional</em> field, which is currently implemented for the <code>data</code> stage only (information provided below).</p>
</li>
<li>
<p><code>rebalanceID</code>.
A 32-bit string that is the identifier for the rebalance: for example, <code>"4f64c7dd5a1a452d3bcc3668307d64a6"</code>.</p>
</li>
<li>
<p><code>nodesInfo</code>.
Information on the nodes of the cluster, in relation to the rebalance.
The following objects are provided &#8212; each consists of an array of strings, each of which represents a node.
Where the category has no nodes, the array is empty.</p>
<div class="ulist">
<ul>
<li>
<p><code>active_nodes</code>.
The nodes included in the rebalance.</p>
</li>
<li>
<p><code>keep_nodes</code>.
The nodes that were intended to be part of the cluster, following rebalance.</p>
</li>
<li>
<p><code>eject_nodes</code>.
The nodes that were to be ejected by rebalance.</p>
</li>
<li>
<p><code>delta_nodes</code>.
The nodes on which Delta Recovery was to be performed.</p>
</li>
<li>
<p><code>failed_nodes</code>.
The nodes that were failed over prior to rebalance, and will be ejected from the cluster on successful rebalance.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>master_node</code>.
The master node for the cluster, on which the <em>Master Services</em> run &#8212; these are sometimes referred to as the <em>Orchestrator</em>.
If this node is rebalanced out of the cluster, a new Orchestrator is elected by the Cluster Manager, on a surviving node.
For further information, see <a href="../learn/clusters-and-availability/cluster-manager.html#ns-server" class="xref page">ns-server</a>.</p>
</li>
<li>
<p><code>completionMessage</code>.
A message that signifies the way in which rebalance ended.
For example, <code>"Rebalance completed successfully"</code>, or <code>"Rebalance stopped by user"</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the report is downloaded by means of Couchbase Web Console, additional information in provided, concerning the download.</p>
</div>
<div class="sect2">
<h3 id="standard-fields-example"><a class="anchor" href="#standard-fields-example"></a>Standard Fields Example</h3>
<div class="paragraph">
<p>The following example displays the initial section of a rebalance report, following a rebalance performed on a cluster consisting of the following nodes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>10.143.194.101</code>, running the Data, Query, and Index Services.</p>
</li>
<li>
<p><code>10.143.194.102</code>, running the Data and Search Services.</p>
</li>
<li>
<p><code>10.143.194.103</code>, running the Analytics and Eventing Services.</p>
</li>
<li>
<p><code>10.143.194.104</code>, running the Data Service.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The rebalance follows an edit made to both buckets resident on the cluster, <code>beer-sample</code> and <code>travel-sample</code>, changing the number of replicas from 1 to 2, for each.
This excerpt starts at the top of the structure, and stops at the point at which the Data Service <code>details</code> begin (these are described further below).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
  "stageInfo": {
    "analytics": {
      "totalProgress": 100,
      "perNodeProgress": {
        "ns_1@10.143.194.103": 1
      },
      "startTime": "2020-03-18T00:34:13.415-07:00",
      "completedTime": "2020-03-18T00:34:14.724-07:00",
      "timeTaken": 1310
    },
    "eventing": {
      "totalProgress": 100,
      "perNodeProgress": {
        "ns_1@10.143.194.103": 1
      },
      "startTime": "2020-03-18T00:34:14.724-07:00",
      "completedTime": "2020-03-18T00:34:14.939-07:00",
      "timeTaken": 214
    },
    "search": {
      "totalProgress": 100,
      "perNodeProgress": {
        "ns_1@10.143.194.102": 1,
        "ns_1@10.143.194.104": 1
      },
      "startTime": "2020-03-18T00:34:12.453-07:00",
      "completedTime": "2020-03-18T00:34:12.758-07:00",
      "timeTaken": 306
    },
    "index": {
      "totalProgress": 100,
      "perNodeProgress": {
        "ns_1@10.143.194.101": 1
      },
      "startTime": "2020-03-18T00:34:12.758-07:00",
      "completedTime": "2020-03-18T00:34:13.415-07:00",
      "timeTaken": 656
    },
    "data": {
      "totalProgress": 100,
      "perNodeProgress": {
        "ns_1@10.143.194.101": 1,
        "ns_1@10.143.194.102": 1,
        "ns_1@10.143.194.104": 1
      },
      "startTime": "2020-03-18T00:33:36.969-07:00",
      "completedTime": "2020-03-18T00:34:12.452-07:00",
      "timeTaken": 35483,
      "details": {
        .
        .
        .</pre>
</div>
</div>
<div class="paragraph">
<p>Each service thus has its stage-information provided in an object named after the service.
Progress is provided for the whole cluster, and per node.
Start times and completion times are provided, as are elapsed times.
The Data Service contains the additional object, <code>details</code>, which is described immediately below.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="data-service-details"><a class="anchor" href="#data-service-details"></a>Data Service Details</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>details</code> provided for the Data Service are provided <em>per bucket</em>.
Therefore, if the cluster contains the buckets <code>travel-sample</code> and <code>bucket-sample</code>, the <code>details</code> object provides a correspondingly named structure for each.</p>
</div>
<div class="paragraph">
<p>The structure for each bucket may provide:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>compactionInfo</code>.
Information on compaction, if it is performed for the bucket.
If compaction is not performed, the <code>compactionInfo</code> structure is <em>not</em> provided.
If the <code>compactionInfo</code> structure <em>is</em> provided, it gives the <code>averageTime</code> required for the bucket&#8217;s compaction, <em>per node</em>, in milliseconds.</p>
</li>
<li>
<p><code>vbucketLevelInfo</code>.
Information on the <em>phases</em> whereby the vBuckets were moved during rebalance.
If no vBucket movement occurred, the <code>vbucketLevelInfo</code> structure is <em>not</em> provided.
If the <code>vbucketLevelInfo</code> structure <em>is</em> provided, it includes the following:</p>
<div class="ulist">
<ul>
<li>
<p>Fields that provide the <code>averageTime</code> for the <code>move</code>, <code>backfill</code>, <code>takeover</code>, and <code>persistence</code> phases for the bucket.
For an explanation of these terms, see <a href="../learn/clusters-and-availability/rebalance.html#rebalancing-the-data-service" class="xref page">Rebalance and the Data Service</a>.
Times are provided in milliseconds, to fourteen decimal places.
The <code>totalCount</code> of vBuckets and <code>remainingCount</code> are also provided for the <code>move</code> phase: in a completed report, the <code>remainingCount</code> is expected to be zero.</p>
</li>
<li>
<p><code>vbucketInfo</code>.
Detailed information for each <em>moved</em> vbucket that corresponds to the specified bucket.
Note that vBuckets that were <em>not</em> moved are not included.
The information is as follows:</p>
<div class="ulist">
<ul>
<li>
<p><code>id</code>.
The vBucket id, which is an integer between 0 and 1023 (or on MacOS, between 0 and 63).</p>
</li>
<li>
<p><code>beforeChain</code>.
The <em>chain</em> that this vBucket was part of, prior to rebalance.
Each chain consists of one or more nodes, on each of which was located a vBucket containing an identical set of documents; one of the vBuckets being the <em>active</em> vBucket, and the others (if other nodes are indeed specified) being the <em>replica</em> vBuckets.
The <code>beforeChain</code> is specified as an array of strings, each of which specifies a node; in the form <code>"ns_1@10.143.194.101"</code>.
The first node in the list is the <em>master</em> node, on which was located the active vBucket: any additional nodes in the list each hosted a replica vBucket.</p>
</li>
<li>
<p><code>afterChain</code>
The chain of which this vBucket is a part, following rebalance.</p>
</li>
<li>
<p><code>move</code>.
The <code>startTime</code> and <code>completedTime</code> for the move process that occurred, specified in each case as a UTC date/time string; plus the <code>timeTaken</code> for the move, in milliseconds.</p>
</li>
<li>
<p><code>backfill</code>, <code>takeover</code>, and <code>persistence</code> information, specified in the same way as the <code>move</code> information.</p>
</li>
<li>
<p><code>replicationInfo</code>.
Node status-changes that have occurred due to rebalance.
An object is provided for each node on which the vBucket has been promoted from replica to active, or has received mutations, or has been created.
For each affected node, the <code>node</code> is identified, and its <code>inDocsTotal</code> (number of documents received or mutated) and <code>inDocsLeft</code> (number of documents still to be received or mutated) are specified, as integers.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="data-service-details-example"><a class="anchor" href="#data-service-details-example"></a>Data Service Details Example</h3>
<div class="paragraph">
<p>The following example provides part of the <code>details</code> section from the rebalance report described above, in <a href="#stage-info-standard-field-example">Standard Field Example</a>.
General information is provided on the <code>beer-sample</code> bucket, and specific information for the <code>beer-sample</code> vBucket whose id is <code>0</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"details": {
  "beer-sample": {
    "compactionInfo": {
      "perNode": {
        "ns_1@10.143.194.101": {
          "averageTime": 465.3636363636364
        },
        "ns_1@10.143.194.102": {
          "averageTime": 267
        },
        "ns_1@10.143.194.104": {
          "averageTime": 174.9090909090909
        }
      }
    },
    "vbucketLevelInfo": {
      "move": {
        "averageTime": 4082.2177734375,
        "totalCount": 1024,
        "remainingCount": 0
      },
      "backfill": {
        "averageTime": 80.076171875
      },
      "takeover": {
        "averageTime": 71.41837732160313
      },
      "persistence": {
        "averageTime": 57.41973298599805
      },
      "vbucketInfo": [
        {
          "id": 0,
          "beforeChain": [
            "ns_1@10.143.194.101",
            "ns_1@10.143.194.102"
          ],
          "afterChain": [
            "ns_1@10.143.194.102",
            "ns_1@10.143.194.101",
            "ns_1@10.143.194.104"
          ],
          "move": {
            "startTime": "2020-03-18T00:42:58.748-07:00",
            "completedTime": "2020-03-18T00:43:02.341-07:00",
            "timeTaken": 3593
          },
          "backfill": {
            "startTime": "2020-03-18T00:42:59.446-07:00",
            "completedTime": "2020-03-18T00:42:59.524-07:00",
            "timeTaken": 77
          },
          "takeover": {
          "startTime": "2020-03-18T00:43:01.548-07:00",
          "completedTime": "2020-03-18T00:43:01.571-07:00",
          "timeTaken": 22
        },
        "persistence": {
          "startTime": "2020-03-18T00:43:01.528-07:00",
          "completedTime": "2020-03-18T00:43:01.548-07:00",
          "timeTaken": 21
        },
        "replicationInfo": {
          "ns_1@10.143.194.102": {
            "node": "ns_1@10.143.194.102",
            "inDocsTotal": 0,
            "inDocsLeft": 0
          },
          "ns_1@10.143.194.104": {
            "node": "ns_1@10.143.194.104",
            "inDocsTotal": 9,
            "inDocsLeft": 0
          }
        }
      },
      .
      .
      .</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>compactionInfo</code> object contains the average time taken for compaction <em>per node</em>.
The <code>vbucketLevelInfo</code> object provides an overall <code>averageTime</code> for each phase whereby vBuckets were moved, during rebalance.</p>
</div>
<div class="paragraph">
<p>The <code>vbucketInfo</code> section provides a sequence of objects, one for each vBucket that was moved during rebalance.
In this example, only the first of these (id <code>0</code>) is shown.
The <code>beforeChain</code> indicates that prior to rebalance, the active vBucket resided on node <code>10.143.194.101</code>, with its single replica on node <code>10.143.194.102</code>.
The <code>afterChain</code> indicates that following rebalance, the active vBucket resides on node <code>10.143.194.102</code>, and the two replicas reside on nodes <code>10.143.194.101</code> and <code>10.143.194.104</code> respectively.</p>
</div>
<div class="paragraph">
<p>Date/time strings for <code>startTime</code> and <code>completedTime</code>, and an integer for <code>timeTaken</code>, are provided for each of the move stages for this vBucket.</p>
</div>
<div class="paragraph">
<p>The <code>replicationInfo</code> object shows that <code>10.143.194.192</code> has become the host for the active bucket; with no documents having needed to be moved onto this node &#8212; since they already resided there within a replica vBucket, which was promoted to active during rebalance.
It also shows that <code>9</code> documents were moved onto node <code>10.143.194.104</code> &#8212; since the rebalance process placed an additional replica there, in accordance with the pre-rebalance bucket-reconfiguration.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="see-also"><a class="anchor" href="#see-also"></a>See Also</h2>
<div class="sectionbody">
<div class="paragraph">
<p>General information on rebalance and Data-Service phases is provided in <a href="../learn/clusters-and-availability/rebalance.html" class="xref page">Rebalance</a>.
Information on performing a rebalance and downloading a report by means of Couchbase Web Console is provided in <a href="../manage/manage-nodes/add-node-and-rebalance.html" class="xref page">Add a Node and Rebalance</a>.
Details on obtaining rebalance status and accessing the latest rebalance report by means of the REST API are provided in <a href="../rest-api/rest-get-cluster-tasks.html" class="xref page">Getting Cluster Tasks</a>.</p>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2023 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Server","components":["server"],"url":"/home/server.html","latestVersions":{"server":"7.2"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
