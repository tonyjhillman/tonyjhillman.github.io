<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script>(window.dataLayer=window.dataLayer||[]).push({event:'gtm.js','gtm.start':+new Date()})</script>
<script async src="https://www.googletagmanager.com/gtm.js?id=GTM-MVPNN2"></script>
<title>Import Data | Couchbase Docs</title>
<link rel="canonical" href="https://docs.couchbase.com/cloud/clusters/data-service/import-data-documents.html">
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="Import JSON docs and CSV files, from a local machine or URL.">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="cloud">
<meta name="dcterms.identifier" content="master">
<meta name="page-url" content="/cloud/clusters/data-service/import-data-documents.html">
<meta name="generator" content="Antora 3.0.1">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MVPNN2" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com/home/index.html">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://docs.couchbase.com/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../index.html">
                      Capella
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="2">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/tony.hillman/Documents/CapellaGA/docs/public/modules/clusters/pages/data-service/import-data-documents.adoc" title="Edit Page" target="_blank" rel="noopener" class="remove-ext-icon">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../../index.html">Couchbase Capella</a></li>
<li class="crumb">Data Management</li>
<li class="crumb"><a href="data-service.html">Data Service</a></li>
<li class="crumb"><a href="import-data-documents.html">Import Data</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Import Data</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
Import JSON docs and CSV files, from a local machine or URL.
</blockquote>
</div>
<div class="paragraph">
<p>If you have a dataset in CSV form, or already converted to JSON (list or JSON docs), you can import it to Couchbase Capella from a local file on your laptop&#8201;&#8212;&#8201;or by pointing the import at a remote URL or a file on S3.
This file archive can be zipped up before import.</p>
</div>
<div class="paragraph">
<p>Replication or backup-restore may be easier options if you are migrating to Capella from an on-premises database, but where that&#8217;s not possible then <strong>Import</strong> will give you flexibility over which documents are imported, and key-generation may be an advantage during a migration&#8201;&#8212;&#8201;keys for each document extracted from a CSV row or JSON list flat file can be auto-generated, or you may specify your own generating expression.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="accessing-import-in-the-capella-ui"><a class="anchor" href="#accessing-import-in-the-capella-ui"></a>Accessing Import in the Capella UI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Import tool, a list of previous imports, and sample bucket data are all accessible from an open cluster by clicking <span class="menuseq"><b class="menu">Tools</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Import</b></span>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/tools-import-hosted.png" alt="Import is found under Tools.">
</div>
</div>
<div class="sect2">
<h3 id="import-overview"><a class="anchor" href="#import-overview"></a>Import Overview</h3>
<div class="paragraph">
<p>The <strong>Import</strong> screen is divided into two major sections: <em>Import</em> and <em>Import Sample Data</em>.</p>
</div>
<div id="import-section" class="paragraph">
<div class="title">Import section</div>
<p>At the top of the screen, the <em>Import</em> section provides controls to initiate the import process and lists any previous imports.
You can search this list of imports or filter it to only show imports initiated by your account.
Imports show the destination bucket, the import status, who imported the data, when the data was imported, and the import file name and size.</p>
</div>
<div class="paragraph">
<div class="title">Import Sample Data section</div>
<p>The bottom half of the Import screen includes a selection of sample buckets that you can import into your cluster.
These buckets include example data and indexes for experimentation and testing purposes.
You can import sample data by clicking <b class="button">Import</b> inside the sample description block.
When a sample is imported, the <b class="button">Import</b> button will change to Imported.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="import-data"><a class="anchor" href="#import-data"></a>Import Data</h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Capella does not inspect file contents before the import process
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To import data, click <b class="button">Import</b>.</p>
<div class="paragraph">
<p>This action opens the <strong>Import Documents</strong> flyout menu.</p>
</div>
</li>
<li>
<p>Use the <strong>Bucket</strong> drop-down menu to choose a destination bucket where you want to import your file.</p>
<div class="paragraph">
<p>If you don&#8217;t have the appropriate bucket, you need to <a href="manage-buckets.html#add-bucket" class="xref page">create one</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/flyout-bucket-hosted.png" alt="Choose a destination bucket.">
</div>
</div>
</li>
<li>
<p>Click <b class="button">Next</b>.</p>
</li>
<li>
<p>Choose the file type and format (if applicable).</p>
<div class="paragraph">
<p>You have the option of choosing the JSON or CSV format matching the file that you&#8217;re importing.
If you&#8217;ve chosen the JSON format, you also need to specify the format type.
JSON format types include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Lines</strong>&#8201;&#8212;&#8201;JSON doc on each line.</p>
</li>
<li>
<p><strong>List</strong>&#8201;&#8212;&#8201;List of JSON docs.</p>
</li>
<li>
<p><strong>Archive</strong>&#8201;&#8212;&#8201;Multiple JSON documents in a ZIP file.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Upload file</p>
<div class="paragraph">
<p>You have the option to upload a file from your laptop (<strong>Using your web browser</strong>) or
use a pre-signed URL to manually upload with a custom <code>cURL</code> command (<strong>Manually</strong>).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/flyout-json-hosted.png" alt="Choose JSON or CSV, then specify the file&#8217;s location." width="500">
</div>
</div>
</li>
<li>
<p>Click <b class="button">Next</b> to apply <a href="#collection-mapping">collection mapping</a>.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="collection-mapping"><a class="anchor" href="#collection-mapping"></a>Collection Mapping</h3>
<div class="paragraph">
<p>With the <a href="#import-data">destination bucket and file type set</a>, you need to add your collection mapping.
The import feature provides the option to <strong>Select Single Collection</strong> to import that data to, or <strong>Custom Collection Mapping</strong> using the sort of custom generation also outlined in the <a href="#choose-keys">Choose your Keys</a> section.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Choose which collection documents are inserted into.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><strong>Select Single Collection</strong> (default)</p>
<div class="paragraph">
<p>This option allows you to import all documents in your import file into a single collection.
Choosing the <strong>Select Single Collection</strong> option provides you with drop-down menus to select the scope and collection from the destination bucket.</p>
</div>
</li>
<li>
<p><strong>Custom Collection Mapping</strong></p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Make sure that any desired scope or bucket has already been created in the destination bucket when creating a custom collection mapping expression.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>While choosing a single collection to import your data to is the simplest method, you may need to insert different documents into different collections.
For example, you can use custom collection mapping to import your data to a previously created collection based on a field in a document.
In this case, if we wanted to import a new set of documents to the travel-sample&#8217;s <code>inventory</code> scope, within a collection based on each record&#8217;s <code>type</code> field, we could use the <code>inventory.%type%</code> expression.</p>
</div>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Test collection mapping</p>
<div class="paragraph">
<p>Capella also offers the ability to test your collection mapping to verify that it can be parsed and that it meets your expectations.
To test collection mapping, enter or copy a sample JSON record from your import into the <strong>Test your collection mapping</strong> text area.
The <strong>Generated Collection Mapping Expression per tested record</strong> field will automatically update to show a preview of the collection mapping as it applies to the sample JSON record.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/import-to-cluster-hosted.png" alt="Specify a custom cluster mapping" width="500">
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Click <b class="button">Next</b> to <a href="#choose-keys">choose how to generate keys</a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="choose-keys"><a class="anchor" href="#choose-keys"></a>Choose your Keys</h3>
<div class="paragraph">
<p>After <a href="#collection-mapping">adding your collection mapping</a>, you must add your key generator.
Import offers many options for custom key generation.
By default, it will automatically generate UUIDs for each JSON document in your file, but you have the option to generate custom keys.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Choose how to generate a key name.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><strong>Automatically Generated UUIDs</strong></p>
<div class="paragraph">
<p>This is the default option.</p>
</div>
</li>
<li>
<p><strong>Custom Generation</strong></p>
<div class="paragraph">
<p>To generate custom keys, you can use a combination of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Characters (any combination of ASCII characters).</p>
</li>
<li>
<p>The values from a given field in the JSON document.
Wrap the field name in <code>%</code>, e.g.&#8201;&#8212;&#8201;<code>%insurance_number%</code>.
Nested field names should be separated by dots&#8201;&#8212;&#8201;<code>key::%name.full.name%</code>.</p>
</li>
<li>
<p>Custom generators, wrapped in <code>&#x23;</code>, e.g. <code>&#x23;MONO_INCR&#x23;</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Copy or enter a JSON record from your data import into the <strong>Test your key name expression</strong> text area.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you enter the custom generator expression before adding a sample JSON record, the test may fail.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Enter a custom generator expression into the <strong>Key Name Generator Expression</strong> field.</p>
<div class="paragraph">
<p>While there is some validation to check that expressions can be parsed, Capella also offers the ability to test your key name expression to verify that it meets your expectations.
The <strong>Generated Key Name Expression per tested record</strong> field will automatically update to show a preview of the collection mapping as it applies to the sample JSON record.
For example, if we were to enter <code>&#x23;MONO_INCR&#x23;</code> based on a document&#8217;s <code>type</code> field, it will produce <code>airline::1</code>.
As <code>MONO_INCR</code> was used, the number counter starts with <code>1</code> and increments for subsequent records.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/flyout-generator-hosted.png" alt="Choose how to generate a key name" width="500">
</div>
</div>
<div id="custom-generators" class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The following two functions can be used along with the characters and field values used to generate custom key names:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&#x23;MONO_INCR&#x23;</code>&#8201;&#8212;&#8201;integer, incremented by one for each document in the file archive, and starting at <code>1</code>.</p>
</li>
<li>
<p><code>&#x23;UUID&#x23;</code>&#8201;&#8212;&#8201;A generated <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier" target="_blank" rel="noopener">Universally Unique IDentifier</a>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Click <b class="button">Next</b> to apply various <a href="#configurations">configurations</a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configurations"><a class="anchor" href="#configurations"></a>Configurations</h3>
<div class="paragraph">
<p>Now that you have <a href="#choose-keys">added your key generator</a>, you have a range of configuration options to choose from.
These configuration options control which parts of an archive are imported.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>Review the available configuration options for the file type that you are importing.
Toggle any options that you want to apply to your import.</p>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_json"></a>JSON</p>
</li>
<li>
<p><a id="tabset1_csv"></a>CSV</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_json">
<div class="ulist">
<ul>
<li>
<p><strong>Skip Documents</strong>&#8201;&#8212;&#8201;By default, all documents are loaded.
Setting this option allows some documents to be skipped before the importation stage.
When enabled, a field is shown where you must enter the number of documents to skip before the import starts.</p>
</li>
<li>
<p><strong>Limit Documents</strong>&#8201;&#8212;&#8201;Stop loading after a certain number of documents.
This can be used for partially loading large datasets.
When enabled, a field is shown where you must enter the number of documents to import.</p>
</li>
<li>
<p><strong>Ignore Fields</strong>&#8201;&#8212;&#8201;Omit named fields from the uploaded documents.
Use this in conjunction with the <code>%field_name%</code> part of the custom generator to take out a document key from a field in a document&#8201;&#8212;&#8201;removing it from the body of the document, and placing it in the key name.
When enabled, a field is shown where you must specify a comma-separated list of field names to exclude from the import.</p>
</li>
</ul>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_csv">
<div class="ulist">
<ul>
<li>
<p><strong>Skip Documents</strong>&#8201;&#8212;&#8201;By default, all documents are loaded.
Setting this option allows some documents to be skipped before importation stage.
When enabled, a field is shown where you must enter the number of documents to skip before the import starts.</p>
</li>
<li>
<p><strong>Limit Documents</strong>&#8201;&#8212;&#8201;Stop loading after a certain number of documents.
This can be used for partially loading large datasets.
When enabled, a field is shown where you must enter the number of documents to import.</p>
</li>
<li>
<p><strong>Ignore Fields</strong>&#8201;&#8212;&#8201;Omit named fields from the uploaded documents.
Use this in conjunction with the <code>%field_name%</code> part of the custom generator to take out a document key from a field in a document&#8201;&#8212;&#8201;removing it from the body of the document, and placing it in the key name.
When enabled, a field is shown where you must specify a comma-separated list of field names to exclude from the import.</p>
</li>
<li>
<p><strong>Infer Field Types</strong>&#8201;&#8212;&#8201;All values in a CSV are interpreted as strings by default.
Setting this option will cause the Import tool to look at each value and decide if it&#8217;s a string, integer, or boolean value and put the inferred field type into the document.</p>
</li>
<li>
<p><strong>Omit Empty Fields</strong>&#8201;&#8212;&#8201;Rows in the CSV file which do not contain data are stored as empty strings in the JSON doc.
Setting this option will omit these fields from the uploaded document.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Click <b class="button">Next</b> to <a href="#review">review</a> the details of your import.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="review"><a class="anchor" href="#review"></a>Review</h3>
<div class="paragraph">
<p>With the import&#8217;s <a href="#configurations">configuration options</a> set, you have the chance to review the details of your import.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="13">
<li>
<p>Verify that the details of your import match your requirements.</p>
<div class="paragraph">
<p>Several <a href="#configurations">configurations</a> are available, to skip or alter the documents uploaded.
If you need to make any changes, click the <b class="button">Back</b> button to return to the previous stage of the import.
Alternatively, at the top of the fly-out menu, click the tab of the import stage that you want to return to.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You cannot close the flyout and come back to the same step by reopening the flyout menu.
All of the steps for the import process must be completed in one UI session.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/flyout-review-hosted.png" alt="Review the import settings." width="500">
</div>
</div>
</li>
<li>
<p>After reviewing the details of your import, click <b class="button">Import</b>.</p>
<div class="paragraph">
<p>The Import tool will start the process of importing your data.
You can track the progress of this process using the tool&#8217;s <a href="#import-status">import status</a> information.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="import-status"><a class="anchor" href="#import-status"></a>Import Status</h3>
<div class="paragraph">
<p>The <strong>Import Documents</strong> flyout menu remains open to show the status of the import.
Feel free to navigate away from this menu to other tasks&#8201;&#8212;&#8201;the status of imports is also shown on the <span class="menuseq"><b class="menu">Tools</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Import</b></span> screen&#8217;s <a href="#import-section">import section</a>.
Once an import is successful, its status changes from <em>In Progress</em> to <em>Completed</em>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/import-status.png" alt="The `In Progress` status of an import">
</div>
</div>
<div class="paragraph">
<p>Clicking on the name of the destination bucket for an import listed in the Import section opens the <strong>Import Documents</strong> flyout menu.
This menu shows an import summary which includes the number of imported and failed documents, collection mapping, key name, and any ignored fields.</p>
</div>
<div class="paragraph">
<p>The listing for your import in the Import section also includes a link to down the import&#8217;s <em>Records Log</em>.
This is found by clicking the <strong>More options</strong> (<span class="icon"><i class="fa fa-ellipsis-v"></i></span>) button on the same line as the import that you are working with and clicking <b class="button">Download Log File</b>.</p>
</div>
<div class="paragraph">
<p>Import logs are retained for seven days.
An option to delete import logs before this period elapses is available under the <strong>More options</strong> (<span class="icon"><i class="fa fa-ellipsis-v"></i></span>) button.</p>
</div>
</div>
<div class="sect2">
<h3 id="further-reading"><a class="anchor" href="#further-reading"></a>Further Reading</h3>
<div class="paragraph">
<p>The Import tool loads data into a bucket on your cluster.
If you wish to <em>restore</em> a bucket of data, refer to the <a href="../manage-restore.html#restore-bucket" class="xref page">Restore a Bucket</a> page.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="import-data-with-couchbase-capella-in-own-vpc"><a class="anchor" href="#import-data-with-couchbase-capella-in-own-vpc"></a>Import Data with Couchbase Capella in Own VPC</h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This information is for anyone still using Couchbase Server 6.6, hosted in their own cloud provider&#8217;s VPC.
It does not apply to Couchbase 7.0, hosted in Couchbase&#8217;s VPC and fully managed for you.</p>
</div>
<div class="paragraph">
<p>For further information <a href="https://www.couchbase.com/products/capella">contact Couchbase</a>.</p>
</div>
<div class="paragraph">
<p>The easiest way to get started with Capella, our fully managed DBaaS, is <a href="../../get-started/get-started.html" class="xref page">hosting in Couchbase&#8217;s Cloud</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="the-import-screen"><a class="anchor" href="#the-import-screen"></a>The Import Screen</h3>
<div class="paragraph">
<p>Navigate to the <strong class="ui">Tools</strong> tab under <strong class="ui">Clusters</strong>, and you&#8217;ll find the <strong class="ui">Import</strong> button.
<span class="image"><img src="../_images/tools-import.png" alt="Import is found under Tools."></span></p>
</div>
<div class="paragraph">
<p>Selecting this will open the <strong class="ui">Import</strong> flyout, and allow you to select a bucket, into which to import your file (if you don&#8217;t have the appropriate bucket, you&#8217;ll need to <a href="manage-buckets.html#add-bucket" class="xref page">create one</a>).
<span class="image"><img src="../_images/flyout-bucket.png" alt="Choose a new or existing bucket."></span></p>
</div>
<div class="paragraph">
<p>Here you can choose JSON or CSV format, and specify a pre-signed URL to manually upload with a custom <code>cURL</code> command, or upload a file from your laptop.
<span class="image"><img src="../_images/flyout-json.png" alt="Choose JSON or CSV, then specify the file&#8217;s location."></span></p>
</div>
</div>
<div class="sect2">
<h3 id="choose-your-keys"><a class="anchor" href="#choose-your-keys"></a>Choose your Keys</h3>
<div class="paragraph">
<p>Import offers many options for custom key generation, but defaults to using automatically-generated UUIDs for each JSON document in your file.
For custom keys, you can use a combination of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Characters (any combination of ASCII characters).</p>
</li>
<li>
<p>The values from a given field in the JSON document.
Wrap the field name in <code>%</code>, e.g.&#8201;&#8212;&#8201;<code>%insurance_number%</code>.
Nested field names should be separated by dots&#8201;&#8212;&#8201;<code>key::%name.full.name%</code>.</p>
</li>
<li>
<p>Custom generators, wrapped in <code>&#x23;</code>, e.g. <code>&#x23;MONO_INCR&#x23;</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Entering a custom generator expression will result in a prompt to test it with a representative sample of your JSON data.
<span class="image"><img src="../_images/flyout-generator.png" alt=""></span></p>
</div>
<div class="paragraph">
<p><code>&#x23;MONO_INCR&#x23;</code> will simply toggle a number counter, starting at <code>1</code>.
In the pictured example, above, <code>%type%::#MONO_INCR#</code> produces the document&#8217;s <code>type</code> field, two colon separators, and the number <code>1</code> (which would be incremented for subsequent records).
For a list of custom generators, see <a href="#custom-generators">below</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="review-2"><a class="anchor" href="#review-2"></a>Review</h3>
<div class="paragraph">
<p>A range of <a href="#field-document-options">options</a> are available, to skip or alter the documents uploaded.
Having selected some or none of them, you have a chance to review the details of your import.
<span class="image"><img src="../_images/flyout-review.png" alt="Review the import settings."></span>
Add e-mail addresses here to receive a report on the import.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You cannot close the flyout and come back to the same step by reopening.
All of the steps for the import process must be completed in one UI session.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="progress-report"><a class="anchor" href="#progress-report"></a>Progress Report</h3>
<div class="paragraph">
<p>The screen will show upload status, but feel free to navigate away to other tasks&#8201;&#8212;&#8201;the status of imports can also be seen on the <strong class="ui">Tools</strong> tab of the <strong class="ui">Clusters</strong> page.
You will see a link to download the import&#8217;s <em>Records Log</em>.</p>
</div>
<div class="paragraph">
<p>Logs can be accessed afterwards in the UI, and are retained for seven days.</p>
</div>
</div>
<div class="sect2">
<h3 id="options"><a class="anchor" href="#options"></a>Options</h3>
<div class="paragraph">
<p>Options chosen during the import process are listed here for reference.
You will also find explanations for each field in tooltips, as you follow the steps in the <em>Import Tool&#8217;s</em> interface.</p>
</div>
<div class="sect3">
<h4 id="field-document-options"><a class="anchor" href="#field-document-options"></a>Field &amp; Document Options</h4>
<div class="paragraph">
<p>The following options are available, which modify which parts of an archive are imported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Skip Documents</strong>&#8201;&#8212;&#8201;By default, all documents are loaded; set this to allow some to be skipped before importation stage.</p>
</li>
<li>
<p><strong>Limit Documents</strong>&#8201;&#8212;&#8201;Stop loading after a certain number of documents.
This can be used for partially loading large datasets.</p>
</li>
<li>
<p><strong>Ignore Fields</strong>&#8201;&#8212;&#8201;Omit named fields from the uploaded documents.
Use this in conjunction with the <code>%field_name%</code> part of the custom generator to take out a document key from a field in a document&#8201;&#8212;&#8201;removing it from the body of the document, and placing it in the key name.</p>
</li>
<li>
<p><strong>Ignore Field Types</strong>&#8201;&#8212;&#8201;All fields will be interpreted by default as strings.
Set this flag to get the tool to infer whether the field values are strings, or are integers of boolean values.</p>
</li>
<li>
<p><strong>Omit Empty Fields</strong>&#8201;&#8212;&#8201;Rows in the CSV file which do not contain data are stored as empty strings in the JSON doc.
Setting this flag will omit these fields from the uploaded document.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="custom-generators-2"><a class="anchor" href="#custom-generators-2"></a>Custom Generators</h4>
<div class="paragraph">
<p>The following two functions can be used along with the characters and field values used to generate custom key names:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&#x23;MONO_INCR&#x23;</code>&#8201;&#8212;&#8201;integer, incremented by one for each document in the file archive, and starting at <code>1</code>.</p>
</li>
<li>
<p><code>&#x23;UUID&#x23;</code>&#8201;&#8212;&#8201;A generated <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier" target="_blank" rel="noopener">Universally Unique IDentifier</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="further-reading-2"><a class="anchor" href="#further-reading-2"></a>Further Reading</h3>
<div class="paragraph">
<p>The import tool loads data into a bucket on your Cloud cluster.
If you wish to restore a whole <em>Cluster</em> of bucket data, refer to the <a href="../manage-restore.html#restore-invpc" class="xref page">Restore a Backup in Own VPC</a> page.</p>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span>© 2022 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site-navigation-data.js"></script>
<script id="page-navigation-group" type="application/json">
{"title":"Capella","components":["cloud"],"url":"/cloud/index.html","latestVersions":{"cloud":"master"}}
</script>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../../_/js/site.js"></script>
<script defer src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
